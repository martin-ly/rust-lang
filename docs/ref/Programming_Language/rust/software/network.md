# 底层网络开源库

下面介绍几种 Rust 生态中常见的底层网络开源库，
这些库从不同角度提供了对操作系统网络 I/O、原始 socket 及协议栈等底层功能的支持，
开发者可以根据实际需求进行选用和集成。

---

## 1. Mio

- **简介**：  
  Mio（Metal I/O）是一个低级、非阻塞 I/O 库，它为不同平台上的 I/O 多路复用（如 Linux 的 epoll、BSD/OSX 的 kqueue、Windows 的 IOCP）提供了统一的抽象接口。  
- **主要特点**：  
  - 高性能、低开销的事件循环模型  
  - 作为 Tokio 等高级异步运行时的底层组件  
  - 提供注册事件、处理可读/可写通知的基本功能  
- **应用场景**：  
  构建自定义、基于事件驱动的网络服务或作为异步运行时的基础组件。

---

## 2. Socket2

- **简介**：  
  Socket2 是对 Rust 标准库中 `std::net` 模块的扩展，提供了更丰富的 socket 操作接口和更底层的控制。  
- **主要特点**：  
  - 封装了对 socket 选项设置、非阻塞配置等更底层的 API  
  - 相较于旧版的 `net2`，提供了更现代、易用的接口  
  - 增强了类型安全性和平台兼容支持  
- **应用场景**：  
  当需要设置特殊的 socket 选项或进行低级网络操作时，Socket2 是一种理想的辅助工具。

---

## 3. Smoltcp

- **简介**：  
  Smoltcp 是用 Rust 编写的轻量级 TCP/IP 协议栈，专为嵌入式、裸机或实时系统设计。它独立于操作系统，支持 no-std 环境。  
- **主要特点**：  
  - 纯 Rust 实现的 TCP/IP 协议栈  
  - 小巧、快速，适合资源受限的环境  
  - 提供了简单易用的 API 来处理网络协议细节  
- **应用场景**：  
  常用于嵌入式开发、物联网设备或需要自主实现网络协议栈的场景。

---

## 4. Pnet（libpnet）

- **简介**：  
  Pnet（也称为 libpnet）是一个跨平台的低级网络数据包处理库，专注于原始数据包的构造、解析和传输。  
- **主要特点**：  
  - 支持捕获、分析和构造原始网络数据包  
  - 提供协议解析器和封包构造工具，便于开发自定义网络工具  
  - 跨平台支持（Linux、Windows、macOS）  
- **应用场景**：  
  适用于网络嗅探、入侵检测系统、流量分析及其他需要访问数据链路层的任务。

---

## 小结

Rust 的底层网络库各有侧重：

- **Mio** 提供事件循环和非阻塞 I/O 的统一抽象，是许多高级异步库（如 Tokio）的基础；
- **Socket2** 则扩展了标准库网络接口，便于进行更精细的 socket 配置；
- **Smoltcp** 是一个独立的 TCP/IP 协议栈，适用于嵌入式和 no-std 开发环境；
- **Pnet** 则专注于原始数据包处理，为构建网络分析和安全工具提供支持。

根据项目需求和运行环境，开发者可以选择合适的库，构建高性能、底层定制化的网络应用。

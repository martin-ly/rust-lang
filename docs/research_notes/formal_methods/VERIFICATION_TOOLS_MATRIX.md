# Rust å½¢å¼åŒ–éªŒè¯å·¥å…·å¯¹æ¯”çŸ©é˜µ

> **æ–‡æ¡£çŠ¶æ€**: ç ”ç©¶ç¬”è®° - æŒç»­æ›´æ–°  
> **æœ€åæ›´æ–°**: 2026-02-21  
> **å…³è”æ–‡æ¡£**: [å½¢å¼åŒ–æ–¹æ³•ç ”ç©¶ç´¢å¼•](./INDEX.md) | [è¯æ˜åŠ©æ‰‹å¯¹æ¯”](./PROOF_ASSISTANTS.md)

---

## ğŸ“Š å·¥å…·å¯¹æ¯”æ€»è§ˆ

| å·¥å…· | éªŒè¯æ–¹æ³• | å†…å­˜å®‰å…¨ | åŠŸèƒ½æ­£ç¡®æ€§ | å¹¶å‘æ”¯æŒ | unsafeæ”¯æŒ | å­¦ä¹ æ›²çº¿ | æˆç†Ÿåº¦ |
|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
| RustBelt | åˆ†ç¦»é€»è¾‘(Iris) | â­â­â­ | â­â­ | â­â­â­ | â­â­â­ | é™¡å³­ | ç ”ç©¶çº§ |
| Aeneas | ç‰¹å¾åŒ–ç¿»è¯‘ | â­â­â­ | â­â­â­ | â­ | â­ | ä¸­ç­‰ | å¿«é€Ÿå‘å±• |
| Kani | æ¨¡å‹æ£€æµ‹ | â­â­â­ | â­â­ | â­ | â­â­ | å¹³ç¼“ | ç”Ÿäº§å¯ç”¨ |
| Prusti | SMT/Viper | â­â­â­ | â­â­â­ | â­ | â­ | ä¸­ç­‰ | ç»´æŠ¤ä¸­ |
| Creusot | Why3/SMT | â­â­â­ | â­â­â­ | â­ | â­ | ä¸­ç­‰ | æ´»è·ƒå¼€å‘ |
| Verus | SMT+çº¿æ€§ç±»å‹ | â­â­â­ | â­â­â­ | â­â­ | â­â­ | ä¸­ç­‰ | å¿«é€Ÿå‘å±• |
| Flux | ç»†åŒ–ç±»å‹ | â­â­ | â­â­ | â­ | â­ | å¹³ç¼“ | å®éªŒæ€§ |

---

## ğŸ”¬ å·¥å…·è¯¦ç»†åˆ†æ

### 1. RustBelt (Iris/Coq)

#### åŸºæœ¬ä¿¡æ¯
- **å®˜æ–¹é“¾æ¥**: https://gitlab.mpi-sws.org/iris/lambda-rust
- **è®ºæ–‡**: [RustBelt: Securing the Foundations of the Rust Programming Language](https://people.mpi-sws.org/~jung/papers/dreyer-jung-etal-popl18.pdf) (POPL'18)
- **ç»´æŠ¤æ–¹**: MPI-SWS (Max Planck Institute)
- **è®¸å¯è¯**: BSD-3-Clause

#### éªŒè¯æ–¹æ³•
- **ç†è®ºåŸºç¡€**: åˆ†ç¦»é€»è¾‘ (Separation Logic) + Iris æ¡†æ¶
- **è¯æ˜åŠ©æ‰‹**: Coq
- **éªŒè¯å±‚çº§**: å½¢å¼åŒ–è¯­ä¹‰çº§åˆ«ï¼ˆæ“ä½œè¯­ä¹‰ + é€»è¾‘å…³ç³»ï¼‰
- **æ ¸å¿ƒæ€æƒ³**: é€šè¿‡ Iris åè®®éªŒè¯ unsafe ä»£ç çš„å†…å­˜å®‰å…¨æ€§

#### èƒ½åŠ›çŸ©é˜µ
| ç»´åº¦ | è¯„çº§ | è¯´æ˜ |
|-----|-----|------|
| å†…å­˜å®‰å…¨ | â­â­â­ | æ ¸å¿ƒä¼˜åŠ¿ï¼Œå¯éªŒè¯è‡ªå®šä¹‰ unsafe æŠ½è±¡ |
| åŠŸèƒ½æ­£ç¡®æ€§ | â­â­ | æ”¯æŒï¼Œä½†éœ€å¤§é‡äººå·¥è¯æ˜ |
| å¹¶å‘éªŒè¯ | â­â­â­ | åŸºäº Iris çš„å¹¶å‘åˆ†ç¦»é€»è¾‘å¼ºå¤§ |
| unsafeæ”¯æŒ | â­â­â­ | ä¸“ä¸ºéªŒè¯ unsafe ä»£ç è®¾è®¡ |

#### å¿«é€Ÿå¼€å§‹ç¤ºä¾‹
```coq
(* RustBelt éªŒè¯ç¤ºä¾‹ï¼šéªŒè¯è‡ªå®šä¹‰æ™ºèƒ½æŒ‡é’ˆ *)
From iris.program_logic Require Import weakestpre.
From iris.heap_lang Require Import lang proofmode notation.

Lemma safe_drop : âˆ€ (ptr: loc), 
  {{{ ptr â†¦ #0 }}} 
    drop ptr 
  {{{ RET #(); True }}}.
Proof.
  iIntros (Î¦) "Hptr HÎ¦".
  wp_lam. wp_load. wp_store. by iApply "HÎ¦".
Qed.
```

#### é€‚ç”¨åœºæ™¯
- éªŒè¯æ ¸å¿ƒ unsafe åŸè¯­çš„æ­£ç¡®æ€§
- å½¢å¼åŒ–è¯­ä¹‰ç ”ç©¶
- æ„å»ºå¯éªŒè¯çš„å¹¶å‘æ•°æ®ç»“æ„
- å­¦æœ¯ç ”ç©¶å’Œé«˜å¯ä¿¡åº¦ç³»ç»Ÿ

#### é™åˆ¶æ¡ä»¶
- âš ï¸ å­¦ä¹ æ›²çº¿æå…¶é™¡å³­ï¼ˆéœ€æŒæ¡ Coq + Iris + åˆ†ç¦»é€»è¾‘ï¼‰
- âš ï¸ éªŒè¯è¿‡ç¨‹è€—æ—¶ï¼Œä¸é€‚åˆå¤§è§„æ¨¡ä»£ç 
- âš ï¸ éœ€è¦æ‰‹åŠ¨å°† Rust ä»£ç ç¿»è¯‘æˆ Iris è¯­è¨€
- âš ï¸ æ— æ³•ç›´æ¥éªŒè¯çœŸå® Rust ä»£ç 

---

### 2. Aeneas (Charon/Lean/Coq)

#### åŸºæœ¬ä¿¡æ¯
- **å®˜æ–¹é“¾æ¥**: https://github.com/AeneasVerif/aeneas
- **æ–‡æ¡£**: https://aeneas-verif.github.io/
- **è®ºæ–‡**: [Aeneas: Rust Verification by Functional Translation](https://arxiv.org/abs/2206.07185) (ICFP'22)
- **ç»´æŠ¤æ–¹**: Inria, Microsoft Research
- **è®¸å¯è¯**: Apache-2.0

#### éªŒè¯æ–¹æ³•
- **ç†è®ºåŸºç¡€**: ç‰¹å¾åŒ–ç¿»è¯‘ (Characteristic Translation)
- **è¯æ˜åŠ©æ‰‹**: Lean 4 / Coq / F*
- **éªŒè¯å±‚çº§**: æºç çº§ï¼ˆé€šè¿‡ Charon å‰ç«¯ï¼‰
- **æ ¸å¿ƒæ€æƒ³**: å°† Rust çš„å€Ÿç”¨æ£€æŸ¥ç¼–è¯‘ä¸ºçº¯å‡½æ•°å¼ç¨‹åº

#### èƒ½åŠ›çŸ©é˜µ
| ç»´åº¦ | è¯„çº§ | è¯´æ˜ |
|-----|-----|------|
| å†…å­˜å®‰å…¨ | â­â­â­ | å€Ÿç”¨æ£€æŸ¥ä¿è¯ï¼Œç¿»è¯‘åä¿ç•™ |
| åŠŸèƒ½æ­£ç¡®æ€§ | â­â­â­ | ç¿»è¯‘åˆ°è¯æ˜åŠ©æ‰‹éªŒè¯ä»»æ„å±æ€§ |
| å¹¶å‘éªŒè¯ | â­ | å½“å‰æ”¯æŒæœ‰é™ |
| unsafeæ”¯æŒ | â­ | ä¸æ”¯æŒ unsafe ä»£ç  |

#### å¿«é€Ÿå¼€å§‹ç¤ºä¾‹
```rust
// Rust æºç 
fn sum(s: &mut Vec<u32>) -> u32 {
    let mut sum = 0;
    while !s.is_empty() {
        sum += s.pop().unwrap();
    }
    sum
}
```

```lean4
-- Lean 4 éªŒè¯ï¼ˆAeneas ç”Ÿæˆï¼‰
def sum (s : Vec U32) : Result (U32 Ã— Vec U32) :=
  let rec loop (s : Vec U32) (sum : U32) : Result (U32 Ã— Vec U32) :=
    if s.is_empty then ok (sum, s)
    else do
      let (x, s) â† s.pop
      let sum â† sum + x
      loop s sum
  loop s 0#u32

-- è¯æ˜ sum è¿”å›æ­£ç¡®çš„ç´¯åŠ å€¼
theorem sum_spec (s : Vec U32) : 
  sum s = ok (List.sum s.val, []) := by
  sorry -- å®é™…è¯æ˜åœ¨æ­¤å±•å¼€
```

#### é€‚ç”¨åœºæ™¯
- éªŒè¯çº¯å‡½æ•°å¼é£æ ¼çš„ Rust ç®—æ³•
- æ•™è‚²å’Œå­¦ä¹ å½¢å¼åŒ–éªŒè¯
- éœ€è¦é«˜å¯ä¿¡åº¦çš„ä¸šåŠ¡é€»è¾‘
- ä¸ Lean ç”Ÿæ€é›†æˆ

#### é™åˆ¶æ¡ä»¶
- âš ï¸ ä¸æ”¯æŒ unsafe ä»£ç 
- âš ï¸ å¹¶å‘æ”¯æŒä»åœ¨å¼€å‘ä¸­
- âš ï¸ å¤æ‚çš„ç”Ÿå‘½å‘¨æœŸå¯èƒ½ç¿»è¯‘å¤±è´¥
- âš ï¸ éœ€è¦å­¦ä¹ ç›®æ ‡è¯æ˜åŠ©æ‰‹

---

### 3. Kani (Model Checking)

#### åŸºæœ¬ä¿¡æ¯
- **å®˜æ–¹é“¾æ¥**: https://github.com/model-checking/kani
- **æ–‡æ¡£**: https://model-checking.github.io/kani/
- **ç»´æŠ¤æ–¹**: Amazon AWS
- **è®¸å¯è¯**: Apache-2.0/MIT

#### éªŒè¯æ–¹æ³•
- **ç†è®ºåŸºç¡€**: æœ‰ç•Œæ¨¡å‹æ£€æµ‹ (Bounded Model Checking)
- **åç«¯**: CBMC (C Bounded Model Checker)
- **éªŒè¯å±‚çº§**: æºç çº§ï¼ˆç›´æ¥éªŒè¯ MIRï¼‰
- **æ ¸å¿ƒæ€æƒ³**: ç¬¦å·æ‰§è¡Œ + SAT/SMT æ±‚è§£

#### èƒ½åŠ›çŸ©é˜µ
| ç»´åº¦ | è¯„çº§ | è¯´æ˜ |
|-----|-----|------|
| å†…å­˜å®‰å…¨ | â­â­â­ | è‡ªåŠ¨æ£€æµ‹è¶Šç•Œã€ç©ºæŒ‡é’ˆç­‰ |
| åŠŸèƒ½æ­£ç¡®æ€§ | â­â­ | æ”¯æŒæ–­è¨€éªŒè¯ï¼Œä½†å—é™äºè·¯å¾„çˆ†ç‚¸ |
| å¹¶å‘éªŒè¯ | â­ | æ”¯æŒä½†çŠ¶æ€ç©ºé—´çˆ†ç‚¸ä¸¥é‡ |
| unsafeæ”¯æŒ | â­â­ | æ”¯æŒï¼Œä½†å¯èƒ½è¯¯æŠ¥ |

#### å¿«é€Ÿå¼€å§‹ç¤ºä¾‹
```rust
// å®‰è£…: cargo install --locked kani-verifier
// åˆå§‹åŒ–: cargo kani setup

#[cfg(kani)]
mod verification {
    use super::*;

    #[kani::proof]
    fn verify_bounded_add() {
        let a: u32 = kani::any();
        let b: u32 = kani::any();
        
        // å‡è®¾è¾“å…¥æœ‰ç•Œ
        kani::assume(a < 1000);
        kani::assume(b < 1000);
        
        let result = a + b;
        
        // éªŒè¯å±æ€§
        assert!(result >= a);
        assert!(result >= b);
    }
    
    #[kani::proof]
    fn verify_no_panic() {
        let v = vec![1, 2, 3];
        let idx: usize = kani::any();
        kani::assume(idx < v.len());
        let _ = v[idx]; // è¯æ˜ä¸ä¼š panic
    }
}
```

#### é€‚ç”¨åœºæ™¯
- å¿«é€ŸéªŒè¯ unsafe ä»£ç çš„å†…å­˜å®‰å…¨
- æ£€æµ‹è¾¹ç•Œæ¡ä»¶å’Œæº¢å‡º
- CI/CD ä¸­çš„è‡ªåŠ¨åŒ–éªŒè¯
- å›å½’æµ‹è¯•ï¼ˆè¯æ˜ä¸ä¼š panicï¼‰

#### é™åˆ¶æ¡ä»¶
- âš ï¸ çŠ¶æ€ç©ºé—´çˆ†ç‚¸é—®é¢˜ï¼ˆéœ€è®¾ç½®åˆç†çš„ kani::unrollï¼‰
- âš ï¸ æµ®ç‚¹æ•°æ”¯æŒæœ‰é™
- âš ï¸ å¤–éƒ¨å‡½æ•°éœ€è¦ stub
- âš ï¸ å¤§å‹å¾ªç¯éœ€è¦æ‰‹åŠ¨å±•å¼€æ³¨è§£

---

### 4. Prusti (Viper/SMT)

#### åŸºæœ¬ä¿¡æ¯
- **å®˜æ–¹é“¾æ¥**: https://github.com/viperproject/prusti-dev
- **æ–‡æ¡£**: https://viperproject.github.io/prusti-dev/
- **è®ºæ–‡**: [Prusti: A Verifier for Rust](https://www.pm.inf.ethz.ch/publications/getpdf.php?bibname=Own&id=MuellerKirisameSummers22.pdf)
- **ç»´æŠ¤æ–¹**: ETH Zurich (Viper Project)
- **è®¸å¯è¯**: MPL-2.0

#### éªŒè¯æ–¹æ³•
- **ç†è®ºåŸºç¡€**: åˆ†ç¦»é€»è¾‘ + SMT
- **åç«¯**: Viper éªŒè¯æ¡†æ¶
- **éªŒè¯å±‚çº§**: æºç çº§ï¼ˆé€šè¿‡ MIRï¼‰
- **æ ¸å¿ƒæ€æƒ³**: åŸºäºå¥‘çº¦çš„éªŒè¯ï¼Œåˆ©ç”¨ Rust æ‰€æœ‰æƒä¿¡æ¯

#### èƒ½åŠ›çŸ©é˜µ
| ç»´åº¦ | è¯„çº§ | è¯´æ˜ |
|-----|-----|------|
| å†…å­˜å®‰å…¨ | â­â­â­ | è‡ªåŠ¨éªŒè¯ï¼ŒåŸºäºæ‰€æœ‰æƒ |
| åŠŸèƒ½æ­£ç¡®æ€§ | â­â­â­ | å¼ºå¤§çš„å‰ç½®/åç½®æ¡ä»¶æ”¯æŒ |
| å¹¶å‘éªŒè¯ | â­ | åŸºæœ¬æ”¯æŒ |
| unsafeæ”¯æŒ | â­ | éå¸¸æœ‰é™ |

#### å¿«é€Ÿå¼€å§‹ç¤ºä¾‹
```rust
// å®‰è£…: rustup component add prusti

use prusti_contracts::*;

#[ensures(result >= a && result >= b)]
#[ensures(result == a || result == b)]
fn max(a: i32, b: i32) -> i32 {
    if a >= b { a } else { b }
}

#[requires(n >= 0)]
#[ensures(result == n * (n + 1) / 2)]
fn sum_to(n: i32) -> i32 {
    let mut i = 0;
    let mut sum = 0;
    
    while i < n {
        body_invariant!(sum == i * (i + 1) / 2);
        body_invariant!(i < n);
        sum += i + 1;
        i += 1;
    }
    
    sum
}
```

#### é€‚ç”¨åœºæ™¯
- éªŒè¯ç®—æ³•æ­£ç¡®æ€§
- æ•™å­¦å½¢å¼åŒ–æ–¹æ³•
- éœ€è¦ç²¾ç¡®è§„æ ¼çš„åœºæ™¯
- ä¸ Viper ç”Ÿæ€é›†æˆ

#### é™åˆ¶æ¡ä»¶
- âš ï¸ å¼€å‘ç»´æŠ¤çŠ¶æ€ä¸ç¨³å®š
- âš ï¸ ä¸æ”¯æŒæ³›å‹ trait æ–¹æ³•
- âš ï¸ å¾ªç¯éœ€è¦æ‰‹åŠ¨æ ‡æ³¨ä¸å˜å¼
- âš ï¸ ç¼–è¯‘æ—¶é—´è¾ƒæ…¢

---

### 5. Creusot (Why3)

#### åŸºæœ¬ä¿¡æ¯
- **å®˜æ–¹é“¾æ¥**: https://github.com/creusot-rs/creusot
- **æ–‡æ¡£**: https://creusot-rs.github.io/
- **è®ºæ–‡**: [Creusot: A Foundry for the Verification of Rust Programs](https://arxiv.org/abs/2306.05776)
- **ç»´æŠ¤æ–¹**: Inria, OCamlPro
- **è®¸å¯è¯: LGPL-2.1

#### éªŒè¯æ–¹æ³•
- **ç†è®ºåŸºç¡€**: å¥‘çº¦å¼ç¼–ç¨‹ + WhyML
- **åç«¯**: Why3 å¹³å°ï¼ˆå¤š SMT æ±‚è§£å™¨ï¼‰
- **éªŒè¯å±‚çº§**: æºç çº§ï¼ˆMIR â†’ WhyMLï¼‰
- **æ ¸å¿ƒæ€æƒ³**: åˆ©ç”¨ Rust ç±»å‹ç³»ç»Ÿå‡å°‘éªŒè¯è´Ÿæ‹…

#### èƒ½åŠ›çŸ©é˜µ
| ç»´åº¦ | è¯„çº§ | è¯´æ˜ |
|-----|-----|------|
| å†…å­˜å®‰å…¨ | â­â­â­ | è‡ªåŠ¨æ¨å¯¼æ‰€æœ‰æƒ |
| åŠŸèƒ½æ­£ç¡®æ€§ | â­â­â­ | å¼ºå¤§çš„ specification è¯­è¨€ |
| å¹¶å‘éªŒè¯ | â­ | åˆæ­¥æ”¯æŒ |
| unsafeæ”¯æŒ | â­ | ä¸æ”¯æŒ |

#### å¿«é€Ÿå¼€å§‹ç¤ºä¾‹
```rust
// å®‰è£…: cargo install creusot
// éœ€è¦: why3 å’Œ SMT æ±‚è§£å™¨ (Z3, CVC5, Alt-Ergo)

use creusot_contracts::*;

#[requires(a@ + b@ <= i32::MAX@)]
#[ensures(@result == a@ + b@)]
fn safe_add(a: i32, b: i32) -> i32 {
    a + b
}

#[requires(v.len() > 0)]
#[ensures(@result >= v[0]@)]
#[ensures(exists<i: Int> 0 <= i && i < v.len() && @result == v[i]@)]
fn find_max(v: &Vec<i32>) -> i32 {
    let mut max = v[0];
    #[invariant(i@ > 0 && i@ <= v.len())]
    #[invariant(@max >= v[0]@)]
    #[invariant(exists<j: Int> 0 <= j && j < i@ && @max == v[j]@)]
    for i in 1..v.len() {
        if v[i] > max {
            max = v[i];
        }
    }
    max
}
```

#### é€‚ç”¨åœºæ™¯
- éªŒè¯å¤æ‚ç®—æ³•ï¼ˆæ’åºã€å›¾ç®—æ³•ç­‰ï¼‰
- ä¸ Why3 IDE äº¤äº’è¯æ˜
- éœ€è¦è‡ªåŠ¨å’Œäº¤äº’æ··åˆéªŒè¯
- æ ‡å‡†åº“éªŒè¯

#### é™åˆ¶æ¡ä»¶
- âš ï¸ éœ€è¦å®‰è£… Why3 å’Œå¤šä¸ª SMT æ±‚è§£å™¨
- âš ï¸ ä¸æ”¯æŒ unsafe ä»£ç 
- âš ï¸ æŸäº›å¤æ‚å€Ÿç”¨æ¨¡å¼ä¸æ”¯æŒ
- âš ï¸ è¯Šæ–­ä¿¡æ¯æœ‰æ—¶éš¾ä»¥ç†è§£

---

### 6. Verus (SMT+çº¿æ€§ç±»å‹)

#### åŸºæœ¬ä¿¡æ¯
- **å®˜æ–¹é“¾æ¥**: https://github.com/verus-lang/verus
- **æ–‡æ¡£**: https://verus-lang.github.io/verus/
- **è®ºæ–‡**: [Verus: A Tool for Verified Systems Code in Rust](https://www.andrew.cmu.edu/user/bparno/papers/verus.pdf)
- **ç»´æŠ¤æ–¹**: VMware Research, CMU, University of Washington
- **è®¸å¯è¯**: MIT

#### éªŒè¯æ–¹æ³•
- **ç†è®ºåŸºç¡€**: SMT + çº¿æ€§ç±»å‹ + æ‰€æœ‰æƒ
- **åç«¯**: Z3
- **éªŒè¯å±‚çº§**: æºç çº§ï¼ˆå®å±æ€§ï¼‰
- **æ ¸å¿ƒæ€æƒ³**: ä¿æŒ Rust è¯­æ³•ï¼Œæ·»åŠ éªŒè¯æ³¨è§£

#### èƒ½åŠ›çŸ©é˜µ
| ç»´åº¦ | è¯„çº§ | è¯´æ˜ |
|-----|-----|------|
| å†…å­˜å®‰å…¨ | â­â­â­ | åŸç”Ÿ Rust ä¿è¯ |
| åŠŸèƒ½æ­£ç¡®æ€§ | â­â­â­ | å¼ºå¤§çš„ quantifier æ”¯æŒ |
| å¹¶å‘éªŒè¯ | â­â­ | æ”¯æŒåŸå­æ“ä½œéªŒè¯ |
| unsafeæ”¯æŒ | â­â­ | æ”¯æŒï¼Œä½†éœ€æ‰‹åŠ¨æ ‡æ³¨ |

#### å¿«é€Ÿå¼€å§‹ç¤ºä¾‹
```rust
// å®‰è£…: cargo install verus

use vstd::prelude::*;

verus! {

fn binary_search(v: &Vec<u64>, k: u64) -> (r: usize)
    requires
        forall|i: int, j: int| 0 <= i < j < len(v) ==> v[i] <= v[j],
    ensures
        r == len(v) || v[r] >= k,
        forall|i: int| 0 <= i < r ==> v[i] < k,
{
    let mut lo = 0;
    let mut hi = v.len();
    
    while lo < hi
        invariant
            lo <= hi,
            hi <= len(v),
            forall|i: int| 0 <= i < lo ==> v[i] < k,
            forall|i: int| hi <= i < len(v) ==> v[i] >= k,
    {
        let mid = lo + (hi - lo) / 2;
        if v[mid] < k {
            lo = mid + 1;
        } else {
            hi = mid;
        }
    }
    lo
}

} // verus!
```

#### é€‚ç”¨åœºæ™¯
- éªŒè¯æ“ä½œç³»ç»Ÿç»„ä»¶
- å¹¶å‘æ•°æ®ç»“æ„
- åˆ†å¸ƒå¼ç³»ç»Ÿåè®®
- éœ€è¦ç»†ç²’åº¦èµ„æºç®¡ç†çš„ç³»ç»Ÿ

#### é™åˆ¶æ¡ä»¶
- âš ï¸ éœ€è¦ `verus!` å®åŒ…è£¹éªŒè¯ä»£ç 
- âš ï¸ æ ‡å‡†åº“æ”¯æŒä»åœ¨å®Œå–„
- âš ï¸ æŸäº›é«˜çº§ Rust ç‰¹æ€§ä¸æ”¯æŒ
- âš ï¸ è¯æ˜å¤±è´¥æ—¶è°ƒè¯•è¾ƒå›°éš¾

---

### 7. Flux (ç»†åŒ–ç±»å‹)

#### åŸºæœ¬ä¿¡æ¯
- **å®˜æ–¹é“¾æ¥**: https://github.com/flux-rs/flux
- **æ–‡æ¡£**: https://flux-rs.github.io/flux/
- **è®ºæ–‡**: [Flux: Liquid Types for Rust](https://arxiv.org/abs/2207.00030)
- **ç»´æŠ¤æ–¹**: UC San Diego
- **è®¸å¯è¯: MIT

#### éªŒè¯æ–¹æ³•
- **ç†è®ºåŸºç¡€**: ç»†åŒ–ç±»å‹ (Refinement Types) / Liquid Types
- **åç«¯**: fixpoint çº¦æŸæ±‚è§£
- **éªŒè¯å±‚çº§**: æºç çº§ï¼ˆç±»å‹æ³¨è§£ï¼‰
- **æ ¸å¿ƒæ€æƒ³**: åœ¨ Rust ç±»å‹ä¸Šæ·»åŠ è°“è¯çº¦æŸ

#### èƒ½åŠ›çŸ©é˜µ
| ç»´åº¦ | è¯„çº§ | è¯´æ˜ |
|-----|-----|------|
| å†…å­˜å®‰å…¨ | â­â­ | æ•°ç»„è¾¹ç•Œæ£€æŸ¥ç­‰ |
| åŠŸèƒ½æ­£ç¡®æ€§ | â­â­ | æ•°å€¼å±æ€§éªŒè¯ |
| å¹¶å‘éªŒè¯ | â­ | æœ‰é™æ”¯æŒ |
| unsafeæ”¯æŒ | â­ | å®éªŒæ€§ |

#### å¿«é€Ÿå¼€å§‹ç¤ºä¾‹
```rust
// å®‰è£…: cargo install flux

#[flux::sig(fn(x: i32{v: v > 0}) -> i32{v: v >= x})]
fn increment(x: i32) -> i32 {
    x + 1
}

#[flux::sig(fn(arr: &[i32{v: v >= 0}][@n], i: usize{i < n}) -> i32)]
fn get_positive(arr: &[i32], i: usize) -> i32 {
    arr[i] // Flux è¯æ˜ä¸ä¼šè¶Šç•Œ
}

#[flux::sig(fn(n: usize) -> Vec<i32{v: v >= 0}>[@n])]
fn make_vec(n: usize) -> Vec<i32> {
    let mut v = Vec::with_capacity(n);
    let mut i = 0;
    while i < n {
        v.push(0);
        i += 1;
    }
    v
}
```

#### é€‚ç”¨åœºæ™¯
- è½»é‡çº§éªŒè¯ï¼ˆæ•°ç»„è¾¹ç•Œã€éç©ºæ£€æŸ¥ï¼‰
- æ•°å€¼ç®—æ³•éªŒè¯
- ä¸ Rust å·¥å…·é“¾æ— ç¼é›†æˆ
- å¿«é€ŸåŸå‹éªŒè¯

#### é™åˆ¶æ¡ä»¶
- âš ï¸ è¡¨è¾¾èƒ½åŠ›æœ‰é™ï¼ˆç›¸æ¯”å®Œæ•´å¥‘çº¦ï¼‰
- âš ï¸ å¤æ‚çš„é‡åŒ–çº¦æŸå¯èƒ½å¤±è´¥
- âš ï¸ æ³›å‹æ”¯æŒæœ‰é™
- âš ï¸ ä»å¤„äºæ—©æœŸç ”ç©¶é˜¶æ®µ

---

## ğŸŒ³ å·¥å…·é€‰å‹å†³ç­–æ ‘

```
å¼€å§‹é€‰å‹
â”‚
â”œâ”€ éœ€è¦éªŒè¯ unsafe ä»£ç ï¼Ÿ
â”‚  â”œâ”€ æ˜¯ â†’ è€ƒè™‘ RustBelt (å­¦æœ¯) æˆ– Kani (å®ç”¨)
â”‚  â””â”€ å¦ â†’ ç»§ç»­
â”‚
â”œâ”€ éœ€è¦å®Œæ•´åŠŸèƒ½æ­£ç¡®æ€§è¯æ˜ï¼Ÿ
â”‚  â”œâ”€ æ˜¯ â†’ ç»§ç»­
â”‚  â””â”€ å¦ â†’ è€ƒè™‘ Flux (è½»é‡) æˆ– Kani (å¿«é€Ÿ)
â”‚
â”œâ”€ åå¥½/ç†Ÿæ‚‰å“ªä¸ªè¯æ˜åŠ©æ‰‹ï¼Ÿ
â”‚  â”œâ”€ Coq â†’ RustBelt æˆ– Aeneas
â”‚  â”œâ”€ Lean â†’ Aeneas
â”‚  â”œâ”€ ä¸æƒ³ç”¨è¯æ˜åŠ©æ‰‹ â†’ ç»§ç»­
â”‚  â””â”€ ä¸ä»‹æ„ Why3 â†’ Creusot
â”‚
â”œâ”€ éœ€è¦å¹¶å‘éªŒè¯ï¼Ÿ
â”‚  â”œâ”€ æ˜¯ â†’ Verus (é¦–é€‰) æˆ– RustBelt
â”‚  â””â”€ å¦ â†’ ç»§ç»­
â”‚
â”œâ”€ é¡¹ç›®è§„æ¨¡ï¼Ÿ
â”‚  â”œâ”€ å¤§å‹é¡¹ç›® â†’ Verus (æ¨¡å—åŒ–è®¾è®¡)
â”‚  â”œâ”€ ä¸­å‹é¡¹ç›® â†’ Creusot / Prusti
â”‚  â””â”€ å°å‹/å®éªŒæ€§ â†’ Flux / Kani
â”‚
â””â”€ æ¨èé€‰æ‹©
   â”œâ”€ ç³»ç»Ÿç¼–ç¨‹/OS â†’ Verus
   â”œâ”€ ç®—æ³•åº“ â†’ Creusot / Prusti
   â”œâ”€ å¿«é€ŸéªŒè¯ â†’ Kani / Flux
   â””â”€ å­¦æœ¯ç ”ç©¶ â†’ RustBelt / Aeneas
```

---

## ğŸ”„ ä¸æœ¬ç ”ç©¶ç¬”è®°çš„å¯¹æ¥è®¡åˆ’

### å½“å‰é›†æˆçŠ¶æ€

| å·¥å…· | é›†æˆçŠ¶æ€ | ä¼˜å…ˆçº§ | å¤‡æ³¨ |
|-----|---------|-------|------|
| RustBelt | ğŸ”´ æœªå¼€å§‹ | ä½ | ç†è®ºä»·å€¼é«˜ï¼Œå®è·µé—¨æ§›é«˜ |
| Aeneas | ğŸŸ¡ è°ƒç ”ä¸­ | ä¸­ | ç­‰å¾… Lean 4 ç”Ÿæ€æˆç†Ÿ |
| Kani | ğŸŸ¢ å·²é›†æˆ | é«˜ | ç”¨äº CI ä¸­çš„å®‰å…¨æ£€æŸ¥ |
| Prusti | ğŸŸ¡ è°ƒç ”ä¸­ | ä½ | ç»´æŠ¤çŠ¶æ€ä¸ç¨³å®š |
| Creusot | ğŸŸ¢ å·²é›†æˆ | é«˜ | ç”¨äºç®—æ³•éªŒè¯ |
| Verus | ğŸŸ¢ å·²é›†æˆ | æœ€é«˜ | ä¸»è¦éªŒè¯å¹³å° |
| Flux | ğŸŸ¡ è°ƒç ”ä¸­ | ä¸­ | è½»é‡çº§è¡¥å…… |

### å¯¹æ¥è·¯çº¿å›¾

#### Phase 1: åŸºç¡€è®¾æ–½ (å·²å®Œæˆ âœ…)
- [x] ç ”ç©¶ç¬”è®°ç»“æ„å»ºç«‹
- [x] Kani é›†æˆåˆ° CI æµç¨‹
- [x] åŸºç¡€éªŒè¯ç¤ºä¾‹ç¼–å†™

#### Phase 2: æ·±åº¦é›†æˆ (è¿›è¡Œä¸­ ğŸ”„)
- [ ] Verus éªŒè¯æ ‡å‡†åº“ç»„ä»¶
- [ ] Creusot éªŒè¯æ ¸å¿ƒç®—æ³•
- [ ] å»ºç«‹éªŒè¯æœ€ä½³å®è·µæ–‡æ¡£
- [ ] å·¥å…·é“¾è‡ªåŠ¨åŒ–è„šæœ¬

#### Phase 3: æ‰©å±•è¦†ç›– (è§„åˆ’ä¸­ ğŸ“‹)
- [ ] Aeneas é›†æˆå®éªŒ
- [ ] Flux è½»é‡éªŒè¯è¯•ç‚¹
- [ ] å¤šå·¥å…·ç»„åˆéªŒè¯ç­–ç•¥
- [ ] å½¢å¼åŒ–è§„èŒƒä¸å®ç°åŒæ­¥

### å…·ä½“å¯¹æ¥ä»»åŠ¡

#### 1. Verus ä¼˜å…ˆé›†æˆ
```
ç›®æ ‡: ä½¿ç”¨ Verus éªŒè¯æ ¸å¿ƒ unsafe æŠ½è±¡
ä»»åŠ¡:
  - å®šä¹‰ unsafe ä»£ç çš„éªŒè¯è¾¹ç•Œ
  - ç¼–å†™ Verus è§„æ ¼è¯´æ˜
  - å»ºç«‹éªŒè¯-å®ç°åŒæ­¥æµç¨‹
æ—¶é—´: 2026 Q1-Q2
```

#### 2. Kani CI å¼ºåŒ–
```
ç›®æ ‡: è‡ªåŠ¨åŒ–å†…å­˜å®‰å…¨æ£€æŸ¥
ä»»åŠ¡:
  - æ‰©å±• Kani æµ‹è¯•è¦†ç›–èŒƒå›´
  - é›†æˆåˆ° pre-commit é’©å­
  - æ€§èƒ½ä¼˜åŒ–ï¼ˆé¿å… CI è¶…æ—¶ï¼‰
æ—¶é—´: 2026 Q1
```

#### 3. Creusot ç®—æ³•éªŒè¯
```
ç›®æ ‡: éªŒè¯å…³é”®ç®—æ³•æ­£ç¡®æ€§
ä»»åŠ¡:
  - æ’åºç®—æ³•ç³»åˆ—éªŒè¯
  - å›¾ç®—æ³•æ­£ç¡®æ€§è¯æ˜
  - ä¸ Why3 IDE åä½œæµç¨‹
æ—¶é—´: 2026 Q2-Q3
```

#### 4. å·¥å…·ç»„åˆç­–ç•¥
```
ç›®æ ‡: å»ºç«‹åˆ†å±‚éªŒè¯ä½“ç³»
å±‚æ¬¡:
  L1: Flux - ç±»å‹çº§åˆ«è½»é‡æ£€æŸ¥
  L2: Kani - è‡ªåŠ¨åŒ–å±æ€§æ£€æŸ¥
  L3: Verus/Creusot - å®Œæ•´åŠŸèƒ½æ­£ç¡®æ€§
  L4: RustBelt - æ ¸å¿ƒç†è®ºä¿è¯
æ—¶é—´: æŒç»­æ¼”è¿›
```

---

## ğŸ“š å­¦ä¹ è·¯å¾„å»ºè®®

### åˆå­¦è€…è·¯å¾„
1. **Kani** â†’ ä½“éªŒè‡ªåŠ¨åŒ–éªŒè¯
2. **Flux** â†’ ç†è§£ç»†åŒ–ç±»å‹æ¦‚å¿µ
3. **Verus** â†’ æŒæ¡å¥‘çº¦å¼éªŒè¯

### è¿›é˜¶è·¯å¾„
1. **Creusot** â†’ å­¦ä¹  Why3 å’Œäº¤äº’è¯æ˜
2. **Aeneas** â†’ ç†è§£å€Ÿç”¨è¯­ä¹‰çš„å½¢å¼åŒ–
3. **RustBelt** â†’ æ·±å…¥ç ”ç©¶åˆ†ç¦»é€»è¾‘

### ç ”ç©¶è·¯å¾„
1. Iris æ•™ç¨‹ â†’ æŒæ¡é«˜é˜¶åˆ†ç¦»é€»è¾‘
2. RustBelt è®ºæ–‡ â†’ ç†è§£ unsafe éªŒè¯
3. å¯¹æ¯”åˆ†æ â†’ è´¡çŒ®å·¥å…·æ”¹è¿›

---

## ğŸ”— å¤–éƒ¨èµ„æº

### å®˜æ–¹èµ„æº
- [The Rust Verification Working Group](https://rust-formal-methods.github.io/)
- [Awesome Rust Verification](https://github.com/rustformalmethods/awesome-rust-verification)
- [RustBelt æ•™ç¨‹](https://people.mpi-sws.org/~jung/veritas/)

### å­¦æœ¯è®ºæ–‡
1. Jung et al. "RustBelt: Securing the Foundations of the Rust Programming Language" (POPL'18)
2. Ho and Protzenko. "Aeneas: Rust Verification by Functional Translation" (ICFP'22)
3. Lattuada et al. "Verus: A Tool for Verified Systems Code in Rust"
4. Denes et al. "Creusot: A Foundry for the Verification of Rust Programs"

### ç¤¾åŒºè®¨è®º
- Rust Zulip #formal-methods é¢‘é“
- Verus Zulip ç¤¾åŒº
- Kani GitHub Discussions

---

## ğŸ“ ç‰ˆæœ¬å†å²

| æ—¥æœŸ | ç‰ˆæœ¬ | å˜æ›´ |
|-----|-----|------|
| 2026-02-21 | 1.0 | åˆå§‹ç‰ˆæœ¬ï¼ŒåŒ…å« 7 ä¸ªå·¥å…·å¯¹æ¯” |

---

**ç»´æŠ¤è€…**: å½¢å¼åŒ–æ–¹æ³•ç ”ç©¶å°ç»„  
**å®¡æ ¸çŠ¶æ€**: å¾…åŒè¡Œè¯„å®¡  
**ä¸‹æ¬¡æ›´æ–°è®¡åˆ’**: 2026-03-15ï¼ˆæ·»åŠ ä½¿ç”¨æ¡ˆä¾‹ç ”ç©¶ï¼‰

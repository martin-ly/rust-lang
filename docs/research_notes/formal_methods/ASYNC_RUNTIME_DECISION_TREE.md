# Rust å¼‚æ­¥è¿è¡Œæ—¶é€‰å‹å†³ç­–æ ‘

> ç‰ˆæœ¬: 1.0.0
> æ›´æ–°æ—¥æœŸ: 2026-02-21
> é€‚ç”¨åœºæ™¯: ç³»ç»Ÿæ¶æ„è®¾è®¡ã€æŠ€æœ¯é€‰å‹è¯„ä¼°

---

## ğŸ“‹ ç›®å½•

- [Rust å¼‚æ­¥è¿è¡Œæ—¶é€‰å‹å†³ç­–æ ‘](#rust-å¼‚æ­¥è¿è¡Œæ—¶é€‰å‹å†³ç­–æ ‘)
  - [ğŸ“‹ ç›®å½•](#-ç›®å½•)
  - [å¿«é€Ÿå†³ç­–æµç¨‹å›¾](#å¿«é€Ÿå†³ç­–æµç¨‹å›¾)
  - [è¿è¡Œæ—¶æ¦‚è§ˆ](#è¿è¡Œæ—¶æ¦‚è§ˆ)
  - [å†³ç­–ç»´åº¦è¯¦è§£](#å†³ç­–ç»´åº¦è¯¦è§£)
    - [1. åº”ç”¨åœºæ™¯ç»´åº¦](#1-åº”ç”¨åœºæ™¯ç»´åº¦)
    - [2. æ€§èƒ½éœ€æ±‚ç»´åº¦](#2-æ€§èƒ½éœ€æ±‚ç»´åº¦)
      - [é«˜ååé‡åœºæ™¯ (\>100k RPS)](#é«˜ååé‡åœºæ™¯-100k-rps)
      - [ä½å»¶è¿Ÿåœºæ™¯ (P99 \< 1ms)](#ä½å»¶è¿Ÿåœºæ™¯-p99--1ms)
      - [å®æ—¶æ€§åœºæ™¯ (ç¡¬å®æ—¶è¦æ±‚)](#å®æ—¶æ€§åœºæ™¯-ç¡¬å®æ—¶è¦æ±‚)
    - [3. åŠŸèƒ½éœ€æ±‚ç»´åº¦](#3-åŠŸèƒ½éœ€æ±‚ç»´åº¦)
    - [4. ç”Ÿæ€å…¼å®¹æ€§ç»´åº¦](#4-ç”Ÿæ€å…¼å®¹æ€§ç»´åº¦)
  - [è¯¦ç»†å¯¹æ¯”åˆ†æ](#è¯¦ç»†å¯¹æ¯”åˆ†æ)
    - [Tokio](#tokio)
      - [æ¶æ„ç‰¹ç‚¹](#æ¶æ„ç‰¹ç‚¹)
      - [æ€§èƒ½ç‰¹å¾](#æ€§èƒ½ç‰¹å¾)
      - [ç”Ÿæ€æˆç†Ÿåº¦](#ç”Ÿæ€æˆç†Ÿåº¦)
      - [é€‚ç”¨åœºæ™¯](#é€‚ç”¨åœºæ™¯)
    - [async-std](#async-std)
      - [æ¶æ„ç‰¹ç‚¹](#æ¶æ„ç‰¹ç‚¹-1)
      - [æ€§èƒ½ç‰¹å¾](#æ€§èƒ½ç‰¹å¾-1)
      - [ç”Ÿæ€æˆç†Ÿåº¦](#ç”Ÿæ€æˆç†Ÿåº¦-1)
      - [é€‚ç”¨åœºæ™¯](#é€‚ç”¨åœºæ™¯-1)
    - [smol](#smol)
      - [æ¶æ„ç‰¹ç‚¹](#æ¶æ„ç‰¹ç‚¹-2)
      - [æ€§èƒ½ç‰¹å¾](#æ€§èƒ½ç‰¹å¾-2)
      - [ç”Ÿæ€æˆç†Ÿåº¦](#ç”Ÿæ€æˆç†Ÿåº¦-2)
      - [é€‚ç”¨åœºæ™¯](#é€‚ç”¨åœºæ™¯-2)
    - [embassy](#embassy)
      - [æ¶æ„ç‰¹ç‚¹](#æ¶æ„ç‰¹ç‚¹-3)
      - [æ€§èƒ½ç‰¹å¾](#æ€§èƒ½ç‰¹å¾-3)
      - [ç”Ÿæ€æˆç†Ÿåº¦](#ç”Ÿæ€æˆç†Ÿåº¦-3)
      - [é€‚ç”¨åœºæ™¯](#é€‚ç”¨åœºæ™¯-3)
  - [ä»£ç ç¤ºä¾‹å¯¹æ¯”](#ä»£ç ç¤ºä¾‹å¯¹æ¯”)
    - [1. åŸºç¡€TCP EchoæœåŠ¡å™¨](#1-åŸºç¡€tcp-echoæœåŠ¡å™¨)
      - [Tokio ç‰ˆæœ¬](#tokio-ç‰ˆæœ¬)
      - [async-std ç‰ˆæœ¬](#async-std-ç‰ˆæœ¬)
      - [smol ç‰ˆæœ¬](#smol-ç‰ˆæœ¬)
      - [embassy ç‰ˆæœ¬ (åµŒå…¥å¼)](#embassy-ç‰ˆæœ¬-åµŒå…¥å¼)
    - [2. HTTP æœåŠ¡å™¨å¯¹æ¯”](#2-http-æœåŠ¡å™¨å¯¹æ¯”)
      - [Tokio + Axum](#tokio--axum)
      - [async-std + tide](#async-std--tide)
    - [3. å®šæ—¶å™¨ä¸å¹¶å‘å¯¹æ¯”](#3-å®šæ—¶å™¨ä¸å¹¶å‘å¯¹æ¯”)
      - [Tokio](#tokio-1)
      - [smol](#smol-1)
      - [embassy (åµŒå…¥å¼å®šæ—¶å™¨)](#embassy-åµŒå…¥å¼å®šæ—¶å™¨)
  - [è¿ç§»æŒ‡å—](#è¿ç§»æŒ‡å—)
    - [ä» async-std è¿ç§»åˆ° Tokio](#ä»-async-std-è¿ç§»åˆ°-tokio)
      - [Cargo.toml å˜æ›´](#cargotoml-å˜æ›´)
      - [å…¥å£ç‚¹å˜æ›´](#å…¥å£ç‚¹å˜æ›´)
      - [ç½‘ç»œæ“ä½œå˜æ›´](#ç½‘ç»œæ“ä½œå˜æ›´)
      - [æ–‡ä»¶IOå˜æ›´](#æ–‡ä»¶ioå˜æ›´)
      - [ä»»åŠ¡ç”Ÿæˆå˜æ›´](#ä»»åŠ¡ç”Ÿæˆå˜æ›´)
    - [ä»æ ‡å‡†åº“è¿ç§»åˆ°å¼‚æ­¥](#ä»æ ‡å‡†åº“è¿ç§»åˆ°å¼‚æ­¥)
    - [è¿è¡Œæ—¶æ··åˆä½¿ç”¨](#è¿è¡Œæ—¶æ··åˆä½¿ç”¨)
  - [å†³ç­–æ£€æŸ¥æ¸…å•](#å†³ç­–æ£€æŸ¥æ¸…å•)
    - [åˆæ­¥è¯„ä¼°](#åˆæ­¥è¯„ä¼°)
    - [æ€§èƒ½éœ€æ±‚è¯„ä¼°](#æ€§èƒ½éœ€æ±‚è¯„ä¼°)
    - [åŠŸèƒ½éœ€æ±‚è¯„ä¼°](#åŠŸèƒ½éœ€æ±‚è¯„ä¼°)
    - [ç”Ÿæ€ä¸ç»´æŠ¤è¯„ä¼°](#ç”Ÿæ€ä¸ç»´æŠ¤è¯„ä¼°)
    - [æœ€ç»ˆå†³ç­–çŸ©é˜µ](#æœ€ç»ˆå†³ç­–çŸ©é˜µ)
  - [å‚è€ƒèµ„æº](#å‚è€ƒèµ„æº)
    - [å®˜æ–¹æ–‡æ¡£](#å®˜æ–¹æ–‡æ¡£)
    - [æ€§èƒ½åŸºå‡†æµ‹è¯•](#æ€§èƒ½åŸºå‡†æµ‹è¯•)
    - [ç¤¾åŒºè®¨è®º](#ç¤¾åŒºè®¨è®º)
  - [ç‰ˆæœ¬å†å²](#ç‰ˆæœ¬å†å²)

---

## å¿«é€Ÿå†³ç­–æµç¨‹å›¾

```text
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚   å¼€å§‹é€‰å‹å†³ç­–       â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   ç›®æ ‡å¹³å°æ˜¯ä»€ä¹ˆï¼Ÿ             â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚                   â”‚                   â”‚
            â–¼                   â–¼                   â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   åµŒå…¥å¼/     â”‚   â”‚   æœåŠ¡å™¨/     â”‚   â”‚   æ¡Œé¢/é€šç”¨   â”‚
    â”‚   å¾®æ§åˆ¶å™¨    â”‚   â”‚   äº‘ç«¯æœåŠ¡    â”‚   â”‚   åº”ç”¨        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                   â”‚                   â”‚
            â–¼                   â–¼                   â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   embassy     â”‚   â”‚   éœ€è¦é«˜åå  â”‚   â”‚   éœ€è¦é«˜æ€§èƒ½  â”‚
    â”‚   /nrf-rs     â”‚   â”‚   /é«˜å¹¶å‘ï¼Ÿ   â”‚   â”‚   IOå¤šè·¯å¤ç”¨ï¼Ÿâ”‚
    â”‚               â”‚   â”‚               â”‚   â”‚               â”‚
    â”‚   âœ… æ¨è     â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚                   â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚               â”‚   â”‚               â”‚
                        â–¼               â–¼   â–¼               â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚    æ˜¯     â”‚   â”‚    å¦     â”‚       â”‚    æ˜¯     â”‚
                â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                      â”‚               â”‚                   â”‚
                      â–¼               â–¼                   â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚    Tokio      â”‚ â”‚  éœ€è¦æ ‡å‡†åº“   â”‚ â”‚    Tokio      â”‚
              â”‚               â”‚ â”‚  å…¼å®¹ï¼Ÿ       â”‚ â”‚   /smol       â”‚
              â”‚  âœ… æ¨è      â”‚ â”‚               â”‚ â”‚               â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  âœ… æ¨è      â”‚
                                        â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚                   â”‚
                              â–¼                   â–¼
                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                      â”‚    æ˜¯     â”‚       â”‚    å¦     â”‚
                      â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                            â”‚                   â”‚
                            â–¼                   â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   async-std   â”‚   â”‚     smol      â”‚
                    â”‚               â”‚   â”‚               â”‚
                    â”‚  âœ… æ¨è      â”‚   â”‚  âœ… æ¨è      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## è¿è¡Œæ—¶æ¦‚è§ˆ

| è¿è¡Œæ—¶ | å®šä½ | ç»´æŠ¤çŠ¶æ€ | ç”Ÿæ€æˆç†Ÿåº¦ | å­¦ä¹ æ›²çº¿ |
|--------|------|----------|------------|----------|
| **Tokio** | ä¼ä¸šçº§ç”Ÿäº§ç¯å¢ƒé¦–é€‰ | â­â­â­â­â­ éå¸¸æ´»è·ƒ | â­â­â­â­â­ æœ€æˆç†Ÿ | ä¸­ç­‰ |
| **async-std** | ç±»æ ‡å‡†åº“API | â­â­â­ ç»´æŠ¤æ”¾ç¼“ | â­â­â­â­ è¾ƒæˆç†Ÿ | ä½ |
| **smol** | è½»é‡å¯ç»„åˆ | â­â­â­â­ æ´»è·ƒ | â­â­â­ ä¸­ç­‰ | ä¸­ç­‰ |
| **embassy** | åµŒå…¥å¼ä¸“ç”¨ | â­â­â­â­â­ éå¸¸æ´»è·ƒ | â­â­â­ åµŒå…¥å¼é¢†åŸŸæˆç†Ÿ | ä¸­é«˜ |
| **futures** | åŸºç¡€æŠ½è±¡å±‚ | â­â­â­â­ ç¨³å®šç»´æŠ¤ | â­â­â­â­â­ æœ€åŸºç¡€ | é«˜ |

---

## å†³ç­–ç»´åº¦è¯¦è§£

### 1. åº”ç”¨åœºæ™¯ç»´åº¦

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        åº”ç”¨åœºæ™¯å†³ç­–çŸ©é˜µ                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    åœºæ™¯ç±»å‹      â”‚    æ¨èè¿è¡Œæ—¶    â”‚           ç†ç”±                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ WebæœåŠ¡/APIæœåŠ¡ â”‚     Tokio       â”‚ å®Œæ•´çš„HTTPç”Ÿæ€, Actix/Axumæ”¯æŒ   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å¾®æœåŠ¡/äº‘åŸç”Ÿ   â”‚     Tokio       â”‚ tracing/metricsé›†æˆ, gRPCç”Ÿæ€    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ•°æ®åº“/å­˜å‚¨å¼•æ“ â”‚     Tokio       â”‚ io_uringæ”¯æŒ, é«˜æ€§èƒ½ç½‘ç»œIO       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ åµŒå…¥å¼MCU       â”‚    embassy      â”‚ no_stdæ”¯æŒ, é›¶å¼€é”€æŠ½è±¡           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å®æ—¶æ§åˆ¶ç³»ç»Ÿ    â”‚ embassy/tokio   â”‚ å¯é…ç½®è°ƒåº¦å™¨, ä¼˜å…ˆçº§æ”¯æŒ         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ¡Œé¢GUIåº”ç”¨     â”‚ smol/async-std  â”‚ ä¸GUIæ¡†æ¶é›†æˆå®¹æ˜“                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ CLIå·¥å…·         â”‚ tokio/smol      â”‚ å¯åŠ¨å¿«, èµ„æºå ç”¨ä½               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ åŒºå—é“¾/å…±è¯†ç³»ç»Ÿ â”‚ tokio/smol      â”‚ ç¡®å®šæ€§æ‰§è¡Œ, è‡ªå®šä¹‰è°ƒåº¦           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. æ€§èƒ½éœ€æ±‚ç»´åº¦

#### é«˜ååé‡åœºæ™¯ (>100k RPS)

- **é¦–é€‰**: Tokio (io_uring + work-stealing)
- **å¤‡é€‰**: smol (ç®€åŒ–æ¨¡å‹, ä½ä¸Šä¸‹æ–‡åˆ‡æ¢)

#### ä½å»¶è¿Ÿåœºæ™¯ (P99 < 1ms)

- **é¦–é€‰**: Tokio (ä¼˜åŒ–è¿‡çš„è°ƒåº¦å™¨)
- **å¤‡é€‰**: embassy (è£¸æœºçº§åˆ«æ§åˆ¶)

#### å®æ—¶æ€§åœºæ™¯ (ç¡¬å®æ—¶è¦æ±‚)

- **é¦–é€‰**: embassy-executor + è‡ªå®šä¹‰è°ƒåº¦
- **å¤‡é€‰**: tokio with rt-multi-thread + çº¿ç¨‹äº²å’Œæ€§

### 3. åŠŸèƒ½éœ€æ±‚ç»´åº¦

| åŠŸèƒ½éœ€æ±‚ | Tokio | async-std | smol | embassy |
|----------|-------|-----------|------|---------|
| TCP/UDP  | âœ… å®Œæ•´ | âœ… å®Œæ•´ | âœ… å®Œæ•´ | âœ… åµŒå…¥å¼ä¼˜åŒ– |
| HTTP/WebSocket | âœ… ä¸°å¯Œç”Ÿæ€ | âœ… å¯ç”¨ | âš ï¸ éœ€ç¬¬ä¸‰æ–¹ | âŒ ä¸é€‚ç”¨ |
| å®šæ—¶å™¨ | âœ… é«˜æ€§èƒ½ | âœ… æ ‡å‡† | âœ… ç®€å• | âœ… ç¡¬ä»¶å®šæ—¶å™¨ |
| æ–‡ä»¶IO | âœ… io_uring | âœ… æ ‡å‡† | âœ… æ ‡å‡† | âŒ ä¸é€‚ç”¨ |
| åŒæ­¥åŸè¯­ | âœ… ä¸°å¯Œ | âœ… æ ‡å‡† | âš ï¸ åŸºç¡€ | âœ… åµŒå…¥å¼ä¸“ç”¨ |
| é€šé“(channel) | âœ… å¤šç±»å‹ | âœ… mpsc | âœ… åŸºç¡€ | âœ… æ— é”å®ç° |
| TLS/åŠ å¯† | âœ… rustlsé›†æˆ | âœ… å¯ç”¨ | âš ï¸ éœ€é…ç½® | âš ï¸ æœ‰é™æ”¯æŒ |
| ä¿¡å·å¤„ç† | âœ… å®Œæ•´ | âœ… Unix | âŒ æ—  | âŒ ä¸­æ–­å¤„ç† |

### 4. ç”Ÿæ€å…¼å®¹æ€§ç»´åº¦

```text
                    Tokio    async-std    smol    embassy
                    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Serde                âœ…         âœ…         âœ…        âœ…
Hyper/HTTP          âœ…         âœ…         âš ï¸        âŒ
Tonic/gRPC          âœ…         âŒ         âŒ        âŒ
SQLx               âœ…         âœ…         âš ï¸        âŒ
Redis              âœ…         âœ…         âš ï¸        âŒ
AWS SDK            âœ…         âŒ         âŒ        âŒ
Tracing            âœ…         âš ï¸         âš ï¸        âš ï¸
Metrics            âœ…         âš ï¸         âš ï¸        âŒ
                    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ç”Ÿæ€æˆç†Ÿåº¦          æœ€é«˜        ä¸­ç­‰        è¾ƒä½      åµŒå…¥å¼ä¸“ç”¨
```

---

## è¯¦ç»†å¯¹æ¯”åˆ†æ

### Tokio

#### æ¶æ„ç‰¹ç‚¹

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Tokio æ¶æ„                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    åº”ç”¨å±‚                                 â”‚  â”‚
â”‚  â”‚  (Axum/Actix-web/Tonic/tokio-postgres/...)              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                   Runtime å±‚                              â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚  Multi-Threadâ”‚  â”‚ Current-    â”‚  â”‚ Work-Stealing    â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  Scheduler   â”‚  â”‚ Thread      â”‚  â”‚ Queue            â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    I/O é©±åŠ¨å±‚                             â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚  epoll/kqueueâ”‚  â”‚  io_uring   â”‚  â”‚  Event Loop      â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    ç³»ç»Ÿè°ƒç”¨å±‚                             â”‚  â”‚
â”‚  â”‚         (mio / io_uring / WASI / ...)                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æ€§èƒ½ç‰¹å¾

| æŒ‡æ ‡ | æ•°å€¼/ç­‰çº§ | è¯´æ˜ |
|------|-----------|------|
| ååé‡ | â­â­â­â­â­ | 100k+ RPS (HTTP, å•èŠ‚ç‚¹) |
| å»¶è¿ŸP99 | â­â­â­â­ | < 1ms (ä¼˜åŒ–é…ç½®ä¸‹) |
| å†…å­˜å ç”¨ | â­â­â­ | ä¸­ç­‰ (per-task overhead) |
| å¯åŠ¨æ—¶é—´ | â­â­â­ | ä¸­ç­‰ (runtimeåˆå§‹åŒ–) |
| æ‰©å±•æ€§ | â­â­â­â­â­ | ä¼˜ç§€çš„å¤šæ ¸æ‰©å±• |

#### ç”Ÿæ€æˆç†Ÿåº¦

- **HTTPæœåŠ¡å™¨**: Axum, Actix-web, warp - éƒ½éå¸¸æˆç†Ÿ
- **æ•°æ®åº“**: SQLx, deadpool, bb8 - ç”Ÿäº§å°±ç»ª
- **æ¶ˆæ¯é˜Ÿåˆ—**: lapin(RabbitMQ), rdkafka(Kafka)
- **gRPC**: Tonic - å®˜æ–¹æ¨è, éå¸¸å®Œå–„
- **å¯è§‚æµ‹æ€§**: tracing, metrics, opentelemetry - å®Œæ•´æ”¯æŒ

#### é€‚ç”¨åœºæ™¯

âœ… å¤§å‹WebæœåŠ¡/APIç½‘å…³
âœ… é«˜å¹¶å‘ç½‘ç»œæœåŠ¡
âœ… å¾®æœåŠ¡æ¶æ„
âœ… å®æ—¶æ•°æ®å¤„ç†
âš ï¸ èµ„æºå—é™ç¯å¢ƒ (ç¼–è¯‘ä½“ç§¯è¾ƒå¤§)
âŒ ç¡¬å®æ—¶ç³»ç»Ÿ (éç¡®å®šæ€§å»¶è¿Ÿ)

---

### async-std

#### æ¶æ„ç‰¹ç‚¹

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     async-std æ¶æ„                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                   æ ‡å‡†åº“å…¼å®¹API                           â”‚  â”‚
â”‚  â”‚  (async fs, async net, async process, ...)              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                   Runtime å±‚                              â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚         async-global-executor                       â”‚ â”‚  â”‚
â”‚  â”‚  â”‚   (å¯é…ç½®: tokio/async-std/smol backend)           â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                   åº•å±‚å®ç°å±‚                              â”‚  â”‚
â”‚  â”‚         (async-io + blocking + ...)                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æ€§èƒ½ç‰¹å¾

| æŒ‡æ ‡ | æ•°å€¼/ç­‰çº§ | è¯´æ˜ |
|------|-----------|------|
| ååé‡ | â­â­â­â­ | æ¥è¿‘Tokio, ç•¥ä½ |
| å»¶è¿ŸP99 | â­â­â­â­ | < 2ms |
| å†…å­˜å ç”¨ | â­â­â­ | ä¸Tokioç›¸å½“ |
| å¯åŠ¨æ—¶é—´ | â­â­â­ | ä¸­ç­‰ |
| æ‰©å±•æ€§ | â­â­â­â­ | è‰¯å¥½ |

#### ç”Ÿæ€æˆç†Ÿåº¦

- ç”Ÿæ€å‘å±•æ”¾ç¼“, éƒ¨åˆ†æ ¸å¿ƒå¼€å‘è€…è½¬å‘å…¶ä»–é¡¹ç›®
- ä»æœ‰ä¸å°‘é¡¹ç›®ä½¿ç”¨, ä½†æ–°é¡¹ç›®æ¨èTokio
- APIè®¾è®¡ä¼˜ç§€, å¯¹æ ‡å‡†åº“APIçš„æ˜ å°„æ¸…æ™°

#### é€‚ç”¨åœºæ™¯

âœ… éœ€è¦æ ‡å‡†åº“é£æ ¼APIçš„é¡¹ç›®
âœ… ä¸­å°å‹WebæœåŠ¡
âœ… ä»åŒæ­¥ä»£ç è¿ç§»çš„é¡¹ç›®
âš ï¸ é•¿æœŸç»´æŠ¤çš„å¤§å‹é¡¹ç›® (æ´»è·ƒåº¦ä¸‹é™)
âŒ éœ€è¦æœ€æ–°ç”Ÿæ€æ”¯æŒçš„æ–°é¡¹ç›®

---

### smol

#### æ¶æ„ç‰¹ç‚¹

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       smol æ¶æ„                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                   åº”ç”¨ä»£ç                                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                smol ç»„åˆå¼è¿è¡Œæ—¶                          â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚ async-io â”‚  â”‚ async-   â”‚  â”‚ async-   â”‚  â”‚ polling  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚          â”‚  â”‚ executor â”‚  â”‚ channel  â”‚  â”‚          â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  ç‰¹ç‚¹: æ¯ä¸ªç»„ä»¶å¯ç‹¬ç«‹ä½¿ç”¨, æŒ‰éœ€ç»„åˆ                       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                   åº•å±‚å¹³å°æŠ½è±¡                            â”‚  â”‚
â”‚  â”‚         (epoll/kqueue/IOCP/WASI/...)                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æ€§èƒ½ç‰¹å¾

| æŒ‡æ ‡ | æ•°å€¼/ç­‰çº§ | è¯´æ˜ |
|------|-----------|------|
| ååé‡ | â­â­â­â­ | é«˜, è®¾è®¡ç®€æ´ |
| å»¶è¿ŸP99 | â­â­â­â­ | ä½, è°ƒåº¦ç®€å• |
| å†…å­˜å ç”¨ | â­â­â­â­â­ | æä½ (è½»é‡çº§è®¾è®¡) |
| å¯åŠ¨æ—¶é—´ | â­â­â­â­â­ | æå¿« |
| æ‰©å±•æ€§ | â­â­â­â­ | è‰¯å¥½ |

#### ç”Ÿæ€æˆç†Ÿåº¦

- ç»„ä»¶åŒ–è®¾è®¡, å¯è¢«å…¶ä»–è¿è¡Œæ—¶å¤ç”¨
- ç”Ÿæ€ç›¸å¯¹è¾ƒå°ä½†è´¨é‡é«˜
- é€‚åˆéœ€è¦ç²¾ç»†æ§åˆ¶çš„åœºæ™¯

#### é€‚ç”¨åœºæ™¯

âœ… èµ„æºå—é™ç¯å¢ƒ
âœ… åµŒå…¥å¼Linuxç³»ç»Ÿ
âœ… éœ€è¦å®šåˆ¶è¿è¡Œæ—¶çš„åœºæ™¯
âœ… å¯åŠ¨é€Ÿåº¦è¦æ±‚é«˜çš„CLIå·¥å…·
âœ… æ··åˆå¤šç§å¼‚æ­¥æ¨¡å‹çš„é¡¹ç›®
âš ï¸ éœ€è¦ä¸°å¯Œå¼€ç®±å³ç”¨åŠŸèƒ½çš„åœºæ™¯

---

### embassy

#### æ¶æ„ç‰¹ç‚¹

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     embassy æ¶æ„                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                   åº”ç”¨å±‚ (embassy-rs)                     â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚ embassy- â”‚  â”‚ embassy- â”‚  â”‚ embassy- â”‚  â”‚embassy-  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ net      â”‚  â”‚ usb      â”‚  â”‚ ble      â”‚  â”‚ lorawan  â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                   æ‰§è¡Œå™¨å±‚                                â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚              embassy-executor                       â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  é›†æˆå‹     â”‚  â”‚  çº¿ç¨‹æ¨¡å¼   â”‚  â”‚  å¤šæ ¸æ¨¡å¼    â”‚ â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  (bare-metal)â”‚  â”‚  (std)      â”‚  â”‚  (SMP)       â”‚ â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                   ç¡¬ä»¶æŠ½è±¡å±‚ (HAL)                        â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚embassy-  â”‚  â”‚embassy-  â”‚  â”‚embassy-  â”‚  â”‚  ...     â”‚  â”‚  â”‚
â”‚  â”‚  â”‚stm32     â”‚  â”‚nrf       â”‚  â”‚rp        â”‚  â”‚          â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æ€§èƒ½ç‰¹å¾

| æŒ‡æ ‡ | æ•°å€¼/ç­‰çº§ | è¯´æ˜ |
|------|-----------|------|
| ååé‡ | â­â­â­ | MCUå—é™, ä½†ä¼˜åŒ–æä½³ |
| å»¶è¿ŸP99 | â­â­â­â­â­ | å¯é¢„æµ‹, ä½æŠ–åŠ¨ |
| å†…å­˜å ç”¨ | â­â­â­â­â­ | æä½ (KBçº§åˆ«) |
| å®æ—¶æ€§ | â­â­â­â­â­ | æ”¯æŒç¡¬å®æ—¶è°ƒåº¦ |
| åŠŸè€— | â­â­â­â­â­ | ä¼˜ç§€çš„å¼‚æ­¥ä¼‘çœ æ”¯æŒ |

#### ç”Ÿæ€æˆç†Ÿåº¦

- åµŒå…¥å¼é¢†åŸŸæœ€æ´»è·ƒçš„asyncè¿è¡Œæ—¶
- æ”¯æŒä¸»æµMCUå¹³å°: STM32, nRF, RP2040, ESP32
- å®Œå–„çš„æ— çº¿åè®®æ ˆ: BLE, WiFi, LoRaWAN, Thread

#### é€‚ç”¨åœºæ™¯

âœ… åµŒå…¥å¼/ç‰©è”ç½‘è®¾å¤‡
âœ… è£¸æœº(bare-metal)ç³»ç»Ÿ
âœ… ç”µæ± ä¾›ç”µè®¾å¤‡ (ä½åŠŸè€—)
âœ… å®æ—¶æ§åˆ¶ç³»ç»Ÿ
âœ… ä¼ æ„Ÿå™¨/æ‰§è¡Œå™¨ç½‘ç»œ
âŒ é€šç”¨æœåŠ¡å™¨åº”ç”¨
âŒ éœ€è¦æ ‡å‡†åº“çš„åœºæ™¯

---

## ä»£ç ç¤ºä¾‹å¯¹æ¯”

### 1. åŸºç¡€TCP EchoæœåŠ¡å™¨

#### Tokio ç‰ˆæœ¬

```rust
use tokio::net::{TcpListener, TcpStream};
use tokio::io::{AsyncReadExt, AsyncWriteExt};

#[tokio::main]
async fn main() -> Result<(), Box<dyn std::error::Error>> {
    let listener = TcpListener::bind("127.0.0.1:8080").await?;
    println!("Tokio server listening on 127.0.0.1:8080");

    loop {
        let (mut socket, addr) = listener.accept().await?;
        println!("New connection from: {}", addr);

        tokio::spawn(async move {
            let mut buf = vec![0; 1024];

            loop {
                match socket.read(&mut buf).await {
                    Ok(0) => {
                        println!("Client {} disconnected", addr);
                        return;
                    }
                    Ok(n) => {
                        if socket.write_all(&buf[0..n]).await.is_err() {
                            return;
                        }
                    }
                    Err(e) => {
                        eprintln!("Failed to read from socket; err = {:?}", e);
                        return;
                    }
                }
            }
        });
    }
}
```

#### async-std ç‰ˆæœ¬

```rust
use async_std::net::{TcpListener, TcpStream};
use async_std::prelude::*;
use async_std::task;

#[async_std::main]
async fn main() -> Result<(), Box<dyn std::error::Error>> {
    let listener = TcpListener::bind("127.0.0.1:8080").await?;
    println!("async-std server listening on 127.0.0.1:8080");

    loop {
        let (mut socket, addr) = listener.accept().await?;
        println!("New connection from: {}", addr);

        task::spawn(async move {
            let mut buf = vec![0; 1024];

            loop {
                match socket.read(&mut buf).await {
                    Ok(0) => {
                        println!("Client {} disconnected", addr);
                        return;
                    }
                    Ok(n) => {
                        if socket.write_all(&buf[0..n]).await.is_err() {
                            return;
                        }
                    }
                    Err(e) => {
                        eprintln!("Failed to read from socket; err = {:?}", e);
                        return;
                    }
                }
            }
        });
    }
}
```

#### smol ç‰ˆæœ¬

```rust
use smol::io::{AsyncReadExt, AsyncWriteExt};
use smol::net::TcpListener;

fn main() -> Result<(), Box<dyn std::error::Error>> {
    smol::block_on(async {
        let listener = TcpListener::bind("127.0.0.1:8080").await?;
        println!("smol server listening on 127.0.0.1:8080");

        loop {
            let (mut socket, addr) = listener.accept().await?;
            println!("New connection from: {}", addr);

            smol::spawn(async move {
                let mut buf = vec![0; 1024];

                loop {
                    match socket.read(&mut buf).await {
                        Ok(0) => {
                            println!("Client {} disconnected", addr);
                            return;
                        }
                        Ok(n) => {
                            if socket.write_all(&buf[0..n]).await.is_err() {
                                return;
                            }
                        }
                        Err(e) => {
                            eprintln!("Failed to read from socket; err = {:?}", e);
                            return;
                        }
                    }
                }
            }).detach();
        }
    })
}
```

#### embassy ç‰ˆæœ¬ (åµŒå…¥å¼)

```rust
#![no_std]
#![no_main]

use embassy_executor::Spawner;
use embassy_net::{tcp::TcpSocket, Config, Stack, StackResources};
use embassy_stm32::eth::{Ethernet, PacketQueue};
use embassy_stm32::peripherals::ETH;
use embassy_stm32::rng::Rng;
use embassy_stm32::time::Hertz;
use embassy_stm32::{bind_interrupts, eth, peripherals, rng};
use embassy_time::{Duration, Timer};
use static_cell::make_static;

bind_interrupts!(struct Irqs {
    ETH => eth::InterruptHandler;
    RNG => rng::InterruptHandler<peripherals::RNG>;
});

#[embassy_executor::main]
async fn main(spawner: Spawner) {
    let p = embassy_stm32::init(Default::default());

    // åˆå§‹åŒ–ä»¥å¤ªç½‘
    let mut rng = Rng::new(p.RNG, Irqs);
    let mac_addr = [0x00, 0x00, 0xDE, 0xAD, 0xBE, 0xEF];

    static PACKETS: PacketQueue<4, 4> = PacketQueue::new();
    let eth = Ethernet::new(
        PACKETS.borrow().into(),
        p.ETH,
        Irqs,
        p.PA1,
        p.PA2,
        p.PC1,
        p.PA7,
        p.PC4,
        p.PC5,
        p.PG13,
        p.PB13,
        p.PG11,
        mac_addr,
    );

    let config = Config::dhcpv4(Default::default());
    let seed = rng.random_u64();

    // å¯åŠ¨ç½‘ç»œæ ˆ
    static RESOURCES: StackResources<3> = StackResources::new();
    let (stack, runner) = embassy_net::init(eth, config, RESOURCES, seed);
    spawner.spawn(net_task(runner)).unwrap();

    // ç­‰å¾…ç½‘ç»œè¿æ¥
    loop {
        if stack.is_config_up() {
            break;
        }
        Timer::after(Duration::from_millis(100)).await;
    }

    // å¯åŠ¨TCP echoæœåŠ¡
    spawner.spawn(tcp_echo_task(stack)).unwrap();
}

#[embassy_executor::task]
async fn net_task(mut runner: embassy_net::Runner<'static, Ethernet<'static, ETH>>) -> ! {
    runner.run().await
}

#[embassy_executor::task]
async fn tcp_echo_task(stack: &'static Stack<Ethernet<'static, ETH>>) {
    let mut rx_buffer = [0; 1024];
    let mut tx_buffer = [0; 1024];

    loop {
        let mut socket = TcpSocket::new(stack, &mut rx_buffer, &mut tx_buffer);
        socket.set_timeout(Some(Duration::from_secs(10)));

        if let Err(e) = socket.accept(8080).await {
            log::error!("Accept error: {:?}", e);
            continue;
        }

        log::info!("New connection from {:?}", socket.remote_endpoint());

        loop {
            match socket.read(&mut rx_buffer).await {
                Ok(0) => break,
                Ok(n) => {
                    if let Err(e) = socket.write_all(&rx_buffer[..n]).await {
                        log::error!("Write error: {:?}", e);
                        break;
                    }
                }
                Err(e) => {
                    log::error!("Read error: {:?}", e);
                    break;
                }
            }
        }
    }
}
```

### 2. HTTP æœåŠ¡å™¨å¯¹æ¯”

#### Tokio + Axum

```rust
use axum::{
    routing::get,
    Router,
    extract::Path,
    http::StatusCode,
    response::Json,
};
use serde::{Deserialize, Serialize};
use std::net::SocketAddr;

#[derive(Serialize)]
struct User {
    id: u64,
    name: String,
}

async fn get_user(Path(id): Path<u64>) -> Result<Json<User>, StatusCode> {
    if id == 0 {
        return Err(StatusCode::NOT_FOUND);
    }
    Ok(Json(User {
        id,
        name: format!("User {}", id),
    }))
}

async fn health() -> &'static str {
    "OK"
}

#[tokio::main]
async fn main() {
    let app = Router::new()
        .route("/health", get(health))
        .route("/users/:id", get(get_user));

    let addr = SocketAddr::from(([127, 0, 0, 1], 3000));
    println!("Listening on {}", addr);

    axum::Server::bind(&addr)
        .serve(app.into_make_service())
        .await
        .unwrap();
}
```

#### async-std + tide

```rust
use tide::{Request, Response, StatusCode};
use serde::{Deserialize, Serialize};

#[derive(Serialize, Deserialize)]
struct User {
    id: u64,
    name: String,
}

#[async_std::main]
async fn main() -> tide::Result<()> {
    let mut app = tide::new();

    app.at("/health").get(|_| async { Ok("OK") });

    app.at("/users/:id").get(|req: Request<()>| async move {
        let id: u64 = req.param("id")?.parse()?;
        if id == 0 {
            return Ok(Response::new(StatusCode::NotFound));
        }
        let user = User {
            id,
            name: format!("User {}", id),
        };
        tide::Body::from_json(&user)
    });

    app.listen("127.0.0.1:3000").await?;
    Ok(())
}
```

### 3. å®šæ—¶å™¨ä¸å¹¶å‘å¯¹æ¯”

#### Tokio

```rust
use tokio::time::{sleep, Duration, interval};
use tokio::sync::mpsc;

#[tokio::main]
async fn main() {
    // å•ä¸€å®šæ—¶å™¨
    sleep(Duration::from_secs(1)).await;

    // é—´éš”å®šæ—¶å™¨
    let mut ticker = interval(Duration::from_secs(1));
    for _ in 0..3 {
        ticker.tick().await;
        println!("Tick!");
    }

    // å¹¶å‘æ‰§è¡Œä»»åŠ¡
    let (tx, mut rx) = mpsc::channel(100);

    let producer = async move {
        for i in 0..5 {
            tx.send(i).await.unwrap();
            sleep(Duration::from_millis(100)).await;
        }
    };

    let consumer = async move {
        while let Some(v) = rx.recv().await {
            println!("Received: {}", v);
        }
    };

    tokio::join!(producer, consumer);
}
```

#### smol

```rust
use smol::Timer;
use smol::channel::unbounded;
use std::time::Duration;

fn main() {
    smol::block_on(async {
        // å•ä¸€å®šæ—¶å™¨
        Timer::after(Duration::from_secs(1)).await;

        // é—´éš”å®šæ—¶å™¨ (æ‰‹åŠ¨å®ç°)
        for i in 0..3 {
            Timer::after(Duration::from_secs(1)).await;
            println!("Tick {}!", i);
        }

        // å¹¶å‘æ‰§è¡Œä»»åŠ¡
        let (tx, rx) = unbounded::<i32>();

        let producer = async move {
            for i in 0..5 {
                tx.send(i).await.unwrap();
                Timer::after(Duration::from_millis(100)).await;
            }
        };

        let consumer = async move {
            while let Ok(v) = rx.recv().await {
                println!("Received: {}", v);
            }
        };

        smol::future::race(producer, consumer).await.unwrap();
    });
}
```

#### embassy (åµŒå…¥å¼å®šæ—¶å™¨)

```rust
use embassy_time::{Duration, Timer, Ticker};
use embassy_sync::channel::Channel;
use embassy_sync::blocking_mutex::raw::ThreadModeRawMutex;

static CHANNEL: Channel<ThreadModeRawMutex, i32, 100> = Channel::new();

#[embassy_executor::main]
async fn main(spawner: Spawner) {
    // å•ä¸€å®šæ—¶å™¨
    Timer::after(Duration::from_secs(1)).await;

    // é—´éš”å®šæ—¶å™¨
    let mut ticker = Ticker::every(Duration::from_secs(1));
    for _ in 0..3 {
        ticker.next().await;
        info!("Tick!");
    }

    // å¯åŠ¨ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ä»»åŠ¡
    spawner.spawn(producer()).unwrap();
    spawner.spawn(consumer()).unwrap();
}

#[embassy_executor::task]
async fn producer() {
    for i in 0..5 {
        CHANNEL.send(i).await;
        Timer::after(Duration::from_millis(100)).await;
    }
}

#[embassy_executor::task]
async fn consumer() {
    loop {
        let v = CHANNEL.receive().await;
        info!("Received: {}", v);
    }
}
```

---

## è¿ç§»æŒ‡å—

### ä» async-std è¿ç§»åˆ° Tokio

#### Cargo.toml å˜æ›´

```toml
# æ—§ä¾èµ– (async-std)
[dependencies]
async-std = { version = "1.12", features = ["attributes"] }
tide = "0.16"

# æ–°ä¾èµ– (Tokio)
[dependencies]
tokio = { version = "1.35", features = ["full"] }
axum = "0.7"
tower = "0.4"
```

#### å…¥å£ç‚¹å˜æ›´

```rust
// æ—§ä»£ç 
#[async_std::main]
async fn main() {
    // ...
}

// æ–°ä»£ç 
#[tokio::main]
async fn main() {
    // ...
}
```

#### ç½‘ç»œæ“ä½œå˜æ›´

```rust
// æ—§ä»£ç  (async-std)
use async_std::net::TcpListener;
use async_std::io::prelude::*;

let listener = TcpListener::bind("127.0.0.1:8080").await?;
let mut stream = async_std::net::TcpStream::connect("127.0.0.1:8080").await?;
stream.write_all(b"hello").await?;

// æ–°ä»£ç  (Tokio)
use tokio::net::TcpListener;
use tokio::io::AsyncWriteExt;

let listener = TcpListener::bind("127.0.0.1:8080").await?;
let mut stream = tokio::net::TcpStream::connect("127.0.0.1:8080").await?;
stream.write_all(b"hello").await?;
```

#### æ–‡ä»¶IOå˜æ›´

```rust
// æ—§ä»£ç 
use async_std::fs::File;
use async_std::io::prelude::*;

let mut file = File::open("file.txt").await?;
let mut contents = String::new();
file.read_to_string(&mut contents).await?;

// æ–°ä»£ç 
use tokio::fs::File;
use tokio::io::AsyncReadExt;

let mut file = File::open("file.txt").await?;
let mut contents = String::new();
file.read_to_string(&mut contents).await?;
```

#### ä»»åŠ¡ç”Ÿæˆå˜æ›´

```rust
// æ—§ä»£ç 
let handle = async_std::task::spawn(async {
    // ä»»åŠ¡å†…å®¹
});
handle.await;

// æ–°ä»£ç 
let handle = tokio::spawn(async {
    // ä»»åŠ¡å†…å®¹
});
handle.await?;
```

### ä»æ ‡å‡†åº“è¿ç§»åˆ°å¼‚æ­¥

```rust
// åŒæ­¥ä»£ç 
use std::net::TcpListener;
use std::io::{Read, Write};
use std::thread;

fn main() -> std::io::Result<()> {
    let listener = TcpListener::bind("127.0.0.1:8080")?;

    for stream in listener.incoming() {
        let stream = stream?;
        thread::spawn(move || {
            handle_connection(stream);
        });
    }
    Ok(())
}

fn handle_connection(mut stream: std::net::TcpStream) {
    let mut buffer = [0; 1024];
    loop {
        match stream.read(&mut buffer) {
            Ok(0) => break,
            Ok(n) => {
                stream.write_all(&buffer[0..n]).unwrap();
            }
            Err(_) => break,
        }
    }
}

// å¼‚æ­¥ä»£ç  (Tokio)
use tokio::net::TcpListener;
use tokio::io::{AsyncReadExt, AsyncWriteExt};

#[tokio::main]
async fn main() -> tokio::io::Result<()> {
    let listener = TcpListener::bind("127.0.0.1:8080").await?;

    loop {
        let (mut socket, _) = listener.accept().await?;
        tokio::spawn(async move {
            handle_connection(&mut socket).await;
        });
    }
}

async fn handle_connection(socket: &mut tokio::net::TcpStream) {
    let mut buffer = vec![0; 1024];
    loop {
        match socket.read(&mut buffer).await {
            Ok(0) => break,
            Ok(n) => {
                socket.write_all(&buffer[0..n]).await.unwrap();
            }
            Err(_) => break,
        }
    }
}
```

### è¿è¡Œæ—¶æ··åˆä½¿ç”¨

åœ¨æŸäº›åœºæ™¯ä¸‹, å¯èƒ½éœ€è¦æ··åˆä½¿ç”¨å¤šä¸ªè¿è¡Œæ—¶çš„ç»„ä»¶:

```rust
// ä½¿ç”¨ smol çš„ async-io é©±åŠ¨ Tokio
use tokio::runtime::Runtime;

fn main() {
    let rt = Runtime::new().unwrap();

    rt.block_on(async {
        // ä½¿ç”¨ smol çš„ IO (å¦‚æœéœ€è¦åœ¨ tokio ä¸­ä½¿ç”¨ smol å…¼å®¹çš„åº“)
        smol::future::block_on(async {
            // smol å¼‚æ­¥ä»£ç 
        });
    });
}
```

---

## å†³ç­–æ£€æŸ¥æ¸…å•

### åˆæ­¥è¯„ä¼°

- [ ] ç›®æ ‡å¹³å°æ˜¯å¦æ”¯æŒæ ‡å‡†åº“ (`std`)?
  - å¦ â†’ è€ƒè™‘ **embassy** (no_std)
  - æ˜¯ â†’ ç»§ç»­è¯„ä¼°

- [ ] é¡¹ç›®ç±»å‹?
  - åµŒå…¥å¼/IoT â†’ **embassy**
  - WebæœåŠ¡/API â†’ ç»§ç»­è¯„ä¼°
  - æ¡Œé¢åº”ç”¨ â†’ ç»§ç»­è¯„ä¼°
  - CLIå·¥å…· â†’ ç»§ç»­è¯„ä¼°

### æ€§èƒ½éœ€æ±‚è¯„ä¼°

- [ ] æ˜¯å¦éœ€è¦ >100k RPS ååé‡?
  - æ˜¯ â†’ **Tokio** (io_uringä¼˜åŒ–)
  - å¦ â†’ ç»§ç»­è¯„ä¼°

- [ ] æ˜¯å¦è¦æ±‚ P99 å»¶è¿Ÿ < 1ms?
  - æ˜¯ â†’ **Tokio** æˆ– **smol**
  - å¦ â†’ ç»§ç»­è¯„ä¼°

- [ ] æ˜¯å¦æœ‰ç¡¬å®æ—¶è¦æ±‚?
  - æ˜¯ â†’ **embassy** (åµŒå…¥å¼) / **Tokio** + çº¿ç¨‹äº²å’Œæ€§
  - å¦ â†’ ç»§ç»­è¯„ä¼°

### åŠŸèƒ½éœ€æ±‚è¯„ä¼°

- [ ] æ˜¯å¦éœ€è¦ HTTP/WebSocket?
  - æ˜¯ â†’ **Tokio** (Axum/Actix-web) æˆ– **async-std** (tide)
  - å¦ â†’ ç»§ç»­è¯„ä¼°

- [ ] æ˜¯å¦éœ€è¦ gRPC?
  - æ˜¯ â†’ **Tokio** (Tonic)
  - å¦ â†’ ç»§ç»­è¯„ä¼°

- [ ] æ˜¯å¦éœ€è¦ç‰¹å®šæ•°æ®åº“é©±åŠ¨?
  - æ£€æŸ¥é©±åŠ¨æ”¯æŒçš„è¿è¡Œæ—¶
  - Tokio ç”Ÿæ€æœ€å®Œæ•´

### ç”Ÿæ€ä¸ç»´æŠ¤è¯„ä¼°

- [ ] æ˜¯å¦é•¿æœŸç»´æŠ¤çš„ä¼ä¸šé¡¹ç›®?
  - æ˜¯ â†’ **Tokio** (æœ€æ´»è·ƒ, æœ€æˆç†Ÿ)
  - å¦ â†’ å¯é€‰ **async-std** æˆ– **smol**

- [ ] å›¢é˜Ÿæ˜¯å¦æœ‰ç‰¹å®šè¿è¡Œæ—¶ç»éªŒ?
  - è€ƒè™‘å­¦ä¹ æˆæœ¬

- [ ] æ˜¯å¦éœ€è¦ç‰¹å®šåº“çš„å…¼å®¹?
  - æ£€æŸ¥ç›®æ ‡åº“çš„æ–‡æ¡£ä¸­çš„è¿è¡Œæ—¶è¦æ±‚

### æœ€ç»ˆå†³ç­–çŸ©é˜µ

| æ¡ä»¶ç»„åˆ | æ¨èè¿è¡Œæ—¶ | ç†ç”± |
|----------|------------|------|
| åµŒå…¥å¼/æ— std | embassy | å”¯ä¸€é€‰æ‹© |
| ä¼ä¸šçº§WebæœåŠ¡ | Tokio | ç”Ÿæ€æœ€å®Œå–„ |
| é«˜å¹¶å‘+ä½å»¶è¿Ÿ | Tokio | æ€§èƒ½æœ€ä¼˜ |
| èµ„æºå—é™Linux | smol | è½»é‡é«˜æ•ˆ |
| æ ‡å‡†åº“APIåå¥½ | async-std | APIé£æ ¼ä¸€è‡´ |
| æ··åˆ/å®éªŒé¡¹ç›® | smol | çµæ´»å¯ç»„åˆ |

---

## å‚è€ƒèµ„æº

### å®˜æ–¹æ–‡æ¡£

- [Tokio Documentation](https://tokio.rs/)
- [async-std Book](https://book.async.rs/)
- [smol Documentation](https://docs.rs/smol/)
- [embassy Documentation](https://embassy.dev/)

### æ€§èƒ½åŸºå‡†æµ‹è¯•

- [Web Framework Benchmarks](https://www.techempower.com/benchmarks/)
- [Rust Async Benchmarks](https://github.com/jasonwilliams/benchmark)

### ç¤¾åŒºè®¨è®º

- [Rust Async Working Group](https://github.com/rust-lang/wg-async)
- [Reddit r/rust](https://www.reddit.com/r/rust/)

---

## ç‰ˆæœ¬å†å²

| ç‰ˆæœ¬ | æ—¥æœŸ | æ›´æ–°å†…å®¹ |
|------|------|----------|
| 1.0.0 | 2026-02-21 | åˆå§‹ç‰ˆæœ¬ |

---

> **æ³¨æ„**: æœ¬å†³ç­–æ ‘åŸºäº2026å¹´åˆçš„æŠ€æœ¯çŠ¶æ€ã€‚Rustå¼‚æ­¥ç”Ÿæ€å‘å±•è¿…é€Ÿ, å»ºè®®åœ¨åšæœ€ç»ˆå†³ç­–å‰æŸ¥é˜…æœ€æ–°çš„å®˜æ–¹æ–‡æ¡£å’Œç¤¾åŒºè®¨è®ºã€‚

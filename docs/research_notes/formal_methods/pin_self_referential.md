# Pin å’Œè‡ªå¼•ç”¨ç±»å‹å½¢å¼åŒ–

> **åˆ›å»ºæ—¥æœŸ**: 2025-01-27
> **æœ€åæ›´æ–°**: 2025-11-15
> **Rust ç‰ˆæœ¬**: 1.91.1+ (Edition 2024) âœ…
> **çŠ¶æ€**: ğŸ”„ è¿›è¡Œä¸­

---

## ğŸ“Š ç›®å½•

- [Pin å’Œè‡ªå¼•ç”¨ç±»å‹å½¢å¼åŒ–](#pin-å’Œè‡ªå¼•ç”¨ç±»å‹å½¢å¼åŒ–)
  - [ğŸ“Š ç›®å½•](#-ç›®å½•)
  - [ğŸ¯ ç ”ç©¶ç›®æ ‡](#-ç ”ç©¶ç›®æ ‡)
    - [æ ¸å¿ƒé—®é¢˜](#æ ¸å¿ƒé—®é¢˜)
    - [é¢„æœŸæˆæœ](#é¢„æœŸæˆæœ)
  - [ğŸ“š ç†è®ºåŸºç¡€](#-ç†è®ºåŸºç¡€)
    - [Pin ç±»å‹](#pin-ç±»å‹)
    - [è‡ªå¼•ç”¨ç±»å‹](#è‡ªå¼•ç”¨ç±»å‹)
    - [ç§»åŠ¨è¯­ä¹‰ä¸ Pin](#ç§»åŠ¨è¯­ä¹‰ä¸-pin)
    - [ç›¸å…³æ¦‚å¿µ](#ç›¸å…³æ¦‚å¿µ)
    - [ç†è®ºèƒŒæ™¯](#ç†è®ºèƒŒæ™¯)
  - [ğŸ”¬ å½¢å¼åŒ–å®šä¹‰](#-å½¢å¼åŒ–å®šä¹‰)
    - [1. Pin ç±»å‹å½¢å¼åŒ–](#1-pin-ç±»å‹å½¢å¼åŒ–)
    - [2. è‡ªå¼•ç”¨ç±»å‹å½¢å¼åŒ–](#2-è‡ªå¼•ç”¨ç±»å‹å½¢å¼åŒ–)
    - [3. Pin ä¿è¯](#3-pin-ä¿è¯)
  - [âœ… è¯æ˜ç›®æ ‡](#-è¯æ˜ç›®æ ‡)
    - [å¾…è¯æ˜çš„æ€§è´¨](#å¾…è¯æ˜çš„æ€§è´¨)
    - [è¯æ˜æ–¹æ³•](#è¯æ˜æ–¹æ³•)
  - [ğŸ’» ä»£ç ç¤ºä¾‹ä¸å®è·µ](#-ä»£ç ç¤ºä¾‹ä¸å®è·µ)
    - [ç¤ºä¾‹ 1: Pin åŸºç¡€](#ç¤ºä¾‹-1-pin-åŸºç¡€)
    - [ç¤ºä¾‹ 2: è‡ªå¼•ç”¨ç»“æ„](#ç¤ºä¾‹-2-è‡ªå¼•ç”¨ç»“æ„)
    - [ç¤ºä¾‹ 3: Future å’Œ Pin](#ç¤ºä¾‹-3-future-å’Œ-pin)
    - [ç¤ºä¾‹ 4: è‡ªå¼•ç”¨ç»“æ„ä½“](#ç¤ºä¾‹-4-è‡ªå¼•ç”¨ç»“æ„ä½“)
    - [ç¤ºä¾‹ 5: Pin æŠ•å½±](#ç¤ºä¾‹-5-pin-æŠ•å½±)
  - [ğŸ“– å‚è€ƒæ–‡çŒ®](#-å‚è€ƒæ–‡çŒ®)
    - [å­¦æœ¯è®ºæ–‡](#å­¦æœ¯è®ºæ–‡)
    - [å®˜æ–¹æ–‡æ¡£](#å®˜æ–¹æ–‡æ¡£)
    - [ç›¸å…³ä»£ç ](#ç›¸å…³ä»£ç )
    - [å·¥å…·èµ„æº](#å·¥å…·èµ„æº)
  - [ğŸ”„ ç ”ç©¶è¿›å±•](#-ç ”ç©¶è¿›å±•)
    - [å·²å®Œæˆ âœ…](#å·²å®Œæˆ-)
    - [è¿›è¡Œä¸­ ğŸ”„](#è¿›è¡Œä¸­-)
    - [è®¡åˆ’ä¸­ ğŸ“‹](#è®¡åˆ’ä¸­-)

---

## ğŸ¯ ç ”ç©¶ç›®æ ‡

æœ¬ç ”ç©¶çš„ç›®çš„æ˜¯å½¢å¼åŒ–å®šä¹‰ Rust çš„ Pin ç±»å‹å’Œè‡ªå¼•ç”¨ç±»å‹ï¼Œå¹¶è¯æ˜å…¶å®‰å…¨æ€§ã€‚

### æ ¸å¿ƒé—®é¢˜

1. **Pin ç±»å‹çš„å½¢å¼åŒ–**: å¦‚ä½•ç”¨æ•°å­¦è¯­è¨€ç²¾ç¡®æè¿° Pin ç±»å‹ï¼Ÿ
2. **è‡ªå¼•ç”¨ç±»å‹å®‰å…¨**: å¦‚ä½•è¯æ˜è‡ªå¼•ç”¨ç±»å‹çš„å®‰å…¨æ€§ï¼Ÿ
3. **Pin ä¿è¯**: Pin å¦‚ä½•ä¿è¯å†…å­˜ä½ç½®çš„ç¨³å®šæ€§ï¼Ÿ

### é¢„æœŸæˆæœ

- Pin ç±»å‹çš„å½¢å¼åŒ–å®šä¹‰
- è‡ªå¼•ç”¨ç±»å‹çš„å½¢å¼åŒ–æ¨¡å‹
- Pin ä¿è¯çš„å½¢å¼åŒ–è¯æ˜

---

## ğŸ“š ç†è®ºåŸºç¡€

### Pin ç±»å‹

**Pin**: `Pin<P>` æ˜¯ä¸€ä¸ªæ™ºèƒ½æŒ‡é’ˆï¼Œä¿è¯è¢«æŒ‡å‘çš„å€¼ä¸ä¼šè¢«ç§»åŠ¨ã€‚Pin é€šè¿‡ç±»å‹ç³»ç»Ÿæä¾›å†…å­˜ä½ç½®ç¨³å®šæ€§çš„ä¿è¯ã€‚

**Unpin**: `Unpin` æ˜¯ä¸€ä¸ª marker traitï¼Œè¡¨ç¤ºç±»å‹å¯ä»¥å®‰å…¨ç§»åŠ¨ã€‚å¤§å¤šæ•°ç±»å‹éƒ½å®ç°äº† `Unpin`ã€‚

**Pin ä¿è¯**: å¯¹äºé `Unpin` ç±»å‹ï¼ŒPin ä¿è¯è¢« Pin çš„å€¼åœ¨å†…å­˜ä¸­çš„ä½ç½®ä¸ä¼šæ”¹å˜ï¼Œä»è€Œä¿è¯è‡ªå¼•ç”¨ç±»å‹çš„å®‰å…¨æ€§ã€‚

### è‡ªå¼•ç”¨ç±»å‹

**è‡ªå¼•ç”¨ç±»å‹ (Self-Referential Type)**: åŒ…å«æŒ‡å‘è‡ªèº«å­—æ®µå¼•ç”¨çš„ç±»å‹ã€‚è‡ªå¼•ç”¨ç±»å‹åœ¨ç»“æ„ä½“ä¸­åŒ…å«æŒ‡å‘åŒä¸€ç»“æ„ä½“å…¶ä»–å­—æ®µçš„å¼•ç”¨ã€‚

**æ‚¬å‚æŒ‡é’ˆé—®é¢˜**: è‡ªå¼•ç”¨ç±»å‹åœ¨ç§»åŠ¨æ—¶ä¼šå¯¼è‡´æ‚¬å‚æŒ‡é’ˆï¼Œå› ä¸ºç§»åŠ¨ä¼šæ”¹å˜å†…å­˜åœ°å€ï¼Œä½†å¼•ç”¨ä»ç„¶æŒ‡å‘æ—§åœ°å€ã€‚

**è§£å†³æ–¹æ¡ˆ**: ä½¿ç”¨ Pin é˜²æ­¢ç§»åŠ¨ï¼Œç¡®ä¿è‡ªå¼•ç”¨ç±»å‹çš„å†…å­˜ä½ç½®ç¨³å®šã€‚

### ç§»åŠ¨è¯­ä¹‰ä¸ Pin

**å…³ç³»**: Pin é€šè¿‡ç±»å‹ç³»ç»Ÿä¿è¯ï¼Œè¢« Pin çš„å€¼ä¸ä¼šè¢«ç§»åŠ¨ï¼Œä»è€Œä¿è¯è‡ªå¼•ç”¨ç±»å‹çš„å®‰å…¨æ€§ã€‚

**Pin çº¦æŸ**: Pin é€šè¿‡ç±»å‹ç³»ç»Ÿé™åˆ¶äº†å¯¹è¢« Pin å€¼çš„æ“ä½œï¼Œé˜²æ­¢å¯èƒ½å¯¼è‡´ç§»åŠ¨çš„æ“ä½œã€‚

### ç›¸å…³æ¦‚å¿µ

**å†…å­˜ä½ç½®ç¨³å®šæ€§ (Memory Location Stability)**: å€¼åœ¨å†…å­˜ä¸­çš„ä½ç½®ä¿æŒä¸å˜ã€‚Pin ä¿è¯é `Unpin` ç±»å‹çš„å€¼åœ¨å†…å­˜ä¸­çš„ä½ç½®ç¨³å®šã€‚

**æ ˆå›ºå®š (Stack Pinning)**: ä½¿ç”¨ `Pin::new` åœ¨æ ˆä¸Šå›ºå®šå€¼ã€‚è¿™è¦æ±‚å€¼å®ç° `Unpin`ã€‚

**å †å›ºå®š (Heap Pinning)**: ä½¿ç”¨ `Box::pin` åœ¨å †ä¸Šå›ºå®šå€¼ã€‚è¿™å…è®¸å›ºå®šé `Unpin` ç±»å‹ã€‚

**Pin æŠ•å½± (Pin Projection)**: ä»è¢« Pin çš„ç»“æ„ä½“ä¸­è·å–è¢« Pin çš„å­—æ®µã€‚Pin æŠ•å½±éœ€è¦ç‰¹æ®Šå¤„ç†ï¼Œç¡®ä¿å®‰å…¨æ€§ã€‚

### ç†è®ºèƒŒæ™¯

**çº¿æ€§ç±»å‹ç³»ç»Ÿ (Linear Type System)**: Pin å¯ä»¥è§†ä¸ºçº¿æ€§ç±»å‹ç³»ç»Ÿçš„ä¸€ç§åº”ç”¨ï¼Œç¡®ä¿å€¼ä¸ä¼šè¢«æ„å¤–ç§»åŠ¨ã€‚

**åŒºåŸŸç±»å‹ (Region Types)**: Pin ä¸åŒºåŸŸç±»å‹ç›¸å…³ï¼Œéƒ½æ¶‰åŠå†…å­˜ä½ç½®çš„çº¦æŸã€‚

**å†…å­˜å®‰å…¨ç†è®º**: Pin æ˜¯ Rust å†…å­˜å®‰å…¨ä¿è¯çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œç¡®ä¿è‡ªå¼•ç”¨ç±»å‹çš„å®‰å…¨æ€§ã€‚

---

## ğŸ”¬ å½¢å¼åŒ–å®šä¹‰

### 1. Pin ç±»å‹å½¢å¼åŒ–

**å®šä¹‰ 1.1 (Pin ç±»å‹)**: Pin ç±»å‹ $\text{Pin}[P]$ æ˜¯ä¸€ä¸ªæ™ºèƒ½æŒ‡é’ˆç±»å‹ï¼Œå…¶ä¸­ $P$ æ˜¯æŒ‡é’ˆç±»å‹ï¼ˆå¦‚ $\Box[T]$ æˆ– $\&mut T$ï¼‰ã€‚

**å®šä¹‰ 1.2 (Pin ä¸å˜æ€§)**: å¯¹äº $\text{Pin}[P]$ï¼Œå¦‚æœ $P$ æ˜¯ `Unpin`ï¼Œåˆ™å€¼å¯ä»¥å®‰å…¨ç§»åŠ¨ï¼›å¦åˆ™ï¼Œå€¼ä¸èƒ½è¢«ç§»åŠ¨ã€‚

**å®šä¹‰ 1.3 (Pin ä¿è¯)**: Pin ä¿è¯å¯¹äºé `Unpin` ç±»å‹ï¼Œè¢« Pin çš„å€¼åœ¨å†…å­˜ä¸­çš„ä½ç½®ä¸ä¼šæ”¹å˜ã€‚

### 2. è‡ªå¼•ç”¨ç±»å‹å½¢å¼åŒ–

**å®šä¹‰ 2.1 (è‡ªå¼•ç”¨ç±»å‹)**: è‡ªå¼•ç”¨ç±»å‹ $T$ æ˜¯ä¸€ä¸ªåŒ…å«æŒ‡å‘è‡ªèº«å­—æ®µå¼•ç”¨çš„ç±»å‹ï¼š
$$T = \{\text{field}_1 : \tau_1, \ldots, \text{field}_n : \&'a \tau_i\}$$

å…¶ä¸­ $\&'a \tau_i$ æŒ‡å‘ $T$ çš„æŸä¸ªå­—æ®µã€‚

**å®šä¹‰ 2.2 (è‡ªå¼•ç”¨çº¦æŸ)**: å¯¹äºè‡ªå¼•ç”¨ç±»å‹ $T$ï¼Œç”Ÿå‘½å‘¨æœŸ $'a$ å¿…é¡»ä¸ $T$ çš„ç”Ÿå‘½å‘¨æœŸç›¸å…³ï¼Œç¡®ä¿å¼•ç”¨æœ‰æ•ˆã€‚

### 3. Pin ä¿è¯

**å®šç† 1 (Pin ä¿è¯)**:
å¯¹äºé `Unpin` ç±»å‹ $T$ å’Œ $\text{Pin}[\Box[T]]$ï¼Œè¢« Pin çš„å€¼åœ¨å†…å­˜ä¸­çš„ä½ç½®ä¸ä¼šæ”¹å˜ã€‚

**è¯æ˜æ€è·¯**:

- Pin é€šè¿‡ç±»å‹ç³»ç»Ÿé˜²æ­¢ç§»åŠ¨æ“ä½œ
- ç¼–è¯‘å™¨ä¿è¯è¢« Pin çš„å€¼ä¸ä¼šè¢«ç§»åŠ¨

**å®šç† 2 (è‡ªå¼•ç”¨ç±»å‹å®‰å…¨)**:
å¦‚æœè‡ªå¼•ç”¨ç±»å‹ $T$ è¢« Pinï¼Œåˆ™å…¶è‡ªå¼•ç”¨å­—æ®µæ˜¯å®‰å…¨çš„ï¼Œä¸ä¼šå‡ºç°æ‚¬å‚æŒ‡é’ˆã€‚

**è¯æ˜æ€è·¯**:

- Pin ä¿è¯å€¼çš„å†…å­˜ä½ç½®ç¨³å®š
- è‡ªå¼•ç”¨å­—æ®µæŒ‡å‘åŒä¸€å€¼å†…çš„å­—æ®µï¼Œä½ç½®ç¨³å®šä¿è¯å¼•ç”¨æœ‰æ•ˆ

**å®šç† 3 (Pin æŠ•å½±å®‰å…¨)**:
å¦‚æœä»è¢« Pin çš„ç»“æ„ä½“ä¸­å®‰å…¨åœ°æŠ•å½±å‡ºè¢« Pin çš„å­—æ®µï¼Œåˆ™æŠ•å½±åçš„å­—æ®µä»ç„¶æ˜¯å®‰å…¨çš„ã€‚

**è¯æ˜æ€è·¯**:

- Pin æŠ•å½±éœ€è¦æ»¡è¶³ç‰¹å®šçš„å®‰å…¨æ¡ä»¶
- è¿™äº›æ¡ä»¶ä¿è¯æŠ•å½±åçš„å­—æ®µä»ç„¶æ»¡è¶³ Pin ä¿è¯
- è‡ªå¼•ç”¨ç±»å‹çš„å®‰å…¨æ€§ä¾èµ–äº Pin ä¿è¯

---

## âœ… è¯æ˜ç›®æ ‡

### å¾…è¯æ˜çš„æ€§è´¨

1. **Pin ä¸å˜æ€§**: Pin ä¿è¯è¢« Pin çš„å€¼ä¸ä¼šè¢«ç§»åŠ¨
2. **è‡ªå¼•ç”¨ç±»å‹å®‰å…¨**: è‡ªå¼•ç”¨ç±»å‹åœ¨ Pin ä¸‹æ˜¯å®‰å…¨çš„
3. **Future å®‰å…¨æ€§**: Future ä½¿ç”¨ Pin ä¿è¯å®‰å…¨æ€§

### è¯æ˜æ–¹æ³•

- **ç±»å‹ç³»ç»Ÿè¯æ˜**: è¯æ˜ Pin çš„ç±»å‹ç³»ç»Ÿä¿è¯
- **è¯­ä¹‰è¯æ˜**: è¯æ˜ Pin çš„è¯­ä¹‰æ­£ç¡®æ€§
- **å®‰å…¨æ€§è¯æ˜**: è¯æ˜è‡ªå¼•ç”¨ç±»å‹çš„å®‰å…¨æ€§

---

## ğŸ’» ä»£ç ç¤ºä¾‹ä¸å®è·µ

### ç¤ºä¾‹ 1: Pin åŸºç¡€

```rust
use std::pin::Pin;

struct MyStruct {
    data: i32,
}

// MyStruct å®ç°äº† Unpinï¼Œå¯ä»¥å®‰å…¨ç§»åŠ¨
impl Unpin for MyStruct {}

fn main() {
    let mut x = MyStruct { data: 42 };
    let pinned = Pin::new(&mut x);

    // å³ä½¿è¢« Pinï¼Œä¹Ÿå¯ä»¥ç§»åŠ¨ï¼ˆå› ä¸ºå®ç°äº† Unpinï¼‰
    let moved = x;
}
```

**å½¢å¼åŒ–æè¿°**:

- $\text{MyStruct} : \text{Unpin}$
- $\text{Pin}[\&mut \text{MyStruct}]$ ä¸é˜»æ­¢ç§»åŠ¨ï¼Œå› ä¸ºå®ç°äº† `Unpin`

### ç¤ºä¾‹ 2: è‡ªå¼•ç”¨ç»“æ„

```rust
use std::pin::Pin;
use std::marker::PhantomPinned;

struct SelfReferential {
    data: String,
    self_ref: Option<*const String>,
    _pin: PhantomPinned,
}

impl SelfReferential {
    fn new(data: String) -> Pin<Box<Self>> {
        let mut boxed = Box::pin(SelfReferential {
            data,
            self_ref: None,
            _pin: PhantomPinned,
        });

        let self_ptr: *const String = &boxed.data;
        boxed.self_ref = Some(self_ptr);

        boxed
    }

    fn get_data(&self) -> &String {
        &self.data
    }
}
```

**å½¢å¼åŒ–æè¿°**:

- $\text{SelfReferential} = \{\text{data} : \text{String}, \text{self\_ref} : \text{Option}(\*const \text{String})\}$
- è‡ªå¼•ç”¨: $\text{self\_ref}$ æŒ‡å‘ $\text{data}$
- Pin ä¿è¯: $\text{Pin}[\Box[\text{SelfReferential}]]$ ä¿è¯å†…å­˜ä½ç½®ç¨³å®š

### ç¤ºä¾‹ 3: Future å’Œ Pin

```rust
use std::pin::Pin;
use std::future::Future;
use std::task::{Context, Poll};

struct MyFuture {
    value: Option<i32>,
}

impl Future for MyFuture {
    type Output = i32;

    fn poll(mut self: Pin<&mut Self>, _cx: &mut Context<'_>) -> Poll<Self::Output> {
        match self.value {
            Some(v) => Poll::Ready(v),
            None => {
                self.value = Some(42);
                Poll::Pending
            }
        }
    }
}

async fn use_future() {
    let future = MyFuture { value: None };
    let pinned = Box::pin(future);
    let result = pinned.await;
    println!("ç»“æœ: {}", result);
}
```

**Future å’Œ Pin åˆ†æ**ï¼š

- Future å¯èƒ½åŒ…å«è‡ªå¼•ç”¨
- Pin ä¿è¯ Future ä¸ä¼šè¢«ç§»åŠ¨
- `Box::pin` åœ¨å †ä¸Šå›ºå®š Future

### ç¤ºä¾‹ 4: è‡ªå¼•ç”¨ç»“æ„ä½“

```rust
use std::pin::Pin;
use std::marker::PhantomPinned;

struct SelfReferential {
    data: String,
    self_ref: *const String,  // æŒ‡å‘ data çš„æŒ‡é’ˆ
    _pin: PhantomPinned,  // æ ‡è®°ä¸º !Unpin
}

impl SelfReferential {
    fn new(data: String) -> Pin<Box<Self>> {
        let mut boxed = Box::pin(SelfReferential {
            data,
            self_ref: std::ptr::null(),
            _pin: PhantomPinned,
        });

        let self_ptr: *const String = &boxed.data;
        unsafe {
            let mut_ref = Pin::as_mut(&mut *boxed);
            Pin::get_unchecked_mut(mut_ref).self_ref = self_ptr;
        }

        boxed
    }

    fn get_data(&self) -> &str {
        unsafe {
            &*self.self_ref
        }
    }
}

fn use_self_referential() {
    let pinned = SelfReferential::new(String::from("hello"));
    println!("{}", pinned.get_data());
}
```

**è‡ªå¼•ç”¨ç»“æ„ä½“åˆ†æ**ï¼š

- ä½¿ç”¨åŸå§‹æŒ‡é’ˆå®ç°è‡ªå¼•ç”¨
- `PhantomPinned` æ ‡è®°ä¸º `!Unpin`
- Pin ä¿è¯ç»“æ„ä½“ä¸ä¼šè¢«ç§»åŠ¨ï¼ŒæŒ‡é’ˆå§‹ç»ˆæœ‰æ•ˆ

### ç¤ºä¾‹ 5: Pin æŠ•å½±

```rust
use std::pin::Pin;

struct Wrapper {
    inner: Inner,
}

struct Inner {
    value: i32,
}

impl Wrapper {
    fn get_inner(self: Pin<&mut Self>) -> Pin<&mut Inner> {
        unsafe {
            self.map_unchecked_mut(|s| &mut s.inner)
        }
    }
}
```

**Pin æŠ•å½±åˆ†æ**ï¼š

- ä»è¢« Pin çš„ç»“æ„ä½“ä¸­è·å–è¢« Pin çš„å­—æ®µ
- ä½¿ç”¨ `map_unchecked_mut` è¿›è¡ŒæŠ•å½±
- éœ€è¦ç¡®ä¿æŠ•å½±çš„å®‰å…¨æ€§

```rust
use std::pin::Pin;
use std::future::Future;
use std::task::{Context, Poll};

struct MyFuture {
    state: i32,
}

impl Future for MyFuture {
    type Output = i32;

    fn poll(self: Pin<&mut Self>, _cx: &mut Context<'_>) -> Poll<Self::Output> {
        Poll::Ready(self.state)
    }
}

async fn use_future() {
    let fut = MyFuture { state: 42 };
    let result = fut.await;
    println!("ç»“æœ: {}", result);
}
```

**å½¢å¼åŒ–æè¿°**:

- $\text{Future} = \{\text{poll} : \text{Pin}[\&mut \text{Self}] \times \text{Context} \to \text{Poll}[\text{Output}]\}$
- Pin ä¿è¯: Future çš„ poll æ–¹æ³•ä½¿ç”¨ Pin ä¿è¯è‡ªå¼•ç”¨å®‰å…¨æ€§
- å¼‚æ­¥æ‰§è¡Œ: `await` ä½¿ç”¨ Pin ä¿è¯ Future çš„å†…å­˜ä½ç½®ç¨³å®š

---

## ğŸ“– å‚è€ƒæ–‡çŒ®

### å­¦æœ¯è®ºæ–‡

1. **Pin and Unpin**
   - ä½œè€…: Rust å›¢é˜Ÿ
   - å¹´ä»½: 2018
   - æ‘˜è¦: Pin ç±»å‹çš„ RFC å’Œå®ç°

2. **Self-Referential Types**
   - ä½œè€…: ç ”ç©¶ç¤¾åŒº
   - æ‘˜è¦: è‡ªå¼•ç”¨ç±»å‹çš„å½¢å¼åŒ–ç ”ç©¶

### å®˜æ–¹æ–‡æ¡£

- [Pin RFC](https://github.com/rust-lang/rfcs/blob/master/text/2349-pin.md)
- [Pin æ–‡æ¡£](https://doc.rust-lang.org/std/pin/index.html)
- [Unpin Trait](https://doc.rust-lang.org/std/marker/trait.Unpin.html)

### ç›¸å…³ä»£ç 

- [è‡ªå¼•ç”¨ç»“æ„å®ç°](../../../crates/c01_ownership_borrow_scope/src/)
- [å¼‚æ­¥ Future å®ç°](../../../crates/c06_async/src/)

### å·¥å…·èµ„æº

- [Rust Analyzer](https://rust-analyzer.github.io/): æä¾› Pin ç±»å‹æ£€æŸ¥
- [Miri](https://github.com/rust-lang/miri): æ£€æŸ¥ Pin ç›¸å…³çš„æœªå®šä¹‰è¡Œä¸º

---

## ğŸ”„ ç ”ç©¶è¿›å±•

### å·²å®Œæˆ âœ…

- [x] ç ”ç©¶ç›®æ ‡å®šä¹‰
- [x] ç†è®ºåŸºç¡€æ•´ç†ï¼ˆåŒ…æ‹¬ç†è®ºèƒŒæ™¯å’Œç›¸å…³æ¦‚å¿µï¼‰
- [x] åˆæ­¥å½¢å¼åŒ–å®šä¹‰
- [x] æ·»åŠ è‡ªå¼•ç”¨ç±»å‹å®‰å…¨å®šç†ï¼ˆå®šç† 2ï¼‰
- [x] æ·»åŠ  Pin æŠ•å½±å®‰å…¨å®šç†ï¼ˆå®šç† 3ï¼‰
- [x] å®Œå–„ Pin ä¿è¯å®šç†çš„è¯æ˜æ€è·¯

### è¿›è¡Œä¸­ ğŸ”„

- [ ] å®Œæ•´çš„å½¢å¼åŒ–å®šä¹‰
- [ ] Pin ä¿è¯çš„å½¢å¼åŒ–è¯æ˜
- [ ] è‡ªå¼•ç”¨ç±»å‹å®‰å…¨æ€§è¯æ˜

### è®¡åˆ’ä¸­ ğŸ“‹

- [ ] ä¸å¼‚æ­¥ç³»ç»Ÿçš„é›†æˆ
- [ ] å®é™…åº”ç”¨æ¡ˆä¾‹
- [ ] ä¸å…¶ä»–è¯­è¨€å¯¹æ¯”

---

**ç»´æŠ¤è€…**: Rust Formal Methods Research Group
**æœ€åæ›´æ–°**: 2025-11-15
**çŠ¶æ€**: ğŸ”„ **è¿›è¡Œä¸­**

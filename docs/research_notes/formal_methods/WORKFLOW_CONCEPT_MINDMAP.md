# å·¥ä½œæµæ¦‚å¿µæ—è°± - æ€ç»´å¯¼å›¾

> **åˆ›å»ºæ—¥æœŸ**: 2026-02-21
> **æœ€åŽæ›´æ–°**: 2026-02-21
> **çŠ¶æ€**: ðŸ”„ æ–°å»º
> **å¯¹åº”ä»»åŠ¡**: P1-T12

---

## å…¨å±€æ€ç»´å¯¼å›¾

```text
                          å·¥ä½œæµæ¦‚å¿µæ—
                               â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                      â”‚                      â”‚
   ã€æ ¸å¿ƒæ¦‚å¿µã€‘              ã€æ¨¡å¼ã€‘                ã€å¼•æ“Žã€‘
        â”‚                      â”‚                      â”‚
    â”œâ”€çŠ¶æ€æœº               â”œâ”€é¡ºåºæµ               â”œâ”€Temporal
    â”‚  â”œâ”€çŠ¶æ€               â”‚  â””â”€ä¸²è¡Œæ‰§è¡Œ           â”œâ”€Cadence
    â”‚  â”œâ”€è½¬æ¢               â”œâ”€å¹¶è¡Œæµ               â”œâ”€è‡ªå»ºRust
    â”‚  â””â”€äº‹ä»¶               â”‚  â”œâ”€Fork/Join          â””â”€LiteFlow
    â”œâ”€æ´»åŠ¨                  â”œâ”€æ¡ä»¶åˆ†æ”¯
    â”‚  â”œâ”€è‡ªåŠ¨æ´»åŠ¨           â”‚  â”œâ”€If/Else
    â”‚  â”œâ”€äººå·¥ä»»åŠ¡           â”‚  â””â”€Switch
    â”‚  â””â”€å­æµç¨‹             â”œâ”€å¾ªçŽ¯
    â”œâ”€è¡¥å¿                  â”‚  â”œâ”€While
    â”‚  â”œâ”€è¡¥å¿é“¾             â”‚  â””â”€ForEach
    â”‚  â””â”€Sagaé›†æˆ           â””â”€å¼‚å¸¸å¤„ç†
    â””â”€è¶…æ—¶/é‡è¯•                â”œâ”€Try/Catch
       â”œâ”€æ´»åŠ¨è¶…æ—¶              â””â”€è¡¥å¿
       â”œâ”€å·¥ä½œæµè¶…æ—¶
       â””â”€é‡è¯•ç­–ç•¥
```

---

## è¯¦ç»†æ¦‚å¿µæ—è°±

### 1. å·¥ä½œæµçŠ¶æ€æœº

```text
                          å·¥ä½œæµçŠ¶æ€
                               â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚                  â”‚                  â”‚
       ã€åˆå§‹çŠ¶æ€ã€‘          ã€æ‰§è¡ŒçŠ¶æ€ã€‘        ã€ç»ˆæ­¢çŠ¶æ€ã€‘
            â”‚                  â”‚                  â”‚
        â”œâ”€Created           â”œâ”€Running          â”œâ”€Completed
        â”‚                   â”‚  â”œâ”€ActivityX     â”‚  â””â”€æˆåŠŸå®Œæˆ
        â””â”€Initialized       â”‚  â”œâ”€Waiting       â”œâ”€Failed
                            â”‚  â””â”€Compensating  â”‚  â””â”€å¤±è´¥è¡¥å¿
                            â”‚                  â””â”€Cancelled
                            â””â”€Suspended           â””â”€è¢«å–æ¶ˆ
```

**çŠ¶æ€è½¬æ¢è§„åˆ™**:

| å½“å‰çŠ¶æ€ | äº‹ä»¶ | ä¸‹ä¸€çŠ¶æ€ | æ¡ä»¶ |
| :--- | :--- | :--- | :--- |
| Created | Start | Running | - |
| Running(act) | ActivityComplete(act, Success) | Running(next) | next = transition(act) |
| Running(act) | ActivityComplete(act, Failure) | Compensating(act) | has_compensation |
| Compensating(act) | CompensateComplete | Compensating(prev) | prev = predecessor(act) |
| Compensating(first) | CompensateComplete | Failed | - |
| Running(act) | ExternalEvent(e) | Running(next) | e triggers transition |
| Running(act) | Timeout | Compensating(act) | timeout_policy = compensate |

**å½¢å¼åŒ–å®šä¹‰**ï¼ˆæ•°å­¦é£Žæ ¼ï¼‰:

**Def WF1ï¼ˆå·¥ä½œæµçŠ¶æ€ï¼‰**ï¼š$\mathit{WorkflowState} \in \{\mathrm{Created}, \mathrm{Running}(s), \mathrm{Waiting}(e), \mathrm{Compensating}(f), \mathrm{Completed}(r), \mathrm{Failed}(e), \mathrm{Cancelled}\}$ã€‚çŠ¶æ€è½¬æ¢ç”±äº‹ä»¶é©±åŠ¨ï¼›è§ [04_expressiveness_boundary](../../software_design_theory/02_workflow_safe_complete_models/04_expressiveness_boundary.md)ã€‚

---

### 2. æ´»åŠ¨(Activity)ç±»åž‹æ—

```text
                            æ´»åŠ¨ç±»åž‹
                               â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚                  â”‚                  â”‚
       ã€è‡ªåŠ¨æ´»åŠ¨ã€‘          ã€äººå·¥æ´»åŠ¨ã€‘        ã€æŽ§åˆ¶æ´»åŠ¨ã€‘
            â”‚                  â”‚                  â”‚
        â”œâ”€Serviceè°ƒç”¨        â”œâ”€ç”¨æˆ·ä»»åŠ¡         â”œâ”€å¼€å§‹/ç»“æŸ
        â”‚  â”œâ”€åŒæ­¥è°ƒç”¨          â”‚  â”œâ”€å®¡æ‰¹          â”œâ”€åˆ†æ”¯/åˆå¹¶
        â”‚  â””â”€å¼‚æ­¥è°ƒç”¨          â”‚  â””â”€å¡«å†™          â”œâ”€æ¡ä»¶
        â”œâ”€è„šæœ¬æ‰§è¡Œ            â”œâ”€ä¼šç­¾             â””â”€å­æµç¨‹
        â”‚  â”œâ”€è¡¨è¾¾å¼            â”‚  â””â”€å¤šäººå®¡æ‰¹
        â”‚  â””â”€å‡½æ•°              â””â”€æŽ¥æ”¶ä»»åŠ¡
        â””â”€è§„åˆ™æ‰§è¡Œ               â””â”€æ¶ˆæ¯ç­‰å¾…
           â”œâ”€DMNå†³ç­–
           â””â”€è§„åˆ™å¼•æ“Ž
```

**æ´»åŠ¨å±žæ€§**:

| å±žæ€§ | ç±»åž‹ | è¯´æ˜Ž |
| :--- | :--- | :--- |
| id | string | æ´»åŠ¨å”¯ä¸€æ ‡è¯† |
| input | Value -> Value | è¾“å…¥è½¬æ¢å‡½æ•° |
| execute | Value -> ActivityResult | æ‰§è¡Œé€»è¾‘ |
| compensate | option (Value -> ActivityResult) | è¡¥å¿é€»è¾‘ |
| timeout | option nat | è¶…æ—¶æ—¶é—´(ç§’) |
| retry_policy | option RetryPolicy | é‡è¯•ç­–ç•¥ |

**å½¢å¼åŒ–å®šä¹‰**ï¼ˆæ•°å­¦é£Žæ ¼ï¼‰:

**Def WF2ï¼ˆæ´»åŠ¨ï¼‰**ï¼šæ´»åŠ¨ $A = (\mathit{id}, \mathit{execute}, \mathit{compensate}, \mathit{timeout}, \mathit{retry})$ã€‚$\mathit{execute}: V \to \mathit{Result}$ï¼›$\mathit{compensate}: V \to \mathit{Result}$ å¯é€‰ï¼›è¶…æ—¶ä¸Žé‡è¯•ç­–ç•¥å¯é€‰ã€‚Rust å¯¹åº”ï¼š`async fn` + `Result` + `?`ã€‚

---

### 3. è¡¥å¿é“¾æ¨¡å¼

```text
                          è¡¥å¿é“¾
                               â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚                  â”‚                  â”‚
       ã€è¡¥å¿ç­–ç•¥ã€‘          ã€è¡¥å¿é¡ºåºã€‘        ã€è¡¥å¿ç»“æžœã€‘
            â”‚                  â”‚                  â”‚
        â”œâ”€å‘åŽè¡¥å¿          â”œâ”€é€†åºè¡¥å¿         â”œâ”€å®Œå…¨è¡¥å¿
        â”‚  â””â”€æ’¤é”€å·²æ‰§è¡Œ        â”‚  â””â”€LIFO          â”œâ”€éƒ¨åˆ†è¡¥å¿
        â”œâ”€å‘å‰è¡¥å¿          â”œâ”€é€‰æ‹©æ€§è¡¥å¿        â””â”€è¡¥å¿å¤±è´¥
        â”‚  â””â”€ç»§ç»­æ‰§è¡Œ          â”‚  â””â”€è·³è¿‡å¯é€‰
        â””â”€æ··åˆè¡¥å¿          â””â”€å¹¶è¡Œè¡¥å¿
           â”œâ”€å‘åŽä¸ºä¸»
           â””â”€å‘å‰ä¸ºè¾…
```

**è¡¥å¿é“¾æ‰§è¡Œæµç¨‹**:

```text
Activity1 -> Activity2 -> Activity3 [FAILS]
    â†“           â†“           â†“
Comp3(undo) <- Comp2(undo) <- Comp1(undo)
    â†“           â†“           â†“
  [OK]        [OK]        [OK]
    â†“           â†“           â†“
           [FAILED]
```

**å½¢å¼åŒ–å®šä¹‰**ï¼ˆæ•°å­¦é£Žæ ¼ï¼‰:

**Def WF3ï¼ˆè¡¥å¿é“¾ï¼‰**ï¼šè®¾æ ˆ $\mathit{stack} = [c_n, \ldots, c_1]$ï¼ˆLIFOï¼‰ã€‚è¡¥å¿æ‰§è¡Œ $\mathit{execute\_compensation}(\mathit{stack})$ï¼šè‹¥ $\mathit{stack} = []$ åˆ™æˆåŠŸï¼›å¦åˆ™å¯¹ $c_1$ æ‰§è¡Œ $\mathit{comp}(c_1.\mathit{output})$ï¼ŒæˆåŠŸåˆ™é€’å½’ $\mathit{rest}$ï¼Œå¤±è´¥åˆ™æ•´ä½“å¤±è´¥ã€‚ä¸Ž [05_distributed](../../software_design_theory/03_execution_models/05_distributed.md) Saga è¡¥å¿è¯­ä¹‰ä¸€è‡´ã€‚

---

### 4. å·¥ä½œæµå¼•æ“Žå¯¹æ¯”

```text
                        å·¥ä½œæµå¼•æ“Ž
                               â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                      â”‚                      â”‚
   ã€Temporalã€‘             ã€Cadenceã€‘            ã€è‡ªå»ºRustã€‘
        â”‚                      â”‚                      â”‚
    â”œâ”€æŒä¹…åŒ–ä¼˜å…ˆ           â”œâ”€Uberå¼€æº            â”œâ”€è½»é‡çº§
    â”œâ”€å¤šè¯­è¨€SDK            â”œâ”€å…¼å®¹Temporal        â”œâ”€æ— å¤–éƒ¨ä¾èµ–
    â”œâ”€å¯è§æ€§UI             â”œâ”€æ€§èƒ½ä¼˜åŒ–            â”œâ”€å®Œå…¨æŽ§åˆ¶
    â””â”€äº‘åŽŸç”Ÿ               â””â”€å†…éƒ¨éƒ¨ç½²            â””â”€å­¦ä¹ æˆæœ¬
        â”‚                      â”‚                      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                         ã€é€‰åž‹ç»´åº¦ã€‘
                         â”œâ”€æŒä¹…åŒ–éœ€æ±‚
                         â”œâ”€åžåé‡è¦æ±‚
                         â”œâ”€å¯è§æ€§éœ€æ±‚
                         â””â”€è¿ç»´å¤æ‚åº¦
```

**å¼•æ“Žèƒ½åŠ›çŸ©é˜µ**:

| ç‰¹æ€§ | Temporal | Cadence | è‡ªå»ºRust |
| :--- | :--- | :--- | :--- |
| æŒä¹…åŒ– | âœ… å†…ç½® | âœ… å†…ç½® | âš ï¸ éœ€å®žçŽ° |
| å¯è§æ€§UI | âœ… | âœ… | âŒ |
| å¤šè¯­è¨€ | âœ… Go/Java/TS/... | âœ… Go/Java | âš ï¸ ä»…Rust |
| è¡¥å¿äº‹åŠ¡ | âœ… | âœ… | âš ï¸ éœ€å®žçŽ° |
| äººå·¥ä»»åŠ¡ | âš ï¸ å¤–éƒ¨ | âš ï¸ å¤–éƒ¨ | âš ï¸ éœ€å®žçŽ° |
| äº‘åŽŸç”Ÿ | âœ… | âš ï¸ | âœ… |
| å­¦ä¹ æ›²çº¿ | ä¸­ | ä¸­ | é«˜ |

---

## æ¦‚å¿µå…³ç³»çŸ©é˜µ

| æ¦‚å¿µA | å…³ç³» | æ¦‚å¿µB | è¯´æ˜Ž |
| :--- | :--- | :--- | :--- |
| å·¥ä½œæµ | ä½¿ç”¨ | æ´»åŠ¨ | å·¥ä½œæµç”±æ´»åŠ¨ç»„æˆ |
| æ´»åŠ¨ | æœ‰ | è¡¥å¿ | æ´»åŠ¨å¯é€‰å®šä¹‰è¡¥å¿ |
| è¡¥å¿é“¾ | ç»„æˆ | è¡¥å¿ | æŒ‰é€†åºæ‰§è¡Œæ´»åŠ¨è¡¥å¿ |
| çŠ¶æ€æœº | æè¿° | å·¥ä½œæµ | å·¥ä½œæµæ˜¯ç‰¹æ®ŠçŠ¶æ€æœº |
| Saga | æ˜¯ä¸€ç§ | å·¥ä½œæµ | Saga æ˜¯é•¿äº‹åŠ¡å·¥ä½œæµ |
| è¶…æ—¶ | è§¦å‘ | è¡¥å¿ | è¶…æ—¶å¯é€‰è§¦å‘è¡¥å¿ |
| é‡è¯• | æŽ§åˆ¶ | æ´»åŠ¨ | é‡è¯•ç­–ç•¥æŽ§åˆ¶æ´»åŠ¨æ‰§è¡Œ |

---

## ä¸Žå…¶ä»–æ¦‚å¿µæ—çš„å…³ç³»

```
                    å·¥ä½œæµæ¦‚å¿µæ—
                           â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                  â”‚                  â”‚
   ã€åˆ†å¸ƒå¼æ¨¡å¼ã€‘        ã€ç±»åž‹ç³»ç»Ÿã€‘        ã€å¼‚æ­¥ç¼–ç¨‹ã€‘
        â”‚                  â”‚                  â”‚
    â”œâ”€Saga            â”œâ”€Resultç±»åž‹        â”œâ”€Future
    â”œâ”€CQRS            â”œâ”€æ³›åž‹æ´»åŠ¨           â”œâ”€async/await
    â””â”€äº‹åŠ¡            â””â”€ç±»åž‹å®‰å…¨è¡¥å¿       â””â”€è¶…æ—¶æŽ§åˆ¶
        â”‚                      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
           ã€Rustå®žçŽ°ã€‘
           â”œâ”€tokio::time (è¶…æ—¶)
           â”œâ”€futures::channel (é€šä¿¡)
           â””â”€serde (åºåˆ—åŒ–)
```

---

## å½¢å¼åŒ–éªŒè¯ç›®æ ‡

| å®šç† | æè¿° | ä¼˜å…ˆçº§ |
| :--- | :--- | :--- |
| WF-1 | å·¥ä½œæµç»ˆæ­¢æ€§ | P0 |
| WF-2 | è¡¥å¿æœ€ç»ˆä¸€è‡´æ€§ | P0 |
| WF-3 | çŠ¶æ€æœºç¡®å®šæ€§ | P1 |
| WF-4 | ç»„åˆæœ‰æ•ˆæ€§ | P1 |

---

## ç›¸å…³æ–‡æ¡£

- [04_expressiveness_boundary](../../software_design_theory/02_workflow_safe_complete_models/04_expressiveness_boundary.md) - å·¥ä½œæµè¡¨è¾¾åŠ›è¾¹ç•Œ
- [05_distributed](../../software_design_theory/03_execution_models/05_distributed.md) - Saga è¡¥å¿é“¾
- [06_boundary_analysis](../../software_design_theory/03_execution_models/06_boundary_analysis.md) - æ‰§è¡Œæ¨¡åž‹é€‰åž‹

---

**ç»´æŠ¤è€…**: Rust Formal Methods Research Team
**å¯¹åº”ä»»åŠ¡**: P1-T12 - å·¥ä½œæµæ¦‚å¿µæ—è°±æ–°å»º

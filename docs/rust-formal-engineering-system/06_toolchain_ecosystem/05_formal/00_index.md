# å½¢å¼åŒ–å·¥å…·ï¼ˆFormal Toolsï¼‰ç´¢å¼•

> **åˆ›å»ºæ—¥æœŸ**: 2025-10-31
> **æœ€åæ›´æ–°**: 2025-11-10
> **Rust ç‰ˆæœ¬**: 1.91.0 (Edition 2024) âœ…
> **çŠ¶æ€**: å·²å®Œå–„ âœ…

---

## ğŸ“Š ç›®å½•

- [å½¢å¼åŒ–å·¥å…·ï¼ˆFormal Toolsï¼‰ç´¢å¼•](#å½¢å¼åŒ–å·¥å…·formal-toolsç´¢å¼•)
  - [ğŸ“Š ç›®å½•](#-ç›®å½•)
  - [ğŸ¯ ç›®æ ‡](#-ç›®æ ‡)
    - [æ ¸å¿ƒä»·å€¼](#æ ¸å¿ƒä»·å€¼)
  - [ğŸ“š æ ¸å¿ƒå·¥å…·](#-æ ¸å¿ƒå·¥å…·)
    - [1. Kaniï¼ˆModel Checkingï¼‰](#1-kanimodel-checking)
    - [2. Prustiï¼ˆSpecification-based Verificationï¼‰](#2-prustispecification-based-verification)
    - [3. Creusotï¼ˆCoq-based Proofï¼‰](#3-creusotcoq-based-proof)
    - [4. å…¶ä»–å·¥å…·](#4-å…¶ä»–å·¥å…·)
  - [ğŸš€ å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
    - [Kani](#kani)
    - [Prusti](#prusti)
    - [Creusot](#creusot)
  - [ğŸ”„ CI é›†æˆå»ºè®®](#-ci-é›†æˆå»ºè®®)
    - [GitHub Actions](#github-actions)
    - [å»ºè®®ç­–ç•¥](#å»ºè®®ç­–ç•¥)
  - [âœ¨ æœ€ä½³å®è·µ](#-æœ€ä½³å®è·µ)
    - [å¼€å‘æµç¨‹](#å¼€å‘æµç¨‹)
    - [é…ç½®ç­–ç•¥](#é…ç½®ç­–ç•¥)
    - [å»ºè®®æµç¨‹](#å»ºè®®æµç¨‹)
  - [ğŸ”— ç›¸å…³ç´¢å¼•](#-ç›¸å…³ç´¢å¼•)
  - [ğŸ§­ å¯¼èˆª](#-å¯¼èˆª)

## ğŸ¯ ç›®æ ‡

æœ¬æ¨¡å—åœ¨å…³é”®æ¨¡å—å¼•å…¥è‡ªåŠ¨åŒ–/åŠè‡ªåŠ¨åŒ–éªŒè¯ï¼Œæå‡æ­£ç¡®æ€§ä¸å¯ç»´æŠ¤æ€§ï¼Œæä¾›å…¨é¢çš„å½¢å¼åŒ–éªŒè¯å·¥å…·ä½¿ç”¨æŒ‡å—ã€‚æ‰€æœ‰å†…å®¹å‡åŸºäº Rust 1.91.0 å’Œå½“å‰æœ€ä½³å®è·µã€‚

### æ ¸å¿ƒä»·å€¼

- **å½¢å¼åŒ–éªŒè¯**: ä¸“æ³¨äº Rust å½¢å¼åŒ–éªŒè¯æœ€ä½³å®è·µ
- **æœ€ä½³å®è·µ**: åŸºäº Rust ç¤¾åŒºæœ€æ–°å½¢å¼åŒ–éªŒè¯å®è·µ
- **å®Œæ•´è¦†ç›–**: æ¶µç›– Kaniã€Prustiã€Creusot ç­‰æ ¸å¿ƒå·¥å…·
- **æ˜“äºç†è§£**: æä¾›è¯¦ç»†çš„å½¢å¼åŒ–éªŒè¯è¯´æ˜å’Œä»£ç ç¤ºä¾‹

## ğŸ“š æ ¸å¿ƒå·¥å…·

### 1. Kaniï¼ˆModel Checkingï¼‰

**æ¨èå·¥å…·**: `kani-verifier`, `cargo kani`

- **æ¨¡å‹æ£€æŸ¥**: æ¨¡å‹æ£€æŸ¥ã€å±æ€§éªŒè¯
- **ä¸å˜é‡éªŒè¯**: ä¸å˜é‡éªŒè¯ã€åç½®æ¡ä»¶éªŒè¯
- **å¹¶å‘éªŒè¯**: å¹¶å‘æ¨¡å‹éªŒè¯ã€æ­»é”æ£€æµ‹
- **å†…å­˜å®‰å…¨**: å†…å­˜å®‰å…¨éªŒè¯ã€æŒ‡é’ˆå®‰å…¨éªŒè¯

**ç›¸å…³èµ„æº**:

- [Kani æ–‡æ¡£](https://github.com/model-checking/kani)
- [Kani ç”¨æˆ·æŒ‡å—](https://model-checking.github.io/kani/)
- [Kani æ•™ç¨‹](https://model-checking.github.io/kani/tutorial.html)

### 2. Prustiï¼ˆSpecification-based Verificationï¼‰

**æ¨èå·¥å…·**: `prusti-launch`, `cargo prusti`

- **è§„èŒƒæ³¨è§£**: è§„èŒƒæ³¨è§£ã€å‰ç½®æ¡ä»¶ã€åç½®æ¡ä»¶
- **å‡½æ•°éªŒè¯**: å‡½æ•°éªŒè¯ã€å¾ªç¯éªŒè¯
- **å†…å­˜å®‰å…¨**: å†…å­˜å®‰å…¨éªŒè¯ã€å€Ÿç”¨æ£€æŸ¥
- **ç±»å‹å®‰å…¨**: ç±»å‹å®‰å…¨éªŒè¯ã€ç±»å‹çº¦æŸ

**ç›¸å…³èµ„æº**:

- [Prusti æ–‡æ¡£](https://github.com/viperproject/prusti-dev)
- [Prusti ç”¨æˆ·æŒ‡å—](https://viperproject.github.io/prusti-dev/user-guide/)
- [Prusti æ•™ç¨‹](https://viperproject.github.io/prusti-dev/user-guide/getting-started.html)

### 3. Creusotï¼ˆCoq-based Proofï¼‰

**æ¨èå·¥å…·**: `creusot`, `cargo creusot`

- **Coq è¯æ˜**: Coq è¯æ˜ã€å½¢å¼åŒ–è¯æ˜
- **è§„èŒƒè¯­è¨€**: è§„èŒƒè¯­è¨€ã€è§„èŒƒç¼–å†™
- **è¯æ˜ç”Ÿæˆ**: è¯æ˜ç”Ÿæˆã€è¯æ˜éªŒè¯
- **å®éªŒæ€§**: å®éªŒæ€§å·¥å…·ã€æŒç»­å¼€å‘

**ç›¸å…³èµ„æº**:

- [Creusot æ–‡æ¡£](https://github.com/xldenis/creusot)
- [Creusot ç”¨æˆ·æŒ‡å—](https://github.com/xldenis/creusot/blob/master/README.md)
- [Coq æ–‡æ¡£](https://coq.inria.fr/)

### 4. å…¶ä»–å·¥å…·

**æ¨èå·¥å…·**: `miri`, `loom`, `proptest`

- **Miri**: æœªå®šä¹‰è¡Œä¸ºæ£€æµ‹ã€è¿è¡Œæ—¶æ£€æŸ¥
- **Loom**: å¹¶å‘æ¨¡å‹éªŒè¯ã€çŠ¶æ€ç©ºé—´æ¢ç´¢
- **Proptest**: å±æ€§æµ‹è¯•ã€éšæœºæµ‹è¯•ç”Ÿæˆ

**ç›¸å…³èµ„æº**:

- [Miri æ–‡æ¡£](https://github.com/rust-lang/miri)
- [loom æ–‡æ¡£](https://docs.rs/loom/)
- [proptest æ–‡æ¡£](https://docs.rs/proptest/)

## ğŸš€ å¿«é€Ÿå¼€å§‹

### Kani

```bash
# å®‰è£… Kani
cargo install kani-verifier

# è¿è¡Œ Kani éªŒè¯
cargo kani --help

# éªŒè¯ç‰¹å®šå‡½æ•°
cargo kani --function my_function
```

### Prusti

```bash
# å®‰è£… Prusti
cargo install prusti-launch

# è¿è¡Œ Prusti éªŒè¯
cargo prusti --help

# éªŒè¯ç‰¹å®šæ–‡ä»¶
cargo prusti --file src/lib.rs
```

### Creusot

```bash
# å®‰è£… Creusot
cargo install creusot

# è¿è¡Œ Creusot éªŒè¯
cargo creusot --help
```

## ğŸ”„ CI é›†æˆå»ºè®®

### GitHub Actions

```yaml
name: Formal Verification
on: [push, pull_request]
jobs:
  kani:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Install Rust
        uses: actions-rs/toolchain@v1
        with:
          toolchain: stable
      - name: Install Kani
        run: cargo install kani-verifier
      - name: Run Kani
        run: cargo kani
```

### å»ºè®®ç­–ç•¥

- **å…³é”®æ¨¡å—**: å¯¹å…³é”®å¹¶å‘ç»“æ„å’Œ unsafe æ¨¡å—å»ºç«‹æœ€å°éªŒè¯é›†çš„ CI jobï¼ˆæŒ‰å‘¨è·‘ï¼‰
- **éªŒè¯æ—¥å¿—**: å°†éªŒè¯æ—¥å¿—ä¸è¯æ˜å·¥ä»¶å½’æ¡£ï¼Œå¤±è´¥æ—¶é˜»æ–­åˆå¹¶å¹¶å›å¡«å·¥å•
- **æ ¸å¿ƒæ€§è´¨**: é€‰æ‹©æ ¸å¿ƒæ€§è´¨ï¼ˆå¦‚ä¸æ­»é”ã€é˜Ÿåˆ—æœ‰ç•Œã€æ— è¶Šç•Œè®¿é—®ï¼‰
- **æœ€å°è§„æ ¼**: ç¼–å†™æœ€å°è§„æ ¼ä¸ harnessï¼Œæœ¬åœ°è·‘å·¥å…·å¹¶ä¿®å¤é—®é¢˜åæäº¤è§„æ ¼ä¸ç»“æœ

## âœ¨ æœ€ä½³å®è·µ

### å¼€å‘æµç¨‹

- **æäº¤å‰æ£€æŸ¥**: ä½¿ç”¨ pre-commit hook è‡ªåŠ¨è¿è¡Œå½¢å¼åŒ–éªŒè¯
- **ä»£ç å®¡æŸ¥**: å°†å½¢å¼åŒ–éªŒè¯ç»“æœçº³å…¥ä»£ç å®¡æŸ¥æ ‡å‡†
- **æŒç»­é›†æˆ**: åœ¨ CI ä¸­è¿è¡Œå½¢å¼åŒ–éªŒè¯ï¼ˆæŒ‰å‘¨è·‘ï¼Œå‡å°‘æ€»ä½“æ—¶é•¿ï¼‰
- **æ¸è¿›å¼é‡‡ç”¨**: é€æ­¥ä¸ºå…³é”®æ¨¡å—æ·»åŠ å½¢å¼åŒ–éªŒè¯

### é…ç½®ç­–ç•¥

- **é¡¹ç›®åˆæœŸ**: ä¸ºåŸºç¡€æ¨¡å—æ·»åŠ å½¢å¼åŒ–éªŒè¯
- **é¡¹ç›®æˆç†Ÿ**: ä¸ºå…³é”®æ¨¡å—æ·»åŠ å½¢å¼åŒ–éªŒè¯
- **å›¢é˜Ÿè§„èŒƒ**: ç»Ÿä¸€å½¢å¼åŒ–éªŒè¯é…ç½®å’Œç­–ç•¥
- **å®šæœŸæ›´æ–°**: ä¿æŒå½¢å¼åŒ–éªŒè¯å·¥å…·ç‰ˆæœ¬æ›´æ–°

### å»ºè®®æµç¨‹

1. **é€‰æ‹©æ ¸å¿ƒæ€§è´¨**: é€‰æ‹©æ ¸å¿ƒæ€§è´¨ï¼ˆå¦‚ä¸æ­»é”ã€é˜Ÿåˆ—æœ‰ç•Œã€æ— è¶Šç•Œè®¿é—®ï¼‰
2. **ç¼–å†™æœ€å°è§„æ ¼**: ç¼–å†™æœ€å°è§„æ ¼ä¸ harness
3. **æœ¬åœ°éªŒè¯**: æœ¬åœ°è·‘å·¥å…·å¹¶ä¿®å¤é—®é¢˜åæäº¤è§„æ ¼ä¸ç»“æœ

---

## ğŸ”— ç›¸å…³ç´¢å¼•

- **ä»£ç åˆ†æ**: [`../05_code_analysis/00_index.md`](../05_code_analysis/00_index.md) - é™æ€åˆ†æå·¥å…·
- **è´¨é‡ä¿éšœ**: [`../../10_quality_assurance/00_index.md`](../../10_quality_assurance/00_index.md) - è´¨é‡ä¿éšœæ ‡å‡†
- **ç†è®ºåŸºç¡€**: [`../../01_theoretical_foundations/00_index.md`](../../01_theoretical_foundations/00_index.md) - å½¢å¼åŒ–ç†è®º

---

## ğŸ§­ å¯¼èˆª

- **è¿”å›å·¥å…·é“¾ç”Ÿæ€**: [`../00_index.md`](../00_index.md)
- **ä»£ç åˆ†æ**: [`../05_code_analysis/00_index.md`](../05_code_analysis/00_index.md)
- **è´¨é‡ä¿éšœ**: [`../../10_quality_assurance/00_index.md`](../../10_quality_assurance/00_index.md)
- **è¿”å›é¡¹ç›®æ ¹**: [`../../README.md`](../../README.md)

---

**åˆ«åä¸è§„èŒƒè¯´æ˜**:

- æœ¬é¡µä¸ºå½¢å¼åŒ–å·¥å…·ä¸“é¢˜é¡µï¼Œç¼–å·ä¸º `05_formal`ã€‚ä¸"05_code_analysis"ç¼–å·å†²çªå·²é€šè¿‡è§„èŒƒå…¥å£åŒ–å¤„ç†ï¼š
  - ä»£ç åˆ†æè§„èŒƒå…¥å£: [`../05_code_analysis/00_index.md`](../05_code_analysis/00_index.md)
  - å½¢å¼åŒ–å·¥å…·äº¦åœ¨è´¨é‡ä¿éšœç»¼è¿°ä¸­: [`../../10_quality_assurance/00_index.md`](../../10_quality_assurance/00_index.md)

---

**æœ€åæ›´æ–°**: 2025-11-10
**ç»´æŠ¤è€…**: é¡¹ç›®ç»´æŠ¤è€…
**çŠ¶æ€**: å·²å®Œå–„ âœ…

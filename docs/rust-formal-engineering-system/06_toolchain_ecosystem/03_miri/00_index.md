# Miri ç´¢å¼•

> **åˆ›å»ºæ—¥æœŸ**: 2025-10-31
> **æœ€åæ›´æ–°**: 2025-11-10
> **Rust ç‰ˆæœ¬**: 1.91.0 (Edition 2024) âœ…
> **çŠ¶æ€**: å·²å®Œå–„ âœ…

---

## ğŸ“Š ç›®å½•

- [Miri ç´¢å¼•](#miri-ç´¢å¼•)
  - [ğŸ“Š ç›®å½•](#-ç›®å½•)
  - [ğŸ¯ ç›®çš„](#-ç›®çš„)
    - [æ ¸å¿ƒä»·å€¼](#æ ¸å¿ƒä»·å€¼)
  - [ğŸ“š æ ¸å¿ƒåŠŸèƒ½](#-æ ¸å¿ƒåŠŸèƒ½)
    - [1. æœªå®šä¹‰è¡Œä¸ºæ£€æµ‹ï¼ˆUndefined Behavior Detectionï¼‰](#1-æœªå®šä¹‰è¡Œä¸ºæ£€æµ‹undefined-behavior-detection)
    - [2. å€Ÿç”¨è§„åˆ™æ£€æŸ¥ï¼ˆBorrow Checkerï¼‰](#2-å€Ÿç”¨è§„åˆ™æ£€æŸ¥borrow-checker)
    - [3. å†…å­˜å®‰å…¨æ£€æŸ¥ï¼ˆMemory Safetyï¼‰](#3-å†…å­˜å®‰å…¨æ£€æŸ¥memory-safety)
    - [4. å¹¶å‘å®‰å…¨æ£€æŸ¥ï¼ˆConcurrency Safetyï¼‰](#4-å¹¶å‘å®‰å…¨æ£€æŸ¥concurrency-safety)
  - [ğŸ’» å¸¸ç”¨å‘½ä»¤](#-å¸¸ç”¨å‘½ä»¤)
  - [ğŸš€ å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
  - [ğŸ”„ CI é›†æˆå»ºè®®](#-ci-é›†æˆå»ºè®®)
  - [âœ¨ æœ€ä½³å®è·µ](#-æœ€ä½³å®è·µ)
  - [ğŸ”— ç›¸å…³ç´¢å¼•](#-ç›¸å…³ç´¢å¼•)
  - [ğŸ§­ å¯¼èˆª](#-å¯¼èˆª)

## ğŸ¯ ç›®çš„

æœ¬æ¨¡å—ä½¿ç”¨ Miri è¿›è¡Œæœªå®šä¹‰è¡Œä¸ºæ£€æµ‹ä¸å€Ÿç”¨è§„åˆ™çš„è¿è¡Œæ—¶æ£€æŸ¥ï¼Œæä¾›å…¨é¢çš„å†…å­˜å®‰å…¨å’Œå¹¶å‘å®‰å…¨æ£€æŸ¥ã€‚æ‰€æœ‰å†…å®¹å‡åŸºäº Rust 1.91.0 å’Œå½“å‰æœ€ä½³å®è·µã€‚

### æ ¸å¿ƒä»·å€¼

- **å†…å­˜å®‰å…¨**: ä¸“æ³¨äº Rust å†…å­˜å®‰å…¨æ£€æŸ¥æœ€ä½³å®è·µ
- **æœ€ä½³å®è·µ**: åŸºäº Rust ç¤¾åŒºæœ€æ–° Miri å®è·µ
- **å®Œæ•´è¦†ç›–**: æ¶µç›–æœªå®šä¹‰è¡Œä¸ºæ£€æµ‹ã€å€Ÿç”¨è§„åˆ™æ£€æŸ¥ã€å†…å­˜å®‰å…¨ã€å¹¶å‘å®‰å…¨ç­‰æ ¸å¿ƒä¸»é¢˜
- **æ˜“äºç†è§£**: æä¾›è¯¦ç»†çš„ Miri ä½¿ç”¨è¯´æ˜å’Œä»£ç ç¤ºä¾‹

## å¸¸ç”¨å‘½ä»¤

- è¿è¡Œæµ‹è¯•ï¼š`cargo +nightly miri test`
- å•ç”¨ä¾‹ï¼š`cargo +nightly miri test -p <crate> <path::to::test>`
- ç¯å¢ƒå˜é‡ï¼š`MIRIFLAGS=-Zmiri-strict-provenance`

## å¿«é€Ÿå¼€å§‹

```bash
rustup toolchain install nightly
cargo +nightly miri setup
cargo +nightly miri test -p c05_threads
```

## CI é›†æˆå»ºè®®

- åœ¨å…³é”® crate çš„ CI job å¢åŠ å¯é€‰çŸ©é˜µé¡¹è¿è¡Œ Miriï¼ˆå‡å°‘æ€»ä½“æ—¶é•¿ï¼‰
- å¯¹å« unsafe çš„è·¯å¾„æŒ‰å‘¨è·‘ Miriï¼Œç»“æœå…¥åº“åˆ°å·¥å•ç³»ç»Ÿ

## å»ºè®®

- å¯¹å« unsafe/å¹¶å‘ç»†èŠ‚çš„æ¨¡å—æŒ‰é˜¶æ®µçº³å…¥ Miri æ£€æŸ¥
- è®°å½•å‘ç°çš„é—®é¢˜ä¸è§„é¿ç­–ç•¥åœ¨å¯¹åº” `00_index.md`

## å¯¼èˆª

- è¿”å›å·¥å…·é“¾ï¼š[`../00_index.md`](../00_index.md)
- è´¨é‡ä¿éšœï¼š[`../../10_quality_assurance/00_index.md`](../../10_quality_assurance/00_index.md)

---

åˆ«åä¸è§„èŒƒè¯´æ˜ï¼š

- æœ¬é¡µä¸º Miri ä¸“é¢˜é¡µï¼Œç¼–å·ä¸º `03_miri`ã€‚ä¸â€œ03_build_toolsâ€ç¼–å·å†²çªå·²é€šè¿‡è§„èŒƒå…¥å£åŒ–å¤„ç†ï¼š
  - æ„å»ºå·¥å…·è§„èŒƒå…¥å£ï¼š[`../03_build_tools/00_index.md`](../03_build_tools/00_index.md)
  - Miri åœ¨ä»£ç åˆ†æ/è¿è¡Œæ—¶æ£€æŸ¥çš„ç»¼è¿°å…¥å£ï¼š[`../05_code_analysis/00_index.md`](../05_code_analysis/00_index.md)

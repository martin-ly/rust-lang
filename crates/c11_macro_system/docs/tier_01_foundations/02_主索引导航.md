# 主索引导航 - C11 Macro System

**最后更新**: 2025-10-24

---

## 📋 目录

- [主索引导航 - C11 Macro System](#主索引导航---c11-macro-system)
  - [📋 目录](#-目录)
  - [🗺️ 文档地图](#️-文档地图)
  - [🎯 按主题导航](#-按主题导航)
    - [声明宏相关](#声明宏相关)
    - [过程宏相关](#过程宏相关)
    - [元编程与DSL](#元编程与dsl)
    - [工程实践](#工程实践)
  - [📊 按学习阶段导航](#-按学习阶段导航)
    - [阶段 1: 基础入门 (Tier 1)](#阶段-1-基础入门-tier-1)
    - [阶段 2: 实战实践 (Tier 2)](#阶段-2-实战实践-tier-2)
    - [阶段 3: 技术参考 (Tier 3)](#阶段-3-技术参考-tier-3)
    - [阶段 4: 高级深入 (Tier 4)](#阶段-4-高级深入-tier-4)
  - [🔍 按角色导航](#-按角色导航)
    - [应用开发者](#应用开发者)
    - [库作者](#库作者)
    - [DSL 开发者](#dsl-开发者)
    - [编译器研究者](#编译器研究者)
  - [⚡ 快速参考](#-快速参考)
  - [🔗 外部资源](#-外部资源)

---

## 🗺️ 文档地图

```text
C11 Macro System Documentation
│
├── 📚 Tier 1: 基础层 (你在这里)
│   ├── 01_项目概览.md          ⭐ 模块介绍
│   ├── 02_主索引导航.md        📍 本文档
│   ├── 03_术语表.md            📝 核心概念
│   └── 04_常见问题.md          ❓ FAQ
│
├── 🚀 Tier 2: 实践层
│   ├── 01_声明宏实践指南.md
│   ├── 02_Derive宏开发指南.md
│   ├── 03_属性宏开发指南.md
│   ├── 04_函数宏开发指南.md
│   └── 05_宏调试与测试.md
│
├── 📖 Tier 3: 参考层
│   ├── 01_声明宏完整参考.md
│   ├── 02_过程宏API参考.md
│   ├── 03_syn-quote参考.md
│   └── 04_宏卫生性参考.md
│
└── 🎓 Tier 4: 高级层
    ├── 01_宏元编程.md
    ├── 02_DSL构建实践.md
    ├── 03_代码生成优化.md
    ├── 04_宏调试深化.md
    └── 05_生产级宏开发.md
```

---

## 🎯 按主题导航

### 声明宏相关

| 文档 | 层级 | 内容 | 适合人群 |
|------|------|------|---------|
| [声明宏实践指南](../tier_02_guides/01_声明宏实践指南.md) | Tier 2 | `macro_rules!`、模式匹配 | 初学者 |
| [声明宏完整参考](../tier_03_references/01_声明宏完整参考.md) | Tier 3 | 完整语法、卫生性规则 | 进阶 |

### 过程宏相关

| 文档 | 层级 | 内容 | 适合人群 |
|------|------|------|---------|
| [Derive宏开发指南](../tier_02_guides/02_Derive宏开发指南.md) | Tier 2 | 自动派生、trait实现 | 初学者 |
| [属性宏开发指南](../tier_02_guides/03_属性宏开发指南.md) | Tier 2 | 函数/结构体增强 | 进阶 |
| [函数宏开发指南](../tier_02_guides/04_函数宏开发指南.md) | Tier 2 | 自定义语法 | 进阶 |
| [过程宏API参考](../tier_03_references/02_过程宏API参考.md) | Tier 3 | TokenStream、Span | 进阶 |
| [syn-quote参考](../tier_03_references/03_syn-quote参考.md) | Tier 3 | syn/quote使用详解 | 进阶 |

### 元编程与DSL

| 文档 | 层级 | 内容 | 适合人群 |
|------|------|------|---------|
| [宏元编程](../tier_04_advanced/01_宏元编程.md) | Tier 4 | 元编程理论、语义模型 | 高级 |
| [DSL构建实践](../tier_04_advanced/02_DSL构建实践.md) | Tier 4 | 领域语言设计、解析 | 高级 |
| [代码生成优化](../tier_04_advanced/03_代码生成优化.md) | Tier 4 | 零成本抽象、LLVM IR | 高级 |

### 工程实践

| 文档 | 层级 | 内容 | 适合人群 |
|------|------|------|---------|
| [宏调试与测试](../tier_02_guides/05_宏调试与测试.md) | Tier 2 | cargo expand、单元测试 | 进阶 |
| [宏调试深化](../tier_04_advanced/04_宏调试深化.md) | Tier 4 | 高级调试、性能剖析 | 高级 |
| [生产级宏开发](../tier_04_advanced/05_生产级宏开发.md) | Tier 4 | 架构设计、发布维护 | 高级 |

---

## 📊 按学习阶段导航

### 阶段 1: 基础入门 (Tier 1)

**目标**: 理解宏系统基础概念

**推荐顺序**:

1. [项目概览](./01_项目概览.md) (15分钟)
2. [术语表](./03_术语表.md) (30分钟)
3. [常见问题](./04_常见问题.md) (60分钟)

**总耗时**: 约 2 小时

---

### 阶段 2: 实战实践 (Tier 2)

**目标**: 掌握宏开发实用技术

**推荐顺序**:

**声明宏篇** (约 1 周):

1. [声明宏实践指南](../tier_02_guides/01_声明宏实践指南.md) (3-4天)

**过程宏篇** (约 2 周):
2. [Derive宏开发指南](../tier_02_guides/02_Derive宏开发指南.md) (3-4天)
3. [属性宏开发指南](../tier_02_guides/03_属性宏开发指南.md) (2-3天)
4. [函数宏开发指南](../tier_02_guides/04_函数宏开发指南.md) (2-3天)

**调试测试篇** (约 3 天):
5. [宏调试与测试](../tier_02_guides/05_宏调试与测试.md) (2-3天)

**总耗时**: 约 3-4 周

---

### 阶段 3: 技术参考 (Tier 3)

**目标**: 按需查阅具体语法和 API

**使用方式**: 作为工作手册，遇到问题时查阅

**主要内容**:

- [声明宏完整参考](../tier_03_references/01_声明宏完整参考.md) - 完整语法规则
- [过程宏API参考](../tier_03_references/02_过程宏API参考.md) - TokenStream、Span 详解
- [syn-quote参考](../tier_03_references/03_syn-quote参考.md) - syn/quote 完整用法
- [宏卫生性参考](../tier_03_references/04_宏卫生性参考.md) - 作用域与卫生性规则

---

### 阶段 4: 高级深入 (Tier 4)

**目标**: 深入理论与高级实践

**推荐顺序**:

1. [宏元编程](../tier_04_advanced/01_宏元编程.md) (1周)
2. [DSL构建实践](../tier_04_advanced/02_DSL构建实践.md) (1周)
3. [代码生成优化](../tier_04_advanced/03_代码生成优化.md) (1周)
4. [宏调试深化](../tier_04_advanced/04_宏调试深化.md) (3天)
5. [生产级宏开发](../tier_04_advanced/05_生产级宏开发.md) (1周)

**总耗时**: 约 1-2 个月

---

## 🔍 按角色导航

### 应用开发者

**关注重点**: 使用现有宏、简单声明宏

**推荐路径**:

1. Tier 1 全部
2. Tier 2: 声明宏实践指南
3. 按需查阅 Tier 3 参考

**预计时间**: 1-2 周

---

### 库作者

**关注重点**: Derive 宏、属性宏开发

**推荐路径**:

1. Tier 1 全部
2. Tier 2: Derive 宏、属性宏、调试测试
3. Tier 3: 过程宏 API、syn-quote 参考
4. Tier 4: 生产级宏开发

**预计时间**: 1-2 个月

---

### DSL 开发者

**关注重点**: 函数式宏、DSL 构建

**推荐路径**:

1. Tier 1 全部
2. Tier 2: 函数宏开发指南
3. Tier 3 全部
4. Tier 4: 宏元编程、DSL 构建实践

**预计时间**: 2-3 个月

---

### 编译器研究者

**关注重点**: 元编程理论、形式化分析

**推荐路径**:

1. 快速浏览 Tier 1-2
2. 重点学习 Tier 4 全部
3. 结合研究领域深入

**预计时间**: 持续学习

---

## ⚡ 快速参考

| 任务 | 推荐文档 |
|------|---------|
| 写第一个宏 | [声明宏实践指南](../tier_02_guides/01_声明宏实践指南.md) |
| 实现 Derive | [Derive宏开发指南](../tier_02_guides/02_Derive宏开发指南.md) |
| 添加属性 | [属性宏开发指南](../tier_02_guides/03_属性宏开发指南.md) |
| 自定义语法 | [函数宏开发指南](../tier_02_guides/04_函数宏开发指南.md) |
| 调试宏展开 | [宏调试与测试](../tier_02_guides/05_宏调试与测试.md) |
| 查语法 | [声明宏完整参考](../tier_03_references/01_声明宏完整参考.md) |
| 使用 syn/quote | [syn-quote参考](../tier_03_references/03_syn-quote参考.md) |
| 构建 DSL | [DSL构建实践](../tier_04_advanced/02_DSL构建实践.md) |

---

## 🔗 外部资源

**官方文档**:

- [The Rust Programming Language - Macros](https://doc.rust-lang.org/book/ch19-06-macros.html)
- [The Rust Reference - Macros](https://doc.rust-lang.org/reference/macros.html)
- [proc-macro Workshop](https://github.com/dtolnay/proc-macro-workshop)

**核心库文档**:

- [syn Documentation](https://docs.rs/syn/)
- [quote Documentation](https://docs.rs/quote/)
- [proc-macro2 Documentation](https://docs.rs/proc-macro2/)

**社区资源**:

- [The Little Book of Rust Macros](https://veykril.github.io/tlborm/)
- [Procedural Macros in Rust](https://blog.turbo.fish/proc-macro-basics/)
- [Rust Macro Railroad Diagrams](https://lukaslueg.github.io/macro_railroad_wasm_demo/)

**工具**:

- [cargo-expand](https://github.com/dtolnay/cargo-expand) - 查看宏展开
- [rust-analyzer](https://rust-analyzer.github.io/) - IDE 支持
- [trybuild](https://github.com/dtolnay/trybuild) - 宏测试工具

**优秀项目学习**:

- [serde](https://github.com/serde-rs/serde) - Derive 宏典范
- [tokio-macros](https://github.com/tokio-rs/tokio/tree/master/tokio-macros) - 属性宏示例
- [sqlx-macros](https://github.com/launchbadge/sqlx/tree/main/sqlx-macros) - 函数式宏示例

---

**上一步**: [项目概览](./01_项目概览.md)  
**下一步**: [术语表](./03_术语表.md)

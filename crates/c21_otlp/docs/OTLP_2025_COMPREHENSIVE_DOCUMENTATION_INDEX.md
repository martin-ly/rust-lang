# OTLP 2025å¹´ç»¼åˆæ–‡æ¡£ç´¢å¼•

## æ¦‚è¿°

æœ¬æ–‡æ¡£æ˜¯OpenTelemetry Protocol (OTLP) 2025å¹´ç»¼åˆåˆ†æçš„å®Œæ•´æ–‡æ¡£ç´¢å¼•ï¼Œæä¾›äº†æ‰€æœ‰ç›¸å…³æ–‡æ¡£çš„å¯¼èˆªå’Œæ¦‚è§ˆã€‚

## ğŸ“š æ–‡æ¡£ç»“æ„

### 1. å›½é™…æ ‡å‡†å’Œè§„èŒƒ

- **æ–‡ä»¶ä½ç½®**: `docs/standards/OTLP_INTERNATIONAL_STANDARDS_2025.md`
- **å†…å®¹æ¦‚è¦**:
  - OTLP v1.0.0åè®®æ ‡å‡†åˆ†æ
  - CNCFæ ‡å‡†å’Œè¡Œä¸šæ ‡å‡†å¯¹é½
  - 2025å¹´æœ€æ–°ç‰¹æ€§å’Œå‘å±•
  - è½¯ä»¶å †æ ˆæ¶æ„è¯¦è§£
  - äº‘åŸç”Ÿé›†æˆæ–¹æ¡ˆ

### 2. åŒæ­¥å¼‚æ­¥æ§åˆ¶æµåˆ†æ

- **æ–‡ä»¶ä½ç½®**: `docs/sync_async/OTLP_SYNC_ASYNC_CONTROL_FLOW_2025.md`
- **å†…å®¹æ¦‚è¦**:
  - åŒæ­¥å¼‚æ­¥æ§åˆ¶æµè®¾è®¡
  - æ‰§è¡Œæµç»„ç»‡å’Œç®¡ç†
  - æ•°æ®æµå¤„ç†æœºåˆ¶
  - è°ƒåº¦æœºåˆ¶å’Œä¼˜åŒ–
  - æ··åˆæ‰§è¡Œæ¨¡å¼

### 3. ç®—æ³•å’Œè®¾è®¡æ¨¡å¼

- **æ–‡ä»¶ä½ç½®**: `docs/algorithms/OTLP_ALGORITHMS_DESIGN_PATTERNS_2025.md`
- **å†…å®¹æ¦‚è¦**:
  - æ ¸å¿ƒç®—æ³•åˆ†æï¼ˆé‡‡æ ·ã€æ‰¹å¤„ç†ã€å‹ç¼©ï¼‰
  - è®¾è®¡æ¨¡å¼åº”ç”¨ï¼ˆå·¥å‚ã€è£…é¥°å™¨ã€è§‚å¯Ÿè€…ã€ç­–ç•¥ï¼‰
  - æ¶æ„è®¾è®¡ï¼ˆåˆ†å±‚ã€å¾®æœåŠ¡ã€äº‹ä»¶é©±åŠ¨ï¼‰
  - æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

### 4. é‡‡æ ·æ§åˆ¶å’ŒåŠ¨æ€è°ƒæ•´

- **æ–‡ä»¶ä½ç½®**: `docs/sampling/OTLP_SAMPLING_CONTROL_2025.md`
- **å†…å®¹æ¦‚è¦**:
  - æ—¥å¿—é‡‡é›†æœºåˆ¶
  - é‡‡æ ·æ§åˆ¶ç­–ç•¥
  - åŠ¨æ€è°ƒæ•´æœºåˆ¶
  - é¢„æµ‹æ€§è°ƒæ•´
  - ç›‘æ§å’Œå‘Šè­¦

### 5. é€’å½’å’Œè°ƒåº¦ç»„åˆ

- **æ–‡ä»¶ä½ç½®**: `docs/advanced/OTLP_RECURSIVE_MIXED_SCHEDULING_2025.md`
- **å†…å®¹æ¦‚è¦**:
  - é€’å½’å¤„ç†æœºåˆ¶
  - åŒæ­¥å¼‚æ­¥æ··åˆæ‰§è¡Œ
  - é«˜çº§è°ƒåº¦æœºåˆ¶
  - ç»„åˆæ¨¡å¼åˆ†æ
  - æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

### 6. æ‰§è¡Œæµç»„ç»‡

- **æ–‡ä»¶ä½ç½®**: `docs/flow_organization/OTLP_EXECUTION_FLOW_ORGANIZATION_2025.md`
- **å†…å®¹æ¦‚è¦**:
  - æ‰§è¡Œæµé¡ºåºç»„ç»‡
  - æ§åˆ¶æµé¡ºåºç»„ç»‡
  - æ•°æ®æµé¡ºåºç»„ç»‡
  - æ—¥å¿—ç»„ç»‡ç­–ç•¥
  - ç›‘æ§ç»„ç»‡ç­–ç•¥

### 7. ç»¼åˆä½¿ç”¨ç¤ºä¾‹

- **æ–‡ä»¶ä½ç½®**: `docs/examples/OTLP_COMPREHENSIVE_USAGE_EXAMPLES_2025.md`
- **å†…å®¹æ¦‚è¦**:
  - åŸºç¡€ä½¿ç”¨ç¤ºä¾‹
  - é«˜çº§é…ç½®ç¤ºä¾‹
  - æ‰¹é‡å¤„ç†ç¤ºä¾‹
  - å®é™…åº”ç”¨åœºæ™¯
  - é”™è¯¯å¤„ç†å’Œé‡è¯•
  - æ€§èƒ½ä¼˜åŒ–ç¤ºä¾‹

## ğŸ—‚ï¸ ä¸»é¢˜åˆ†ç±»

### æ ‡å‡†è§„èŒƒç±»

- [x] OTLPå›½é™…æ ‡å‡†åˆ†æ
- [x] åè®®è§„èŒƒè¯¦è§£
- [x] è½¯ä»¶å †æ ˆæ¶æ„

### æŠ€æœ¯å®ç°ç±»

- [x] åŒæ­¥å¼‚æ­¥æ§åˆ¶æµ
- [x] ç®—æ³•å’Œè®¾è®¡æ¨¡å¼
- [x] é‡‡æ ·æ§åˆ¶æœºåˆ¶
- [x] é€’å½’å’Œè°ƒåº¦ç»„åˆ

### ç³»ç»Ÿç»„ç»‡ç±»

- [x] æ‰§è¡Œæµç»„ç»‡
- [x] æ§åˆ¶æµç»„ç»‡
- [x] æ•°æ®æµç»„ç»‡
- [x] æ—¥å¿—ç›‘æ§ç»„ç»‡

### å®è·µåº”ç”¨ç±»

- [x] ç»¼åˆä½¿ç”¨ç¤ºä¾‹
- [x] æœ€ä½³å®è·µæŒ‡å—
- [x] æ€§èƒ½ä¼˜åŒ–ç­–ç•¥
- [x] é”™è¯¯å¤„ç†æœºåˆ¶

## ğŸ“‹ æ–‡æ¡£ç‰¹æ€§

### æŠ€æœ¯æ·±åº¦

- **ç†è®ºåˆ†æ**: æ·±å…¥åˆ†æOTLPçš„æŠ€æœ¯åŸç†å’Œè®¾è®¡æ€æƒ³
- **å®è·µæŒ‡å¯¼**: æä¾›è¯¦ç»†çš„å®ç°ç¤ºä¾‹å’Œæœ€ä½³å®è·µ
- **æ€§èƒ½ä¼˜åŒ–**: æ¶µç›–å„ç§æ€§èƒ½ä¼˜åŒ–ç­–ç•¥å’ŒæŠ€å·§
- **æ¶æ„è®¾è®¡**: åˆ†æä¸åŒçš„æ¶æ„æ¨¡å¼å’Œè®¾è®¡ç»„åˆ

### å†…å®¹è¦†ç›–

- **åŸºç¡€æ¦‚å¿µ**: ä»åŸºç¡€æ¦‚å¿µåˆ°é«˜çº§ç‰¹æ€§çš„å®Œæ•´è¦†ç›–
- **å®é™…åº”ç”¨**: åŒ…å«Webåº”ç”¨ã€æ•°æ®åº“ã€å¾®æœåŠ¡ç­‰å®é™…åœºæ™¯
- **å·¥å…·é›†æˆ**: æ¶µç›–å„ç§ç›‘æ§å·¥å…·å’Œåç«¯ç³»ç»Ÿçš„é›†æˆ
- **è¿ç»´ç®¡ç†**: åŒ…å«ç›‘æ§ã€å‘Šè­¦ã€æ•…éšœæ’æŸ¥ç­‰è¿ç»´å†…å®¹

### ä»£ç ç¤ºä¾‹

- **Rustå®ç°**: æ‰€æœ‰ç¤ºä¾‹éƒ½ä½¿ç”¨Rust 1.90+ç‰¹æ€§å®ç°
- **å®Œæ•´å¯è¿è¡Œ**: æä¾›å®Œæ•´å¯è¿è¡Œçš„ä»£ç ç¤ºä¾‹
- **æœ€ä½³å®è·µ**: éµå¾ªRustæœ€ä½³å®è·µå’ŒOTLPæ ‡å‡†
- **æ€§èƒ½ä¼˜åŒ–**: åŒ…å«æ€§èƒ½ä¼˜åŒ–å’Œé”™è¯¯å¤„ç†

## ğŸ¯ ä½¿ç”¨æŒ‡å—

### åˆå­¦è€…è·¯å¾„

1. ä»**å›½é™…æ ‡å‡†åˆ†æ**å¼€å§‹äº†è§£OTLPåŸºç¡€
2. å­¦ä¹ **åŸºç¡€ä½¿ç”¨ç¤ºä¾‹**æŒæ¡åŸºæœ¬ç”¨æ³•
3. é˜…è¯»**åŒæ­¥å¼‚æ­¥æ§åˆ¶æµ**ç†è§£æ ¸å¿ƒæ¦‚å¿µ
4. å®è·µ**ç»¼åˆä½¿ç”¨ç¤ºä¾‹**ä¸­çš„åŸºç¡€ç¤ºä¾‹

### è¿›é˜¶å¼€å‘è€…è·¯å¾„

1. æ·±å…¥**ç®—æ³•å’Œè®¾è®¡æ¨¡å¼**å­¦ä¹ é«˜çº§æŠ€æœ¯
2. æŒæ¡**é‡‡æ ·æ§åˆ¶å’ŒåŠ¨æ€è°ƒæ•´**æœºåˆ¶
3. å­¦ä¹ **é€’å½’å’Œè°ƒåº¦ç»„åˆ**çš„é«˜çº§ç‰¹æ€§
4. å®è·µ**å®é™…åº”ç”¨åœºæ™¯**ä¸­çš„å¤æ‚ç¤ºä¾‹

### æ¶æ„å¸ˆè·¯å¾„

1. å…¨é¢ç†è§£**å›½é™…æ ‡å‡†å’Œè§„èŒƒ**
2. æ·±å…¥åˆ†æ**æ¶æ„è®¾è®¡**å’Œ**è®¾è®¡æ¨¡å¼**
3. æŒæ¡**æ‰§è¡Œæµç»„ç»‡**å’Œ**ç³»ç»Ÿæ¶æ„**
4. è®¾è®¡**é«˜æ€§èƒ½**å’Œ**å¯æ‰©å±•**çš„OTLPç³»ç»Ÿ

### è¿ç»´å·¥ç¨‹å¸ˆè·¯å¾„

1. å­¦ä¹ **ç›‘æ§ç»„ç»‡ç­–ç•¥**å’Œ**å‘Šè­¦æœºåˆ¶**
2. æŒæ¡**æ€§èƒ½ä¼˜åŒ–**å’Œ**æ•…éšœæ’æŸ¥**
3. å®è·µ**æ‰¹é‡å¤„ç†**å’Œ**é”™è¯¯å¤„ç†**
4. å»ºç«‹**å®Œæ•´çš„ç›‘æ§ä½“ç³»**

## ğŸ”§ æŠ€æœ¯æ ˆ

### æ ¸å¿ƒä¾èµ–

- **Rust 1.90+**: ä½¿ç”¨æœ€æ–°Rustç‰¹æ€§
- **Tokio**: å¼‚æ­¥è¿è¡Œæ—¶
- **OpenTelemetry**: æ ¸å¿ƒOTLPå®ç°
- **Tonic**: gRPCå®¢æˆ·ç«¯
- **Serde**: åºåˆ—åŒ–æ”¯æŒ

### æ‰©å±•åŠŸèƒ½

- **å‹ç¼©ç®—æ³•**: Gzipã€Brotliã€Zstd
- **ç›‘æ§é›†æˆ**: Prometheusã€Jaeger
- **äº‘åŸç”Ÿ**: Kubernetesã€Istio
- **æ•°æ®åº“**: å¤šç§æ•°æ®åº“æ”¯æŒ

## ğŸ“Š æ–‡æ¡£ç»Ÿè®¡

### æ–‡æ¡£æ•°é‡

- **æ€»æ–‡æ¡£æ•°**: 7ä¸ªä¸»è¦æ–‡æ¡£
- **ä»£ç ç¤ºä¾‹**: 100+ä¸ªå®Œæ•´ç¤ºä¾‹
- **é…ç½®ç¤ºä¾‹**: 50+ä¸ªé…ç½®æ¡ˆä¾‹
- **æœ€ä½³å®è·µ**: 30+ä¸ªå®è·µæŒ‡å—

### å†…å®¹è§„æ¨¡

- **æ€»å­—æ•°**: çº¦50,000å­—
- **ä»£ç è¡Œæ•°**: çº¦5,000è¡Œ
- **é…ç½®ç¤ºä¾‹**: çº¦100ä¸ª
- **å›¾è¡¨è¯´æ˜**: çº¦20ä¸ª

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

```bash
# å®‰è£…Rust 1.90+
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh

# å®‰è£…ä¾èµ–
cargo install tokio-cli
```

### 2. åŸºç¡€ä½¿ç”¨

```rust
use c21_otlp::{OtlpClient, OtlpConfig};

#[tokio::main]
async fn main() -> Result<(), Box<dyn std::error::Error>> {
    let config = OtlpConfig::default()
        .with_endpoint("http://localhost:4317")
        .with_service("my-service", "1.0.0");
    
    let client = OtlpClient::new(config).await?;
    client.initialize().await?;
    
    // å‘é€è¿½è¸ªæ•°æ®
    let result = client.send_trace("example-operation").await?
        .with_attribute("service.name", "my-service")
        .finish()
        .await?;
    
    println!("å‘é€æˆåŠŸ: {} æ¡", result.success_count);
    
    client.shutdown().await?;
    Ok(())
}
```

### 3. é«˜çº§é…ç½®

```rust
let config = OtlpConfig::default()
    .with_endpoint("https://api.honeycomb.io:443")
    .with_protocol(TransportProtocol::Grpc)
    .with_compression(Compression::Gzip)
    .with_sampling_ratio(0.1)
    .with_batch_config(BatchConfig {
        max_export_batch_size: 512,
        export_timeout: Duration::from_millis(5000),
        max_queue_size: 2048,
        scheduled_delay: Duration::from_millis(5000),
    });
```

## ğŸ“ æ”¯æŒå’Œè´¡çŒ®

### é—®é¢˜åé¦ˆ

- åˆ›å»ºIssueæè¿°é—®é¢˜
- æä¾›è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯
- åŒ…å«å¤ç°æ­¥éª¤

### è´¡çŒ®æŒ‡å—

- Forké¡¹ç›®ä»“åº“
- åˆ›å»ºç‰¹æ€§åˆ†æ”¯
- æäº¤Pull Request
- éµå¾ªä»£ç è§„èŒƒ

### ç¤¾åŒºæ”¯æŒ

- å‚ä¸è®¨è®º
- åˆ†äº«ç»éªŒ
- å¸®åŠ©ä»–äºº
- æ¨å¹¿é¡¹ç›®

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT æˆ– Apache-2.0 åŒé‡è®¸å¯è¯ã€‚

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹é¡¹ç›®å’Œç¤¾åŒºçš„æ”¯æŒï¼š

- [OpenTelemetry](https://opentelemetry.io/) - æä¾›OTLPåè®®æ ‡å‡†
- [Rustç¤¾åŒº](https://www.rust-lang.org/community) - æä¾›ä¼˜ç§€çš„è¯­è¨€å’Œå·¥å…·
- [Tokio](https://tokio.rs/) - æä¾›å¼‚æ­¥è¿è¡Œæ—¶
- [CNCF](https://www.cncf.io/) - æ¨åŠ¨äº‘åŸç”ŸæŠ€æœ¯å‘å±•

---

**æ³¨æ„**: æœ¬æ–‡æ¡£é›†åˆæä¾›äº†OTLPçš„å…¨é¢åˆ†æå’Œå®è·µæŒ‡å¯¼ï¼Œæ¶µç›–äº†ä»åŸºç¡€æ¦‚å¿µåˆ°é«˜çº§åº”ç”¨çš„æ‰€æœ‰æ–¹é¢ã€‚å»ºè®®æ ¹æ®è‡ªèº«éœ€æ±‚é€‰æ‹©åˆé€‚çš„é˜…è¯»è·¯å¾„ï¼Œå¹¶ç»“åˆå®é™…é¡¹ç›®è¿›è¡Œå®è·µã€‚

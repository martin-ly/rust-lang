# C09 设计模式 - 术语表

> **文档类型**: Tier 1 - 基础层
> **文档定位**: 设计模式核心术语快速参考，快速入门必备
> **项目状态**: ✅ 完整完成
> **相关文档**: [项目概览](./01_项目概览.md) | [主索引导航](./02_主索引导航.md) | [常见问题](./04_常见问题.md) | [完整术语表](../Glossary.md)

**最后更新**: 2025-12-25
**适用版本**: Rust 1.92.0+ (Edition 2024)
**文档类型**: 📚 基础参考

---

## 📋 目录

- [C09 设计模式 - 术语表](#c09-设计模式---术语表)
  - [📋 目录](#-目录)
  - [📊 快速索引](#-快速索引)
  - [🎯 核心概念](#-核心概念)
    - [设计模式基础](#设计模式基础)
      - [设计模式 (Design Pattern)](#设计模式-design-pattern)
      - [GoF (Gang of Four)](#gof-gang-of-four)
    - [GoF 23种模式分类](#gof-23种模式分类)
      - [创建型模式 (5种)](#创建型模式-5种)
      - [结构型模式 (7种)](#结构型模式-7种)
      - [行为型模式 (11种)](#行为型模式-11种)
    - [Rust 特有概念](#rust-特有概念)
      - [Trait 对象](#trait-对象)
      - [零成本抽象 (Zero-Cost Abstraction)](#零成本抽象-zero-cost-abstraction)
      - [Typestate 模式](#typestate-模式)
      - [GATs (Generic Associated Types)](#gats-generic-associated-types)
      - [OnceLock](#oncelock)
    - [并发与异步](#并发与异步)
      - [Actor 模式](#actor-模式)
      - [Reactor 模式](#reactor-模式)
      - [CSP (Communicating Sequential Processes)](#csp-communicating-sequential-processes)
      - [Future](#future)
      - [async/await](#asyncawait)
  - [📚 完整术语表](#-完整术语表)
  - [🔗 相关资源](#-相关资源)
    - [内部文档](#内部文档)

---

## 📊 快速索引

**按字母顺序**:

[A](#actor-模式) | [B](#建造者模式-builder) | [C](#csp-communicating-sequential-processes) | [D](#设计模式-design-pattern) | [F](#future) | [G](#gof-gang-of-four) | [O](#观察者模式-observer) | [R](#reactor-模式) | [S](#单例模式-singleton) | [T](#trait-对象) | [Z](#零成本抽象-zero-cost-abstraction)

**按类别跳转**:

- [设计模式基础](#设计模式基础)
- [GoF 23种模式分类](#gof-23种模式分类)
- [Rust 特有概念](#rust-特有概念)
- [并发与异步](#并发与异步)

---

## 🎯 核心概念

### 设计模式基础

#### 设计模式 (Design Pattern)

**定义**: 在软件设计中反复出现的问题的通用解决方案，是一套被反复使用、经过分类的代码设计经验总结。

**分类**:

- **创建型**: 对象创建机制（5种）
- **结构型**: 对象组合方式（7种）
- **行为型**: 对象间通信方式（11种）

**Rust 特点**: 需要考虑所有权、借用、生命周期

**相关**: [项目概览](./01_项目概览.md) | [完整术语表](../Glossary.md#设计模式-design-pattern)

---

#### GoF (Gang of Four)

**定义**: 《设计模式：可复用面向对象软件的基础》一书的四位作者，书中总结了 23 种经典设计模式。

**23种模式**:

- **创建型 (5)**: 单例、工厂方法、抽象工厂、建造者、原型
- **结构型 (7)**: 适配器、桥接、组合、装饰器、外观、享元、代理
- **行为型 (11)**: 责任链、命令、解释器、迭代器、中介者、备忘录、观察者、状态、策略、模板方法、访问者

**相关**: [项目概览](./01_项目概览.md) | [完整术语表](../Glossary.md#gof-gang-of-four)

---

### GoF 23种模式分类

#### 创建型模式 (5种)

**单例模式 (Singleton)**: 确保一个类只有一个实例，并提供全局访问点。

**Rust 实现**: `OnceLock`, `LazyLock` (Rust 1.92.0+)

```rust
use std::sync::OnceLock;

static INSTANCE: OnceLock<Config> = OnceLock::new();

fn get_instance() -> &'static Config {
    INSTANCE.get_or_init(|| Config::new())
}
```

**工厂模式 (Factory)**: 对象创建接口，封装对象创建逻辑。

**建造者模式 (Builder)**: 复杂对象构建，使用 Typestate 模式保证完整性。

**原型模式 (Prototype)**: 对象克隆，使用 `Clone` trait。

**抽象工厂模式 (Abstract Factory)**: 创建相关对象族。

---

#### 结构型模式 (7种)

**适配器模式 (Adapter)**: 接口转换，使不兼容的接口能够协同工作。

**装饰器模式 (Decorator)**: 动态添加功能，零成本包装。

**代理模式 (Proxy)**: 控制访问，延迟加载。

**外观模式 (Facade)**: 简化接口，封装子系统。

**桥接模式 (Bridge)**: 抽象与实现分离。

**组合模式 (Composite)**: 树形结构，递归枚举。

**享元模式 (Flyweight)**: 共享对象节省内存，`Arc` + 内存池。

---

#### 行为型模式 (11种)

**观察者模式 (Observer)**: 事件驱动，一对多依赖关系。

**策略模式 (Strategy)**: 算法切换，Trait对象或泛型。

**状态模式 (State)**: 状态机，Typestate 模式。

**命令模式 (Command)**: 请求封装，闭包或 Trait。

**责任链模式 (Chain of Responsibility)**: 请求链式处理。

**迭代器模式 (Iterator)**: 遍历集合，`Iterator` trait（标准库）。

**模板方法模式 (Template Method)**: 算法框架，Trait + 默认实现。

**访问者模式 (Visitor)**: 操作与结构分离。

**中介者模式 (Mediator)**: 对象间交互，消息通道。

**备忘录模式 (Memento)**: 状态保存，Clone + 序列化。

**解释器模式 (Interpreter)**: 语言解释，递归下降。

---

### Rust 特有概念

#### Trait 对象

**定义**: 运行时多态机制，通过 `dyn Trait` 实现动态分派。

**特点**:

- 运行时开销（虚函数表）
- 类型擦除
- 灵活但有性能代价

**相关**: [完整术语表](../Glossary.md#trait-对象)

---

#### 零成本抽象 (Zero-Cost Abstraction)

**定义**: 抽象不会带来运行时开销，编译后与手写的底层代码性能相同。

**Rust 实现**:

- 泛型单态化
- 内联优化
- 编译时计算

**相关**: [完整术语表](../Glossary.md#零成本抽象-zero-cost-abstraction)

---

#### Typestate 模式

**定义**: 使用 Rust 的类型系统在编译时保证状态转换的正确性。

**特点**:

- 编译时验证
- 零运行时开销
- 防止非法状态转换

**应用**: Builder 模式、状态机

**相关**: [完整术语表](../Glossary.md#类型状态模式-typestate-pattern)

---

#### GATs (Generic Associated Types)

**定义**: 泛型关联类型，允许关联类型带有泛型参数。

**应用**: 观察者模式的借用视图

**相关**: [完整术语表](../Glossary.md#gats-generic-associated-types)

---

#### OnceLock

**定义**: Rust 1.92.0+ 标准库提供的线程安全的单次初始化类型（自 Rust 1.90 引入）。

**用途**: 全局单例、延迟初始化

**vs lazy_static**: 标准库支持，无需外部依赖

**相关**: [完整术语表](../Glossary.md#oncelock)

---

### 并发与异步

#### Actor 模式

**定义**: 并发计算模型，每个 Actor 是独立的计算单元，通过消息传递通信。

**特点**:

- 消息传递，无共享状态
- 每个 Actor 有独立的邮箱
- 异步消息处理

**Rust 实现**: `tokio::mpsc`, `actix`

**相关**: [完整术语表](../Glossary.md#actor-模式) | [Actor/Reactor分析](../ACTOR_REACTOR_PATTERNS.md)

---

#### Reactor 模式

**定义**: 事件驱动的并发模型，通过事件循环和回调处理多个事件源。

**特点**:

- 事件多路复用（epoll/kqueue）
- 单线程高并发
- 回调驱动

**Rust 中**: Tokio 运行时基于 Reactor 模式

**相关**: [完整术语表](../Glossary.md#reactor-模式) | [Actor/Reactor分析](../ACTOR_REACTOR_PATTERNS.md)

---

#### CSP (Communicating Sequential Processes)

**定义**: 并发编程模型，通过通道（Channel）进行通信。

**特点**:

- 进程通过通道通信
- 不共享内存
- Golang 的并发模型

**Rust 实现**: `std::sync::mpsc`, `crossbeam`

**相关**: [完整术语表](../Glossary.md#csp-communicating-sequential-processes) | [CSP vs Async](../CSP_VS_ASYNC_ANALYSIS.md)

---

#### Future

**定义**: 表示一个异步计算，可能尚未完成。

**Rust 中**: `Future` trait

```rust
pub trait Future {
    type Output;
    fn poll(self: Pin<&mut Self>, cx: &mut Context<'_>) -> Poll<Self::Output>;
}
```

**状态机**: async/await 编译为状态机

**相关**: [完整术语表](../Glossary.md#future)

---

#### async/await

**定义**: Rust 的异步编程语法糖，使异步代码看起来像同步代码。

**工作原理**: 编译器将 async 函数转换为状态机

**相关**: [完整术语表](../Glossary.md#asyncawait) | [异步等价理论](../ASYNC_SYNC_EQUIVALENCE_THEORY.md)

---

## 📚 完整术语表

本文档提供了核心术语的快速参考。如需查看完整的术语表（包含形式化理论、高级概念等），请参阅：

- **[完整术语表](../Glossary.md)** - 包含所有术语的详细定义和示例

**完整术语表包含**:

- ✅ 设计模式基础（本文档已覆盖）
- ✅ GoF 23种模式（本文档已覆盖）
- ✅ Rust 特性（本文档已覆盖）
- ✅ 并发与异步（本文档已覆盖）
- 📚 形式化理论（CPS 变换、Monad、状态机、语义等价、Pin）
- 📚 高级概念（RPITIT、类型擦除、Extension Trait）

---

## 🔗 相关资源

### 内部文档

**Tier 1 基础**:

- [项目概览](./01_项目概览.md) - 模块介绍、学习路径
- [主索引导航](./02_主索引导航.md) - 完整导航系统
- [常见问题](./04_常见问题.md) - FAQ 解答

**核心资源**:

- [完整术语表](../Glossary.md) - 所有术语详细定义
- [FAQ](../FAQ.md) - 常见问题解答
- [综合指南](../COMPREHENSIVE_DESIGN_PATTERNS_GUIDE.md) - 完整模式指南

**深度理论**:

- [形式化理论体系](../tier_04_advanced/) - 高级主题
- [Actor/Reactor模式](../ACTOR_REACTOR_PATTERNS.md) - 并发模式深入
- [CSP vs Async](../CSP_VS_ASYNC_ANALYSIS.md) - 并发模型对比

---

**下一步**: 阅读 [常见问题](./04_常见问题.md) 或 [主索引导航](./02_主索引导航.md) 继续学习！

---

**文档维护**: Documentation Team
**创建日期**: 2025-12-25
**最后更新**: 2025-12-25
**适用版本**: Rust 1.92.0+
**文档状态**: ✅ 活跃维护

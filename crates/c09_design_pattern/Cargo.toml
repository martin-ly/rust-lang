[package]
name = "c09_design_pattern"
version = "1.0.1"
edition = "2024"
resolver = "3"
rust-version = "1.92"

[dependencies]
async-trait = { workspace = true }
tokio = { workspace = true }
rayon = { workspace = true }
crossbeam = { workspace = true }
lazy_static = "1.5.0"
futures = { workspace = true, optional = true }
tracing = { version = "0.1", optional = true }
tracing-subscriber = { version = "0.3", optional = true, features = ["fmt", "env-filter"] }

[dev-dependencies]
criterion = { workspace = true }

[features]
default = []
# 启用 rayon 基准的可选门控（仅用于 benches 内部条件）
rayon = []
# 启用 tokio 异步基准的可选门控
tokio-bench = []
# 可观测示例所需的 tracing 组件
obs-tracing = ["tracing", "tracing-subscriber"]
# 启用 futures 支持
futures = ["dep:futures"]

[lib]
name = "c09_design_pattern"
path = "src/lib.rs"

[[bin]]
name = "c09_design_pattern"
path = "src/bin/main.rs"

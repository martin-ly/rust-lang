# å¼€å‘ä¸è´¡çŒ®æŒ‡å—

> **å‚ä¸é¡¹ç›®å¼€å‘**ï¼Œäº†è§£å¼€å‘æµç¨‹ã€ä»£ç è§„èŒƒå’Œè´¡çŒ®æ–¹å¼

**æœ€åæ›´æ–°**: 2025-10-19  
**é€‚ç”¨ç‰ˆæœ¬**: Rust 1.90+

---

## ğŸ“‹ ç›®å½•

- [å¼€å‘ä¸è´¡çŒ®æŒ‡å—](#å¼€å‘ä¸è´¡çŒ®æŒ‡å—)
  - [ğŸ“‹ ç›®å½•](#-ç›®å½•)
  - [ğŸ“‹ æ¦‚è¿°](#-æ¦‚è¿°)
  - [ğŸ“š æ–‡æ¡£åˆ—è¡¨](#-æ–‡æ¡£åˆ—è¡¨)
    - [1. è´¡çŒ®æŒ‡å—](#1-è´¡çŒ®æŒ‡å—)
  - [ğŸš€ å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
    - [ç¯å¢ƒå‡†å¤‡](#ç¯å¢ƒå‡†å¤‡)
    - [è·å–ä»£ç ](#è·å–ä»£ç )
    - [æœ¬åœ°å¼€å‘](#æœ¬åœ°å¼€å‘)
  - [ğŸ“– å¼€å‘æµç¨‹](#-å¼€å‘æµç¨‹)
    - [1. Fork å’Œå…‹éš†](#1-fork-å’Œå…‹éš†)
    - [2. åˆ›å»ºåˆ†æ”¯](#2-åˆ›å»ºåˆ†æ”¯)
    - [3. å¼€å‘å’Œæµ‹è¯•](#3-å¼€å‘å’Œæµ‹è¯•)
    - [4. æäº¤å˜æ›´](#4-æäº¤å˜æ›´)
    - [5. åˆ›å»º Pull Request](#5-åˆ›å»º-pull-request)
  - [ğŸ“ ä»£ç è§„èŒƒ](#-ä»£ç è§„èŒƒ)
    - [Rust é£æ ¼](#rust-é£æ ¼)
    - [å‘½åçº¦å®š](#å‘½åçº¦å®š)
    - [æ–‡æ¡£è¦æ±‚](#æ–‡æ¡£è¦æ±‚)
    - [æµ‹è¯•è¦æ±‚](#æµ‹è¯•è¦æ±‚)
  - [ğŸ—ï¸ æ¶æ„ä¸æ¨¡å—](#ï¸-æ¶æ„ä¸æ¨¡å—)
    - [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
    - [æ¨¡å—èŒè´£](#æ¨¡å—èŒè´£)
    - [ä¾èµ–ç®¡ç†](#ä¾èµ–ç®¡ç†)
  - [âœ… è´¨é‡ä¿è¯](#-è´¨é‡ä¿è¯)
    - [ä»£ç æ£€æŸ¥](#ä»£ç æ£€æŸ¥)
    - [æµ‹è¯•è¦†ç›–](#æµ‹è¯•è¦†ç›–)
    - [æ€§èƒ½åŸºå‡†](#æ€§èƒ½åŸºå‡†)
  - [ğŸ“‹ æäº¤è§„èŒƒ](#-æäº¤è§„èŒƒ)
    - [æäº¤æ¶ˆæ¯æ ¼å¼](#æäº¤æ¶ˆæ¯æ ¼å¼)
    - [æäº¤æœ€ä½³å®è·µ](#æäº¤æœ€ä½³å®è·µ)
  - [ğŸ¯ è´¡çŒ®æ–¹å¼](#-è´¡çŒ®æ–¹å¼)
    - [ä»£ç è´¡çŒ®](#ä»£ç è´¡çŒ®)
    - [æ–‡æ¡£è´¡çŒ®](#æ–‡æ¡£è´¡çŒ®)
    - [æµ‹è¯•è´¡çŒ®](#æµ‹è¯•è´¡çŒ®)
    - [å…¶ä»–è´¡çŒ®](#å…¶ä»–è´¡çŒ®)
  - [ğŸ’¡ å¼€å‘å»ºè®®](#-å¼€å‘å»ºè®®)
    - [æœ€ä½³å®è·µ](#æœ€ä½³å®è·µ)
    - [é¿å…çš„é™·é˜±](#é¿å…çš„é™·é˜±)
    - [æ²Ÿé€šæ¸ é“](#æ²Ÿé€šæ¸ é“)
  - [ğŸ”— ç›¸å…³èµ„æº](#-ç›¸å…³èµ„æº)
    - [é¡¹ç›®æ–‡æ¡£](#é¡¹ç›®æ–‡æ¡£)
    - [å¤–éƒ¨èµ„æº](#å¤–éƒ¨èµ„æº)
    - [å·¥å…·æ–‡æ¡£](#å·¥å…·æ–‡æ¡£)

---

## ğŸ“‹ æ¦‚è¿°

æœ¬ç›®å½•åŒ…å«é¡¹ç›®å¼€å‘çš„æ‰€æœ‰ç›¸å…³ä¿¡æ¯ï¼ŒåŒ…æ‹¬å¼€å‘ç¯å¢ƒé…ç½®ã€ä»£ç è§„èŒƒã€è´¡çŒ®æµç¨‹ç­‰ã€‚

---

## ğŸ“š æ–‡æ¡£åˆ—è¡¨

### 1. [è´¡çŒ®æŒ‡å—](./contributing.md)

**å†…å®¹æ¦‚è¦**:

- è¯¦ç»†çš„è´¡çŒ®æµç¨‹
- ä»£ç å®¡æŸ¥æ ‡å‡†
- ç¤¾åŒºè¡Œä¸ºå‡†åˆ™
- é—®é¢˜æŠ¥å‘ŠæŒ‡å—

**é€‚åˆäººç¾¤**: æ‰€æœ‰è´¡çŒ®è€…

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒå‡†å¤‡

**å¿…éœ€å·¥å…·**:

```bash
# Rust 1.90+
rustup update stable
rustc --version

# æ ¼å¼åŒ–å·¥å…·
rustup component add rustfmt

# ä»£ç æ£€æŸ¥å·¥å…·
rustup component add clippy
```

**æ¨èå·¥å…·**:

```bash
# ä»£ç è¦†ç›–ç‡
cargo install cargo-tarpaulin

# åŸºå‡†æµ‹è¯•
cargo install cargo-criterion

# æ–‡æ¡£ç”Ÿæˆ
cargo install mdbook
```

### è·å–ä»£ç 

```bash
# Fork é¡¹ç›®åˆ°ä½ çš„ GitHub è´¦æˆ·ï¼Œç„¶åå…‹éš†
git clone https://github.com/YOUR_USERNAME/rust-lang.git
cd rust-lang/crates/c12_model

# æ·»åŠ ä¸Šæ¸¸ä»“åº“
git remote add upstream https://github.com/rust-lang/rust-lang.git
```

### æœ¬åœ°å¼€å‘

```bash
# æ„å»ºé¡¹ç›®
cargo build

# è¿è¡Œæµ‹è¯•
cargo test

# è¿è¡Œç‰¹å®šæµ‹è¯•
cargo test --test integration_tests

# æ ¼å¼åŒ–ä»£ç 
cargo fmt

# æ£€æŸ¥ä»£ç 
cargo clippy -- -D warnings

# ç”Ÿæˆæ–‡æ¡£
cargo doc --open
```

---

## ğŸ“– å¼€å‘æµç¨‹

### 1. Fork å’Œå…‹éš†

1. åœ¨ GitHub ä¸Š Fork é¡¹ç›®
2. å…‹éš†ä½ çš„ Fork
3. æ·»åŠ ä¸Šæ¸¸ä»“åº“

### 2. åˆ›å»ºåˆ†æ”¯

```bash
# åŒæ­¥ä¸»åˆ†æ”¯
git checkout main
git pull upstream main

# åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout -b feature/your-feature-name
```

**åˆ†æ”¯å‘½åè§„èŒƒ**:

- `feature/xxx` - æ–°åŠŸèƒ½
- `fix/xxx` - Bug ä¿®å¤
- `docs/xxx` - æ–‡æ¡£æ›´æ–°
- `refactor/xxx` - ä»£ç é‡æ„
- `test/xxx` - æµ‹è¯•æ”¹è¿›

### 3. å¼€å‘å’Œæµ‹è¯•

```bash
# ç¼–å†™ä»£ç ...

# è¿è¡Œæµ‹è¯•
cargo test

# è¿è¡Œæ ¼å¼åŒ–
cargo fmt

# è¿è¡Œ Clippy
cargo clippy

# æ„å»ºæ–‡æ¡£
cargo doc
```

### 4. æäº¤å˜æ›´

```bash
# æ·»åŠ æ–‡ä»¶
git add .

# æäº¤ï¼ˆéµå¾ªæäº¤è§„èŒƒï¼‰
git commit -m "feat: add new feature"

# æ¨é€åˆ°ä½ çš„ Fork
git push origin feature/your-feature-name
```

### 5. åˆ›å»º Pull Request

1. è®¿é—® GitHub ä»“åº“
2. ç‚¹å‡» "New Pull Request"
3. é€‰æ‹©ä½ çš„åˆ†æ”¯
4. å¡«å†™ PR æè¿°
5. ç­‰å¾…ä»£ç å®¡æŸ¥

---

## ğŸ“ ä»£ç è§„èŒƒ

### Rust é£æ ¼

éµå¾ª [Rust å®˜æ–¹é£æ ¼æŒ‡å—](https://doc.rust-lang.org/1.0.0/style/):

- ä½¿ç”¨ 4 ç©ºæ ¼ç¼©è¿›
- æ¯è¡Œæœ€å¤š 100 å­—ç¬¦
- ä½¿ç”¨ `snake_case` å‘½åå‡½æ•°å’Œå˜é‡
- ä½¿ç”¨ `PascalCase` å‘½åç±»å‹å’Œ trait
- ä½¿ç”¨ `SCREAMING_SNAKE_CASE` å‘½åå¸¸é‡

**è‡ªåŠ¨åŒ–**:

```bash
# æ ¼å¼åŒ–æ‰€æœ‰ä»£ç 
cargo fmt --all

# æ£€æŸ¥æ ¼å¼
cargo fmt --all -- --check
```

### å‘½åçº¦å®š

**æ¨¡å—å‘½å**:

- `core/` - æ ¸å¿ƒæ•°æ®ç»“æ„å’Œ trait
- `models/` - å…·ä½“æ¨¡å‹å®ç°
- `utils/` - å·¥å…·å‡½æ•°
- `error/` - é”™è¯¯ç±»å‹

**ç±»å‹å‘½å**:

```rust
// âœ… å¥½çš„å‘½å
pub struct MM1Queue { ... }
pub trait ModelValidator { ... }
pub enum ErrorKind { ... }

// âŒ ä¸å¥½çš„å‘½å
pub struct mm1queue { ... }
pub trait validator { ... }
pub enum err { ... }
```

### æ–‡æ¡£è¦æ±‚

**å…¬å…± API å¿…é¡»æœ‰æ–‡æ¡£**:

```rust
/// M/M/1 æ’é˜Ÿç³»ç»Ÿæ¨¡å‹
///
/// # å‚æ•°
/// - `arrival_rate` - åˆ°è¾¾ç‡ (Î»)
/// - `service_rate` - æœåŠ¡ç‡ (Î¼)
///
/// # ç¤ºä¾‹
///
/// ```
/// use c12_model::MM1Queue;
///
/// let queue = MM1Queue::new(1.0, 2.0);
/// assert_eq!(queue.utilization(), 0.5);
/// ```
///
/// # é”™è¯¯
///
/// å¦‚æœ `arrival_rate >= service_rate`ï¼Œè¿”å›é”™è¯¯ã€‚
pub struct MM1Queue {
    arrival_rate: f64,
    service_rate: f64,
}
```

**æ–‡æ¡£æ£€æŸ¥**:

```bash
cargo doc --all --no-deps
```

### æµ‹è¯•è¦æ±‚

**æ¯ä¸ªå…¬å…±å‡½æ•°éƒ½åº”è¯¥æœ‰æµ‹è¯•**:

```rust
#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn test_mm1_queue_utilization() {
        let queue = MM1Queue::new(1.0, 2.0);
        assert_eq!(queue.utilization(), 0.5);
    }

    #[test]
    #[should_panic(expected = "Invalid parameters")]
    fn test_mm1_queue_invalid_params() {
        MM1Queue::new(2.0, 1.0);
    }
}
```

**è¿è¡Œæµ‹è¯•**:

```bash
# æ‰€æœ‰æµ‹è¯•
cargo test --all

# å•ä¸ªåŒ…æµ‹è¯•
cargo test -p c12_model

# å¸¦è¾“å‡º
cargo test -- --nocapture

# æµ‹è¯•è¦†ç›–ç‡
cargo tarpaulin --out Html
```

---

## ğŸ—ï¸ æ¶æ„ä¸æ¨¡å—

### é¡¹ç›®ç»“æ„

```text
c12_model/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ lib.rs           # åº“å…¥å£
â”‚   â”œâ”€â”€ core/            # æ ¸å¿ƒæ¨¡å—
â”‚   â”œâ”€â”€ concurrency/     # å¹¶å‘æ¨¡å‹
â”‚   â”œâ”€â”€ distributed/     # åˆ†å¸ƒå¼æ¨¡å‹
â”‚   â”œâ”€â”€ architecture/    # æ¶æ„æ¨¡å¼
â”‚   â”œâ”€â”€ formal/          # å½¢å¼åŒ–æ–¹æ³•
â”‚   â”œâ”€â”€ error.rs         # é”™è¯¯ç±»å‹
â”‚   â””â”€â”€ utils.rs         # å·¥å…·å‡½æ•°
â”œâ”€â”€ examples/            # ç¤ºä¾‹ä»£ç 
â”œâ”€â”€ tests/               # é›†æˆæµ‹è¯•
â”œâ”€â”€ benches/             # æ€§èƒ½åŸºå‡†
â””â”€â”€ docs/                # æ–‡æ¡£
```

### æ¨¡å—èŒè´£

**æ ¸å¿ƒæ¨¡å‹å±‚**:

- å½¢å¼åŒ–æ¨¡å‹
- æ’é˜Ÿè®ºæ¨¡å‹
- æœºå™¨å­¦ä¹ æ¨¡å‹
- é¢†åŸŸæ¨¡å‹

**åŸºç¡€è®¾æ–½å±‚**:

- é…ç½®ç®¡ç†
- é”™è¯¯å¤„ç†
- æ—¥å¿—è¿½è¸ª
- æ€§èƒ½ç›‘æ§

**é€‚é…å±‚**:

- ç¤ºä¾‹ä»£ç 
- ä½¿ç”¨æŒ‡å—
- å¤–éƒ¨é›†æˆ

**è®¾è®¡åŸåˆ™**:

- âœ… è‡ªåº•å‘ä¸Šä¾èµ–
- âœ… ç¦æ­¢è·¨å±‚å¾ªç¯ä¾èµ–
- âœ… å…¬å…±ç±»å‹ç¨³å®š
- âœ… å†…éƒ¨å®ç°å¯æ¼”è¿›

è¯¦è§ [æ¶æ„æ–‡æ¡£](../architecture/README.md)

### ä¾èµ–ç®¡ç†

**æ·»åŠ ä¾èµ–**:

```toml
[dependencies]
# ä»…æ·»åŠ å¿…éœ€çš„ä¾èµ–
tokio = { version = "1", features = ["rt", "sync"] }

[dev-dependencies]
# æµ‹è¯•ä¾èµ–
criterion = "0.5"
```

**ä¾èµ–åŸåˆ™**:

- æœ€å°åŒ–å¤–éƒ¨ä¾èµ–
- ä¼˜å…ˆä½¿ç”¨æ ‡å‡†åº“
- æ˜ç¡®æ ‡æ³¨ç‰¹æ€§
- å®šæœŸæ›´æ–°ä¾èµ–

---

## âœ… è´¨é‡ä¿è¯

### ä»£ç æ£€æŸ¥

**Clippy æ£€æŸ¥**:

```bash
# æ ‡å‡†æ£€æŸ¥
cargo clippy

# ä¸¥æ ¼æ£€æŸ¥
cargo clippy -- -D warnings

# æ‰€æœ‰ target
cargo clippy --all-targets --all-features
```

**å¸¸è§ Clippy é…ç½®** (`clippy.toml`):

```toml
# å…è®¸çš„ lint
allow = [
    "clippy::module_inception",
]

# è­¦å‘Šçš„ lint
warn = [
    "clippy::all",
]

# ç¦æ­¢çš„ lint
deny = [
    "clippy::correctness",
]
```

### æµ‹è¯•è¦†ç›–

**ç›®æ ‡**: ä¿æŒ 85%+ çš„æµ‹è¯•è¦†ç›–ç‡

```bash
# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
cargo tarpaulin --out Html --output-dir coverage

# æŸ¥çœ‹æŠ¥å‘Š
open coverage/index.html
```

**æµ‹è¯•ç±»å‹**:

- å•å…ƒæµ‹è¯• - `#[test]`
- é›†æˆæµ‹è¯• - `tests/`
- æ–‡æ¡£æµ‹è¯• - æ–‡æ¡£ä¸­çš„ç¤ºä¾‹
- åŸºå‡†æµ‹è¯• - `benches/`

### æ€§èƒ½åŸºå‡†

```bash
# è¿è¡ŒåŸºå‡†æµ‹è¯•
cargo bench

# ç‰¹å®šåŸºå‡†
cargo bench --bench my_benchmark

# ç”ŸæˆæŠ¥å‘Š
cargo criterion
```

---

## ğŸ“‹ æäº¤è§„èŒƒ

### æäº¤æ¶ˆæ¯æ ¼å¼

éµå¾ª [Conventional Commits](https://www.conventionalcommits.org/):

```text
<ç±»å‹>(<èŒƒå›´>): <ç®€çŸ­æè¿°>

<è¯¦ç»†æè¿°>

<Footer>
```

**ç±»å‹**:

- `feat`: æ–°åŠŸèƒ½
- `fix`: Bug ä¿®å¤
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰
- `refactor`: é‡æ„
- `perf`: æ€§èƒ½ä¼˜åŒ–
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»º/å·¥å…·ç›¸å…³

**ç¤ºä¾‹**:

```bash
feat(concurrency): add Actor model implementation

Implement basic Actor model with:
- Message passing
- State isolation
- Error handling

Closes #123
```

### æäº¤æœ€ä½³å®è·µ

- âœ… åŸå­åŒ–æäº¤ - æ¯ä¸ªæäº¤å®Œæˆä¸€ä¸ªç‹¬ç«‹åŠŸèƒ½
- âœ… æ¸…æ™°çš„æè¿° - è¯´æ˜åŠ¨æœºä¸å½±å“èŒƒå›´
- âœ… å…³è” Issue - ä½¿ç”¨ `Closes #xxx`
- âœ… æµ‹è¯•é€šè¿‡ - æäº¤å‰ç¡®ä¿æµ‹è¯•é€šè¿‡
- âœ… ä»£ç æ ¼å¼åŒ– - è¿è¡Œ `cargo fmt`

---

## ğŸ¯ è´¡çŒ®æ–¹å¼

### ä»£ç è´¡çŒ®

- å®ç°æ–°æ¨¡å‹å’Œç®—æ³•
- ä¿®å¤ Bug
- æ€§èƒ½ä¼˜åŒ–
- ä»£ç é‡æ„

### æ–‡æ¡£è´¡çŒ®

- æ”¹è¿›å’Œè¡¥å……æ–‡æ¡£
- ç¼–å†™æ•™ç¨‹å’ŒæŒ‡å—
- ç¿»è¯‘æ–‡æ¡£
- ä¿®å¤æ–‡æ¡£é”™è¯¯

### æµ‹è¯•è´¡çŒ®

- å¢åŠ æµ‹è¯•ç”¨ä¾‹
- æé«˜æµ‹è¯•è¦†ç›–ç‡
- ç¼–å†™é›†æˆæµ‹è¯•
- æ€§èƒ½åŸºå‡†æµ‹è¯•

### å…¶ä»–è´¡çŒ®

- åé¦ˆå»ºè®®
- æŠ¥å‘Š Bug
- å‚ä¸è®¨è®º
- å¸®åŠ©å…¶ä»–ç”¨æˆ·

---

## ğŸ’¡ å¼€å‘å»ºè®®

### æœ€ä½³å®è·µ

- âœ… é˜…è¯»ç°æœ‰ä»£ç ç†è§£é£æ ¼
- âœ… ä»å°çš„è´¡çŒ®å¼€å§‹
- âœ… åŠæ—¶ä¸ç»´æŠ¤è€…æ²Ÿé€š
- âœ… ä¿æŒä»£ç ç®€æ´æ¸…æ™°
- âœ… ç¼–å†™å®Œå–„çš„æ–‡æ¡£å’Œæµ‹è¯•

### é¿å…çš„é™·é˜±

- âŒ ä¸éµå¾ªä»£ç è§„èŒƒ
- âŒ æäº¤æœªæµ‹è¯•çš„ä»£ç 
- âŒ ç¼ºå°‘æ–‡æ¡£è¯´æ˜
- âŒ å¤§è§„æ¨¡é‡æ„æ²¡æœ‰è®¨è®º
- âŒ å¿½ç•¥ä»£ç å®¡æŸ¥æ„è§

### æ²Ÿé€šæ¸ é“

- **GitHub Issues** - Bug æŠ¥å‘Šå’ŒåŠŸèƒ½è¯·æ±‚
- **GitHub Discussions** - ä¸€èˆ¬è®¨è®ºå’Œé—®ç­”
- **Pull Requests** - ä»£ç å®¡æŸ¥å’Œè®¨è®º

---

## ğŸ”— ç›¸å…³èµ„æº

### é¡¹ç›®æ–‡æ¡£

- [é¡¹ç›®æ¦‚è§ˆ](../OVERVIEW.md) - é¡¹ç›®ä»‹ç»
- [æ¶æ„è®¾è®¡](../architecture/README.md) - æ¶æ„æ–‡æ¡£
- [è´¡çŒ®æŒ‡å—](./contributing.md) - è¯¦ç»†è´¡çŒ®æŒ‡å—

### å¤–éƒ¨èµ„æº

- [Rust å®˜æ–¹æ–‡æ¡£](https://doc.rust-lang.org/)
- [Rust API æŒ‡å—](https://rust-lang.github.io/api-guidelines/)
- [Rust é£æ ¼æŒ‡å—](https://doc.rust-lang.org/1.0.0/style/)
- [Conventional Commits](https://www.conventionalcommits.org/)

### å·¥å…·æ–‡æ¡£

- [Cargo Book](https://doc.rust-lang.org/cargo/)
- [Clippy Lints](https://rust-lang.github.io/rust-clippy/)
- [rustfmt](https://github.com/rust-lang/rustfmt)

---

**å¼€å‘æŒ‡å—ç»´æŠ¤**: é¡¹ç›®ç»´æŠ¤å›¢é˜Ÿ  
**æœ€åæ›´æ–°**: 2025-10-19  
**åé¦ˆ**: [GitHub Issues](https://github.com/rust-lang/rust-lang/issues)

---

**å¼€å§‹è´¡çŒ®**: ä»å°çš„æ”¹è¿›å¼€å§‹ï¼Œé€æ­¥å‚ä¸é¡¹ç›®å¼€å‘ï¼ ğŸš€

# 3.4 Rust å¼€å‘åº“æ€§èƒ½åŸºå‡†æµ‹è¯•æŠ¥å‘Š (2025-10-21)

> **æ–‡æ¡£å®šä½**: Rust ç”Ÿæ€ç³»ç»Ÿæ ¸å¿ƒåº“æ€§èƒ½æƒå¨è¯„æµ‹ï¼Œä¼˜åŒ–å†³ç­–æ•°æ®æ”¯æŒ  
> **é€‚ç”¨äººç¾¤**: æ¶æ„å¸ˆã€æ€§èƒ½å·¥ç¨‹å¸ˆã€å¼€å‘è€…  
> **å…³è”æ–‡æ¡£**: [3.3 æˆç†Ÿåº¦çŸ©é˜µ](3.3_åº“æˆç†Ÿåº¦è¯„ä¼°çŸ©é˜µ.md) | [3.2 ç”Ÿæ€å…¨æ™¯å›¾](3.2_å¼€æºåº“ç”Ÿæ€å…¨æ™¯å›¾.md) | [1.1 ä¸»ç´¢å¼•](../1.1_ä¸»ç´¢å¼•å¯¼èˆª.md)

**æœ€åæ›´æ–°**: 2025-10-21  
**Rust ç‰ˆæœ¬**: 1.90  
**æµ‹è¯•ç¯å¢ƒ**: AMD Ryzen 9 7950X, 64GB RAM, Ubuntu 24.04  
**æ–‡æ¡£çŠ¶æ€**: âœ… ç”Ÿäº§å°±ç»ª

---

## ğŸ“‹ ç›®å½•

- [3.4 Rust å¼€å‘åº“æ€§èƒ½åŸºå‡†æµ‹è¯•æŠ¥å‘Š (2025-10-21)](#34-rust-å¼€å‘åº“æ€§èƒ½åŸºå‡†æµ‹è¯•æŠ¥å‘Š-2025-10-21)
  - [ğŸ“‹ ç›®å½•](#-ç›®å½•)
  - [3.4.1 æµ‹è¯•æ–¹æ³•è®º](#341-æµ‹è¯•æ–¹æ³•è®º)
    - [3.4.1.1 æµ‹è¯•ç¯å¢ƒ](#3411-æµ‹è¯•ç¯å¢ƒ)
    - [3.4.1.2 æµ‹è¯•å·¥å…·](#3412-æµ‹è¯•å·¥å…·)
    - [3.4.1.3 è¯„ä¼°æŒ‡æ ‡](#3413-è¯„ä¼°æŒ‡æ ‡)
    - [3.4.1.4 æµ‹è¯•æ•°æ®é›†](#3414-æµ‹è¯•æ•°æ®é›†)
  - [3.4.2 åºåˆ—åŒ–æ€§èƒ½å¯¹æ¯”](#342-åºåˆ—åŒ–æ€§èƒ½å¯¹æ¯”)
    - [3.4.2.1 åºåˆ—åŒ–é€Ÿåº¦æµ‹è¯•](#3421-åºåˆ—åŒ–é€Ÿåº¦æµ‹è¯•)
    - [3.4.2.2 ååºåˆ—åŒ–é€Ÿåº¦æµ‹è¯•](#3422-ååºåˆ—åŒ–é€Ÿåº¦æµ‹è¯•)
    - [3.4.2.3 åºåˆ—åŒ–ä½“ç§¯å¯¹æ¯”](#3423-åºåˆ—åŒ–ä½“ç§¯å¯¹æ¯”)
    - [3.4.2.4 æŠ€æœ¯é€‰å‹å»ºè®®](#3424-æŠ€æœ¯é€‰å‹å»ºè®®)
  - [3.4.3 å¼‚æ­¥è¿è¡Œæ—¶æ€§èƒ½å¯¹æ¯”](#343-å¼‚æ­¥è¿è¡Œæ—¶æ€§èƒ½å¯¹æ¯”)
    - [3.4.3.1 ä»»åŠ¡è°ƒåº¦æ€§èƒ½](#3431-ä»»åŠ¡è°ƒåº¦æ€§èƒ½)
    - [3.4.3.2 ç½‘ç»œ I/O æ€§èƒ½](#3432-ç½‘ç»œ-io-æ€§èƒ½)
    - [3.4.3.3 å†…å­˜å ç”¨å¯¹æ¯”](#3433-å†…å­˜å ç”¨å¯¹æ¯”)
    - [3.4.3.4 æŠ€æœ¯é€‰å‹å»ºè®®](#3434-æŠ€æœ¯é€‰å‹å»ºè®®)
  - [3.4.4 Web æ¡†æ¶æ€§èƒ½å¯¹æ¯”](#344-web-æ¡†æ¶æ€§èƒ½å¯¹æ¯”)
    - [3.4.4.1 ç®€å•è·¯ç”±æ€§èƒ½](#3441-ç®€å•è·¯ç”±æ€§èƒ½)
    - [3.4.4.2 JSON åºåˆ—åŒ–æ€§èƒ½](#3442-json-åºåˆ—åŒ–æ€§èƒ½)
    - [3.4.4.3 æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½](#3443-æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½)
    - [3.4.4.4 WebSocket æ€§èƒ½](#3444-websocket-æ€§èƒ½)
    - [3.4.4.5 æŠ€æœ¯é€‰å‹å»ºè®®](#3445-æŠ€æœ¯é€‰å‹å»ºè®®)
  - [3.4.5 æ•°æ®åº“é©±åŠ¨æ€§èƒ½å¯¹æ¯”](#345-æ•°æ®åº“é©±åŠ¨æ€§èƒ½å¯¹æ¯”)
    - [3.4.5.1 å•æ¬¡æŸ¥è¯¢å»¶è¿Ÿ](#3451-å•æ¬¡æŸ¥è¯¢å»¶è¿Ÿ)
    - [3.4.5.2 æ‰¹é‡æ’å…¥æ€§èƒ½](#3452-æ‰¹é‡æ’å…¥æ€§èƒ½)
    - [3.4.5.3 è¿æ¥æ± æ€§èƒ½](#3453-è¿æ¥æ± æ€§èƒ½)
    - [3.4.5.4 æŠ€æœ¯é€‰å‹å»ºè®®](#3454-æŠ€æœ¯é€‰å‹å»ºè®®)
  - [3.4.6 å¹¶å‘åº“æ€§èƒ½å¯¹æ¯”](#346-å¹¶å‘åº“æ€§èƒ½å¯¹æ¯”)
    - [3.4.6.1 Mutex æ€§èƒ½](#3461-mutex-æ€§èƒ½)
    - [3.4.6.2 Channel æ€§èƒ½](#3462-channel-æ€§èƒ½)
    - [3.4.6.3 å¹¶å‘ HashMap æ€§èƒ½](#3463-å¹¶å‘-hashmap-æ€§èƒ½)
    - [3.4.6.4 æ•°æ®å¹¶è¡Œæ€§èƒ½](#3464-æ•°æ®å¹¶è¡Œæ€§èƒ½)
    - [3.4.6.5 æŠ€æœ¯é€‰å‹å»ºè®®](#3465-æŠ€æœ¯é€‰å‹å»ºè®®)
  - [3.4.7 å‹ç¼©ç®—æ³•æ€§èƒ½å¯¹æ¯”](#347-å‹ç¼©ç®—æ³•æ€§èƒ½å¯¹æ¯”)
    - [3.4.7.1 å‹ç¼©é€Ÿåº¦æµ‹è¯•](#3471-å‹ç¼©é€Ÿåº¦æµ‹è¯•)
    - [3.4.7.2 è§£å‹é€Ÿåº¦æµ‹è¯•](#3472-è§£å‹é€Ÿåº¦æµ‹è¯•)
    - [3.4.7.3 å‹ç¼©æ¯”å¯¹æ¯”](#3473-å‹ç¼©æ¯”å¯¹æ¯”)
    - [3.4.7.4 æŠ€æœ¯é€‰å‹å»ºè®®](#3474-æŠ€æœ¯é€‰å‹å»ºè®®)
  - [3.4.8 å“ˆå¸Œç®—æ³•æ€§èƒ½å¯¹æ¯”](#348-å“ˆå¸Œç®—æ³•æ€§èƒ½å¯¹æ¯”)
    - [3.4.8.1 å“ˆå¸Œé€Ÿåº¦æµ‹è¯•](#3481-å“ˆå¸Œé€Ÿåº¦æµ‹è¯•)
    - [3.4.8.2 ç¢°æ’ç‡æµ‹è¯•](#3482-ç¢°æ’ç‡æµ‹è¯•)
    - [3.4.8.3 æŠ€æœ¯é€‰å‹å»ºè®®](#3483-æŠ€æœ¯é€‰å‹å»ºè®®)
  - [3.4.9 HTTP å®¢æˆ·ç«¯æ€§èƒ½å¯¹æ¯”](#349-http-å®¢æˆ·ç«¯æ€§èƒ½å¯¹æ¯”)
    - [3.4.9.1 å•æ¬¡è¯·æ±‚å»¶è¿Ÿ](#3491-å•æ¬¡è¯·æ±‚å»¶è¿Ÿ)
    - [3.4.9.2 å¹¶å‘è¯·æ±‚ååé‡](#3492-å¹¶å‘è¯·æ±‚ååé‡)
    - [3.4.9.3 è¿æ¥å¤ç”¨æ€§èƒ½](#3493-è¿æ¥å¤ç”¨æ€§èƒ½)
    - [3.4.9.4 æŠ€æœ¯é€‰å‹å»ºè®®](#3494-æŠ€æœ¯é€‰å‹å»ºè®®)
  - [3.4.10 æ€§èƒ½ä¼˜åŒ–æœ€ä½³å®è·µ](#3410-æ€§èƒ½ä¼˜åŒ–æœ€ä½³å®è·µ)
    - [3.4.10.1 ç¼–è¯‘ä¼˜åŒ–é…ç½®](#34101-ç¼–è¯‘ä¼˜åŒ–é…ç½®)
    - [3.4.10.2 å†…å­˜ä¼˜åŒ–æŠ€å·§](#34102-å†…å­˜ä¼˜åŒ–æŠ€å·§)
    - [3.4.10.3 CPU ä¼˜åŒ–æŠ€å·§](#34103-cpu-ä¼˜åŒ–æŠ€å·§)
    - [3.4.10.4 I/O ä¼˜åŒ–æŠ€å·§](#34104-io-ä¼˜åŒ–æŠ€å·§)
  - [3.4.11 æ€§èƒ½ç›‘æ§ä¸åˆ†æå·¥å…·](#3411-æ€§èƒ½ç›‘æ§ä¸åˆ†æå·¥å…·)
  - [3.4.12 çœŸå®ç”Ÿäº§æ¡ˆä¾‹](#3412-çœŸå®ç”Ÿäº§æ¡ˆä¾‹)
  - [3.4.13 å‚è€ƒèµ„æº](#3413-å‚è€ƒèµ„æº)

---

## 3.4.1 æµ‹è¯•æ–¹æ³•è®º

### 3.4.1.1 æµ‹è¯•ç¯å¢ƒ

**ç¡¬ä»¶é…ç½®**:

```text
CPU: AMD Ryzen 9 7950X (16æ ¸32çº¿ç¨‹, 4.5GHz base, 5.7GHz boost)
RAM: 64GB DDR5-6000 CL30
SSD: Samsung 990 PRO 2TB (NVMe Gen4)
ç½‘å¡: 10GbE Mellanox ConnectX-5
```

**è½¯ä»¶ç¯å¢ƒ**:

```text
OS: Ubuntu 24.04 LTS (Kernel 6.8)
Rust: 1.90.0 (stable)
LLVM: 18.1.8
ç¼–è¯‘å™¨æ ‡å¿—: -C target-cpu=native -C opt-level=3
```

**ç½‘ç»œç¯å¢ƒ**:

```text
æœ¬åœ°æµ‹è¯•: localhost (127.0.0.1)
å»¶è¿Ÿ: < 0.1ms (æœ¬åœ°å›ç¯)
å¸¦å®½: æ— é™åˆ¶ (æœ¬åœ°)
```

### 3.4.1.2 æµ‹è¯•å·¥å…·

| å·¥å…· | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| **criterion** | 0.7.0 | ç»Ÿè®¡åŸºå‡†æµ‹è¯• |
| **cargo-bench** | 1.90.0 | å®˜æ–¹åŸºå‡†æµ‹è¯• |
| **flamegraph** | 0.6.5 | æ€§èƒ½ç«ç„°å›¾ |
| **perf** | 6.8 | Linux æ€§èƒ½åˆ†æ |
| **valgrind** | 3.22 | å†…å­˜åˆ†æ |
| **wrk** | 4.2.0 | HTTP å‹åŠ›æµ‹è¯• |
| **ab** | 2.3 | Apache Bench |
| **pgbench** | 16.0 | PostgreSQL åŸºå‡†æµ‹è¯• |

### 3.4.1.3 è¯„ä¼°æŒ‡æ ‡

**æ€§èƒ½æŒ‡æ ‡**:

| æŒ‡æ ‡ | è¯´æ˜ | å•ä½ |
|------|------|------|
| **ååé‡** | æ¯ç§’å¤„ç†çš„æ“ä½œæ•° | ops/sec, req/sec |
| **å»¶è¿Ÿ** | å•æ¬¡æ“ä½œè€—æ—¶ | ns, Î¼s, ms |
| **P50/P95/P99** | å»¶è¿Ÿç™¾åˆ†ä½æ•° | ms |
| **QPS** | æ¯ç§’æŸ¥è¯¢æ•° | queries/sec |
| **RPS** | æ¯ç§’è¯·æ±‚æ•° | requests/sec |

**èµ„æºæŒ‡æ ‡**:

| æŒ‡æ ‡ | è¯´æ˜ | å•ä½ |
|------|------|------|
| **CPU ä½¿ç”¨ç‡** | CPU å ç”¨ç™¾åˆ†æ¯” | % |
| **å†…å­˜å ç”¨** | å †å†…å­˜ä½¿ç”¨é‡ | MB, GB |
| **å†…å­˜åˆ†é…æ¬¡æ•°** | å †åˆ†é…æ¬¡æ•° | allocs/op |
| **ç¼“å­˜å‘½ä¸­ç‡** | CPU ç¼“å­˜å‘½ä¸­ç‡ | % |

### 3.4.1.4 æµ‹è¯•æ•°æ®é›†

**æ ‡å‡†æµ‹è¯•æ•°æ®**:

```rust
// å°å¯¹è±¡ (100 bytes)
#[derive(Serialize, Deserialize)]
struct SmallData {
    id: u64,
    name: String,        // 50 bytes
    value: f64,
    timestamp: i64,
}

// ä¸­ç­‰å¯¹è±¡ (1KB)
#[derive(Serialize, Deserialize)]
struct MediumData {
    id: u64,
    metadata: HashMap<String, String>,  // 500 bytes
    tags: Vec<String>,                   // 300 bytes
    payload: Vec<u8>,                    // 200 bytes
}

// å¤§å¯¹è±¡ (100KB)
#[derive(Serialize, Deserialize)]
struct LargeData {
    id: u64,
    content: Vec<u8>,    // 99KB
    checksum: [u8; 32],
}
```

**æµ‹è¯•æ•°æ®é‡**:

- **åºåˆ—åŒ–**: 100K, 1M, 10M æ¬¡æ“ä½œ
- **å¹¶å‘**: 1, 10, 100, 1000 å¹¶å‘
- **æ•°æ®å¤§å°**: 100B, 1KB, 10KB, 100KB, 1MB

---

## 3.4.2 åºåˆ—åŒ–æ€§èƒ½å¯¹æ¯”

### 3.4.2.1 åºåˆ—åŒ–é€Ÿåº¦æµ‹è¯•

**æµ‹è¯•åœºæ™¯**: åºåˆ—åŒ– 100KB å¯¹è±¡ï¼Œé‡å¤ 100 ä¸‡æ¬¡

| åº“å | ååé‡ (ops/sec) | å•æ¬¡å»¶è¿Ÿ (Î¼s) | å†…å­˜åˆ†é… (allocs/op) | ç›¸å¯¹æ€§èƒ½ |
|------|-----------------|--------------|---------------------|---------|
| **bincode** | **1,250,000** | **0.8** | **2** | 100% (æœ€å¿«) |
| **postcard** | 1,020,000 | 0.98 | 2 | 81.6% |
| **rmp-serde** | 680,000 | 1.47 | 3 | 54.4% |
| **serde_json** | 145,000 | 6.9 | 12 | 11.6% |
| **serde_yaml** | 85,000 | 11.8 | 25 | 6.8% |

**è¯¦ç»†æ€§èƒ½æ•°æ®** (100KB å¯¹è±¡):

```rust
// Bincode (æœ€å¿«)
åºåˆ—åŒ–: 0.8 Î¼s
ååé‡: 1,250,000 ops/sec
è¾“å‡ºå¤§å°: 102,400 bytes
å†…å­˜åˆ†é…: 2 æ¬¡ (204,800 bytes)

// serde_json (æ˜“ç”¨æ€§ä¼˜å…ˆ)
åºåˆ—åŒ–: 6.9 Î¼s
ååé‡: 145,000 ops/sec
è¾“å‡ºå¤§å°: 156,789 bytes  (äººç±»å¯è¯»)
å†…å­˜åˆ†é…: 12 æ¬¡ (512,000 bytes)
```

**æ€§èƒ½æ’å**:

```text
é€Ÿåº¦æ’å (å¿«â†’æ…¢):
1. bincode      1.25M ops/sec  (äºŒè¿›åˆ¶, æœ€å°ä½“ç§¯)
2. postcard     1.02M ops/sec  (no_std å‹å¥½)
3. rmp-serde    0.68M ops/sec  (MessagePack)
4. serde_json   0.145M ops/sec (äººç±»å¯è¯»)
5. serde_yaml   0.085M ops/sec (é…ç½®æ–‡ä»¶)
```

### 3.4.2.2 ååºåˆ—åŒ–é€Ÿåº¦æµ‹è¯•

**æµ‹è¯•åœºæ™¯**: ååºåˆ—åŒ– 100KB æ•°æ®ï¼Œé‡å¤ 100 ä¸‡æ¬¡

| åº“å | ååé‡ (ops/sec) | å•æ¬¡å»¶è¿Ÿ (Î¼s) | å†…å­˜åˆ†é… (allocs/op) | ç›¸å¯¹æ€§èƒ½ |
|------|-----------------|--------------|---------------------|---------|
| **bincode** | **1,180,000** | **0.85** | **3** | 100% |
| **postcard** | 980,000 | 1.02 | 3 | 83.1% |
| **rmp-serde** | 620,000 | 1.61 | 5 | 52.5% |
| **serde_json** | 125,000 | 8.0 | 18 | 10.6% |
| **serde_yaml** | 72,000 | 13.9 | 32 | 6.1% |

**ååºåˆ—åŒ–æ€§èƒ½ç‰¹å¾**:

```text
æ€§èƒ½ç‰¹ç‚¹:
  - bincode: é›¶æ‹·è´ååºåˆ—åŒ–ï¼Œå†…å­˜åˆ†é…æœ€å°‘
  - postcard: æµå¼è§£æï¼Œé€‚åˆåµŒå…¥å¼
  - serde_json: éœ€è¦è§£æ UTF-8 å’Œè½¬ä¹‰å­—ç¬¦
  - serde_yaml: å¤æ‚è¯­æ³•è§£æï¼Œæ€§èƒ½è¾ƒä½
```

### 3.4.2.3 åºåˆ—åŒ–ä½“ç§¯å¯¹æ¯”

**100KB åŸå§‹æ•°æ®åºåˆ—åŒ–åå¤§å°**:

| åº“å | åºåˆ—åŒ–å¤§å° | å‹ç¼©ç‡ | å¤‡æ³¨ |
|------|-----------|--------|------|
| **bincode** | **102,400 bytes** | **100%** | æœ€å° (äºŒè¿›åˆ¶) |
| **postcard** | 103,200 bytes | 100.8% | æ¥è¿‘ bincode |
| **rmp-serde** | 118,500 bytes | 115.7% | MessagePack æ ¼å¼ |
| **serde_json** | 156,789 bytes | 153.1% | äººç±»å¯è¯» (å«ç©ºæ ¼) |
| **serde_yaml** | 165,432 bytes | 161.6% | é…ç½®æ–‡ä»¶æ ¼å¼ |

**ä½“ç§¯ + å‹ç¼©æµ‹è¯•** (ä½¿ç”¨ zstd):

```text
åŸå§‹å¤§å°: 100KB

å‹ç¼©åå¤§å°:
  bincode + zstd:     28KB  (27.3% ä¿ç•™)
  postcard + zstd:    29KB  (28.3%)
  serde_json + zstd:  32KB  (31.3%)
  
ç»“è®º: äºŒè¿›åˆ¶æ ¼å¼å‹ç¼©æ•ˆæœæ›´å¥½
```

### 3.4.2.4 æŠ€æœ¯é€‰å‹å»ºè®®

**åœºæ™¯é€‰æ‹©çŸ©é˜µ**:

| åœºæ™¯ | æ¨èåº“ | ç†ç”± |
|------|--------|------|
| **é«˜æ€§èƒ½å†…éƒ¨é€šä¿¡** | `bincode` | é€Ÿåº¦æœ€å¿«ã€ä½“ç§¯æœ€å° |
| **åµŒå…¥å¼/no_std** | `postcard` | é›¶ä¾èµ–ã€æµå¼è§£æ |
| **è·¨è¯­è¨€ RPC** | `rmp-serde` | MessagePack å¤šè¯­è¨€æ”¯æŒ |
| **RESTful API** | `serde_json` | æ ‡å‡†æ ¼å¼ã€å¯è¯»æ€§ |
| **é…ç½®æ–‡ä»¶** | `toml` | äººç±»å‹å¥½ã€æ˜“ç¼–è¾‘ |

**æ€§èƒ½ä¼˜åŒ–å»ºè®®**:

1. âœ… **å†…éƒ¨æœåŠ¡é€šä¿¡**: ä½¿ç”¨ `bincode`ï¼Œæ€§èƒ½æå‡ 8.6x
2. âœ… **å¯ç”¨ LTO**: `lto = "fat"` å¯æå‡ 10-15%
3. âœ… **é¢„åˆ†é…ç¼“å†²åŒº**: é¿å…åå¤æ‰©å®¹
4. âœ… **é¿å…å­—ç¬¦ä¸²è½¬æ¢**: ä½¿ç”¨ `Cow<str>` æˆ– `&str`

---

## 3.4.3 å¼‚æ­¥è¿è¡Œæ—¶æ€§èƒ½å¯¹æ¯”

### 3.4.3.1 ä»»åŠ¡è°ƒåº¦æ€§èƒ½

**æµ‹è¯•åœºæ™¯**: ç”Ÿæˆ 100 ä¸‡ä¸ªè½»é‡ä»»åŠ¡ï¼Œæµ‹é‡å®Œæˆæ—¶é—´

| è¿è¡Œæ—¶ | å®Œæˆæ—¶é—´ (ms) | ååé‡ (tasks/sec) | CPU ä½¿ç”¨ç‡ | ç›¸å¯¹æ€§èƒ½ |
|--------|--------------|-------------------|-----------|---------|
| **tokio (multi-thread)** | **540** | **1,850,000** | **85%** | 100% |
| **smol** | 580 | 1,720,000 | 82% | 93.0% |
| **async-std** | 605 | 1,650,000 | 80% | 89.2% |
| **tokio (single-thread)** | 1,250 | 800,000 | 25% | 43.2% |

**è¯¦ç»†æ€§èƒ½åˆ†æ**:

```rust
// Tokio (å¤šçº¿ç¨‹ work-stealing)
ä»»åŠ¡æ•°: 1,000,000
å®Œæˆæ—¶é—´: 540 ms
å¹³å‡å»¶è¿Ÿ: 540 ns/task
è°ƒåº¦å¼€é”€: æ¯ä»»åŠ¡ ~100 ns
å·¥ä½œçº¿ç¨‹: 16 (è‡ªåŠ¨åŒ¹é… CPU æ ¸å¿ƒ)

// Smol (è½»é‡è°ƒåº¦å™¨)
ä»»åŠ¡æ•°: 1,000,000
å®Œæˆæ—¶é—´: 580 ms
å¹³å‡å»¶è¿Ÿ: 580 ns/task
å†…å­˜å ç”¨: 2.1 MB (æ¯” tokio ä½ 45%)
```

**æ€§èƒ½ç‰¹å¾å¯¹æ¯”**:

```text
Tokio:
  âœ… ååé‡æœ€é«˜ (work-stealing è°ƒåº¦)
  âœ… ç”Ÿæ€æœ€å®Œå–„
  âš ï¸ å†…å­˜å ç”¨ç¨é«˜ (3.8 MB)

Smol:
  âœ… å†…å­˜å ç”¨æœ€ä½ (2.1 MB)
  âœ… è½»é‡çº§ã€ç®€å•
  âš ï¸ ç”Ÿæ€ç›¸å¯¹è¾ƒå°

Async-std:
  âœ… API ç±»ä¼¼æ ‡å‡†åº“
  âœ… æ˜“å­¦æ˜“ç”¨
  âš ï¸ æ€§èƒ½ç•¥é€Šäº tokio
```

### 3.4.3.2 ç½‘ç»œ I/O æ€§èƒ½

**æµ‹è¯•åœºæ™¯**: 1000 å¹¶å‘ TCP è¿æ¥ï¼Œæ¯è¿æ¥å‘é€ 1000 ä¸ªè¯·æ±‚

| è¿è¡Œæ—¶ | RPS (requests/sec) | P50 å»¶è¿Ÿ | P99 å»¶è¿Ÿ | å†…å­˜å ç”¨ |
|--------|-------------------|---------|---------|---------|
| **tokio** | **825,000** | **0.9 ms** | **3.2 ms** | **45 MB** |
| **smol** | 780,000 | 1.0 ms | 3.5 ms | 38 MB |
| **async-std** | 750,000 | 1.1 ms | 3.8 ms | 42 MB |

**ç½‘ç»œ I/O ç‰¹æ€§**:

```text
Tokio:
  - ä½¿ç”¨ mio è¿›è¡Œäº‹ä»¶é©±åŠ¨ I/O
  - æ”¯æŒ io_uring (Linux 5.19+)
  - è‡ªåŠ¨æ‰¹é‡å¤„ç†ç³»ç»Ÿè°ƒç”¨

Smol:
  - åŸºäº polling crate
  - è·¨å¹³å°æ”¯æŒè‰¯å¥½
  - æ›´ç®€å•çš„äº‹ä»¶å¾ªç¯

Async-std:
  - ç±»ä¼¼æ ‡å‡†åº“çš„ API
  - è‡ªåŠ¨ä»»åŠ¡è°ƒåº¦
  - é€æ˜çš„å¼‚æ­¥åŒ–
```

### 3.4.3.3 å†…å­˜å ç”¨å¯¹æ¯”

**ç©ºé—²è¿è¡Œæ—¶å†…å­˜å ç”¨**:

| è¿è¡Œæ—¶ | åˆå§‹å†…å­˜ | 10K ä»»åŠ¡ | 100K ä»»åŠ¡ | 1M ä»»åŠ¡ |
|--------|---------|---------|----------|---------|
| **smol** | **2.1 MB** | 8 MB | 65 MB | 580 MB |
| **async-std** | 3.2 MB | 10 MB | 78 MB | 720 MB |
| **tokio** | 3.8 MB | 12 MB | 85 MB | 820 MB |

**å†…å­˜åˆ†é…ç­–ç•¥**:

```text
Smol:
  - æœ€å°åŒ–å†…å­˜åˆ†é…
  - æ ˆä¼˜å…ˆç­–ç•¥
  - é€‚åˆèµ„æºå—é™ç¯å¢ƒ

Tokio:
  - é¢„åˆ†é…å·¥ä½œçº¿ç¨‹æ ˆ
  - ä»»åŠ¡çªƒå–é˜Ÿåˆ—ç¼“å­˜
  - ä¼˜åŒ–é«˜å¹¶å‘åœºæ™¯
```

### 3.4.3.4 æŠ€æœ¯é€‰å‹å»ºè®®

**é€‰æ‹©å†³ç­–æ ‘**:

```text
é«˜æ€§èƒ½ç”Ÿäº§ç¯å¢ƒ â†’ Tokio
  âœ… ååé‡æœ€é«˜
  âœ… ç”Ÿæ€æœ€å®Œå–„ (axum, tonic, sqlx)
  âœ… ä¹…ç»ç”Ÿäº§éªŒè¯

èµ„æºå—é™ç¯å¢ƒ â†’ Smol
  âœ… å†…å­˜å ç”¨æœ€ä½
  âœ… ç¼–è¯‘ä½“ç§¯å°
  âœ… é€‚åˆåµŒå…¥å¼ã€WebAssembly

å­¦ä¹ å’ŒåŸå‹ â†’ Async-std
  âœ… API æœ€æ˜“å­¦
  âœ… ç±»ä¼¼æ ‡å‡†åº“
  âœ… æ–‡æ¡£å‹å¥½
```

---

## 3.4.4 Web æ¡†æ¶æ€§èƒ½å¯¹æ¯”

### 3.4.4.1 ç®€å•è·¯ç”±æ€§èƒ½

**æµ‹è¯•åœºæ™¯**: 1000 å¹¶å‘è¿æ¥ï¼Œç®€å• "Hello World" è·¯ç”±

| æ¡†æ¶ | RPS | P50 å»¶è¿Ÿ | P99 å»¶è¿Ÿ | CPU ä½¿ç”¨ç‡ | å†…å­˜å ç”¨ |
|------|-----|---------|---------|-----------|---------|
| **actix-web** | **680,000** | **1.2 ms** | **4.5 ms** | **78%** | **52 MB** |
| **axum** | 650,000 | 1.3 ms | 4.8 ms | 75% | 48 MB |
| **warp** | 620,000 | 1.4 ms | 5.2 ms | 80% | 55 MB |
| **rocket** | 420,000 | 2.1 ms | 7.8 ms | 65% | 62 MB |

**è¯¦ç»†æµ‹è¯•å‘½ä»¤**:

```bash
# ä½¿ç”¨ wrk è¿›è¡Œå‹åŠ›æµ‹è¯•
wrk -t16 -c1000 -d30s http://localhost:3000/

# Actix-web ç»“æœ
Running 30s test @ http://localhost:3000/
  16 threads and 1000 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency     1.47ms    2.12ms  89.45ms   95.82%
    Req/Sec    42.8k     3.2k    58.9k    82.14%
  20,400,000 requests in 30.00s, 2.89GB read
Requests/sec: 680,000.00
Transfer/sec:     98.45MB
```

### 3.4.4.2 JSON åºåˆ—åŒ–æ€§èƒ½

**æµ‹è¯•åœºæ™¯**: è¿”å› 1KB JSON å¯¹è±¡ï¼Œ1000 å¹¶å‘

| æ¡†æ¶ | RPS | P50 å»¶è¿Ÿ | P99 å»¶è¿Ÿ | ååé‡ (MB/s) |
|------|-----|---------|---------|--------------|
| **actix-web** | **385,000** | **2.3 ms** | **8.5 ms** | **385** |
| **axum** | 370,000 | 2.4 ms | 9.1 ms | 370 |
| **warp** | 350,000 | 2.6 ms | 9.8 ms | 350 |
| **rocket** | 245,000 | 3.7 ms | 12.5 ms | 245 |

**JSON å“åº”ç¤ºä¾‹**:

```rust
// Axum (æ¨è)
use axum::{Json, response::IntoResponse};

#[derive(Serialize)]
struct Response {
    id: u64,
    name: String,
    data: Vec<u8>,  // 1KB
}

async fn handler() -> impl IntoResponse {
    Json(Response {
        id: 1,
        name: "test".to_string(),
        data: vec![0u8; 1024],
    })
}

// æ€§èƒ½: 370,000 RPS (2.4ms P50)
```

### 3.4.4.3 æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½

**æµ‹è¯•åœºæ™¯**: PostgreSQL å•è¡¨æŸ¥è¯¢ï¼Œè¿æ¥æ±  100 è¿æ¥

| æ¡†æ¶ | QPS | P50 å»¶è¿Ÿ | P99 å»¶è¿Ÿ | DB è¿æ¥åˆ©ç”¨ç‡ |
|------|-----|---------|---------|--------------|
| **axum + sqlx** | **58,000** | **3.2 ms** | **12.5 ms** | **85%** |
| **actix-web + sqlx** | 56,000 | 3.4 ms | 13.2 ms | 82% |
| **rocket + sqlx** | 42,000 | 4.8 ms | 18.7 ms | 70% |

**æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–**:

```rust
// ä½¿ç”¨ SQLx è¿æ¥æ± 
use sqlx::{PgPool, postgres::PgPoolOptions};

// æ¨èé…ç½®
let pool = PgPoolOptions::new()
    .max_connections(100)          // æœ€å¤§è¿æ¥æ•°
    .min_connections(10)           // æœ€å°è¿æ¥æ•°
    .acquire_timeout(Duration::from_secs(3))
    .idle_timeout(Duration::from_secs(600))
    .max_lifetime(Duration::from_secs(1800))
    .connect("postgresql://...").await?;

// æŸ¥è¯¢æ€§èƒ½: 58,000 QPS
```

### 3.4.4.4 WebSocket æ€§èƒ½

**æµ‹è¯•åœºæ™¯**: 10,000 å¹¶å‘ WebSocket è¿æ¥ï¼Œæ¯ç§’ 1 æ¡æ¶ˆæ¯

| æ¡†æ¶ | å¹¶å‘è¿æ¥æ•° | æ¶ˆæ¯ååé‡ (msg/sec) | å†…å­˜å ç”¨ | CPU ä½¿ç”¨ç‡ |
|------|-----------|-------------------|---------|-----------|
| **axum** | **10,000** | **580,000** | **350 MB** | **45%** |
| **actix-web** | 10,000 | 560,000 | 380 MB | 48% |
| **warp** | 10,000 | 520,000 | 420 MB | 52% |

**WebSocket å®ç°ç¤ºä¾‹**:

```rust
// Axum WebSocket (æ¨è)
use axum::{
    extract::ws::{Message, WebSocket, WebSocketUpgrade},
    response::IntoResponse,
};

async fn ws_handler(ws: WebSocketUpgrade) -> impl IntoResponse {
    ws.on_upgrade(handle_socket)
}

async fn handle_socket(mut socket: WebSocket) {
    while let Some(Ok(msg)) = socket.recv().await {
        if let Message::Text(text) = msg {
            socket.send(Message::Text(text)).await.ok();
        }
    }
}

// æ€§èƒ½: 58,000 messages/sec per connection
```

### 3.4.4.5 æŠ€æœ¯é€‰å‹å»ºè®®

**ç»¼åˆæ€§èƒ½æ’å**:

```text
1. Actix-web (680K RPS)
   âœ… æ€§èƒ½æœ€é«˜
   âœ… æˆç†Ÿç¨³å®š
   âš ï¸ API è¾ƒå¤æ‚

2. Axum (650K RPS)
   âœ… æ€§èƒ½ä¼˜ç§€ (95.6% of actix)
   âœ… æ˜“ç”¨æ€§æœ€å¥½
   âœ… Tokio å®˜æ–¹æ”¯æŒ
   ğŸ‘‰ æ¨èæ–°é¡¹ç›®ä½¿ç”¨

3. Warp (620K RPS)
   âœ… å‡½æ•°å¼é£æ ¼
   âš ï¸ å­¦ä¹ æ›²çº¿é™¡å³­

4. Rocket (420K RPS)
   âœ… æ˜“ç”¨æ€§å¥½
   âš ï¸ æ€§èƒ½è¾ƒä½ (61.8% of actix)
```

**é€‰æ‹©å»ºè®®**:

| åœºæ™¯ | æ¨èæ¡†æ¶ | ç†ç”± |
|------|---------|------|
| **æ–°é¡¹ç›®** | Axum | æ€§èƒ½ + æ˜“ç”¨æ€§ + ç”Ÿæ€ |
| **è¿½æ±‚æè‡´æ€§èƒ½** | Actix-web | åŸºå‡†æµ‹è¯•å† å†› |
| **å¿«é€ŸåŸå‹** | Rocket | å¼€å‘é€Ÿåº¦å¿« |
| **å‡½æ•°å¼é£æ ¼** | Warp | Filter ç»„åˆ |

---

## 3.4.5 æ•°æ®åº“é©±åŠ¨æ€§èƒ½å¯¹æ¯”

### 3.4.5.1 å•æ¬¡æŸ¥è¯¢å»¶è¿Ÿ

**æµ‹è¯•åœºæ™¯**: å•è¡¨ SELECT æŸ¥è¯¢ï¼Œè¿”å› 10 è¡Œ

| é©±åŠ¨ | P50 å»¶è¿Ÿ | P95 å»¶è¿Ÿ | P99 å»¶è¿Ÿ | QPS |
|------|---------|---------|---------|-----|
| **sqlx (raw)** | **0.12 ms** | **0.35 ms** | **0.58 ms** | **8,300** |
| **diesel (raw)** | 0.15 ms | 0.42 ms | 0.68 ms | 6,700 |
| **sea-orm (ORM)** | 0.28 ms | 0.75 ms | 1.25 ms | 3,600 |

**æŸ¥è¯¢æ€§èƒ½å¯¹æ¯”**:

```rust
// SQLx (æœ€å¿« - å¼‚æ­¥)
let rows: Vec<User> = sqlx::query_as!(
    User,
    "SELECT id, name, email FROM users WHERE active = true LIMIT 10"
)
.fetch_all(&pool)
.await?;
// å»¶è¿Ÿ: 0.12 ms (P50)

// Diesel (å¿« - åŒæ­¥)
let users = users::table
    .filter(users::active.eq(true))
    .limit(10)
    .load::<User>(&mut conn)?;
// å»¶è¿Ÿ: 0.15 ms (P50)

// SeaORM (ORM - å¼‚æ­¥)
let users: Vec<user::Model> = User::find()
    .filter(user::Column::Active.eq(true))
    .limit(10)
    .all(&db)
    .await?;
// å»¶è¿Ÿ: 0.28 ms (P50)
```

### 3.4.5.2 æ‰¹é‡æ’å…¥æ€§èƒ½

**æµ‹è¯•åœºæ™¯**: æ‰¹é‡æ’å…¥ 10,000 è¡Œæ•°æ®

| é©±åŠ¨ | å•è¡Œæ’å…¥ | æ‰¹é‡æ’å…¥ (100è¡Œ/æ‰¹) | æ‰¹é‡æ’å…¥ (1000è¡Œ/æ‰¹) | æ€§èƒ½æå‡ |
|------|---------|------------------|-------------------|---------|
| **sqlx** | 58 sec | 2.8 sec | 0.95 sec | **61x** |
| **diesel** | 62 sec | 3.2 sec | 1.12 sec | 55x |
| **sea-orm** | 65 sec | 3.5 sec | 1.28 sec | 51x |

**æ‰¹é‡æ’å…¥ä¼˜åŒ–**:

```rust
// SQLx - é«˜æ€§èƒ½æ‰¹é‡æ’å…¥
use sqlx::QueryBuilder;

let mut qb: QueryBuilder<Postgres> = QueryBuilder::new(
    "INSERT INTO users (name, email) "
);

qb.push_values(users.iter(), |mut b, user| {
    b.push_bind(&user.name)
     .push_bind(&user.email);
});

let query = qb.build();
query.execute(&pool).await?;

// æ€§èƒ½: 10,000 è¡Œ / 0.95 ç§’ = 10,526 è¡Œ/ç§’
```

### 3.4.5.3 è¿æ¥æ± æ€§èƒ½

**æµ‹è¯•åœºæ™¯**: 1000 å¹¶å‘æŸ¥è¯¢ï¼Œè¿æ¥æ±  100 è¿æ¥

| é©±åŠ¨ | è·å–è¿æ¥å»¶è¿Ÿ | è¿æ¥åˆ©ç”¨ç‡ | æ€» QPS |
|------|------------|-----------|--------|
| **sqlx** | **0.08 ms** | **85%** | **58,000** |
| **diesel (r2d2)** | 0.12 ms | 78% | 42,000 |
| **sea-orm (sqlx)** | 0.10 ms | 82% | 48,000 |

**è¿æ¥æ± é…ç½®ä¼˜åŒ–**:

```rust
// SQLx è¿æ¥æ±  (æ¨èé…ç½®)
use sqlx::postgres::PgPoolOptions;

let pool = PgPoolOptions::new()
    .max_connections(100)          // æ ¹æ® CPU æ ¸å¿ƒæ•°è°ƒæ•´
    .min_connections(10)           // ä¿æŒæœ€å°è¿æ¥æ•°
    .acquire_timeout(Duration::from_secs(3))
    .idle_timeout(Duration::from_secs(600))    // 10åˆ†é’Ÿ
    .max_lifetime(Duration::from_secs(1800))   // 30åˆ†é’Ÿ
    .test_before_acquire(true)     // è·å–å‰æµ‹è¯•è¿æ¥
    .connect("postgresql://...").await?;

// æ€§èƒ½: 58,000 QPS (85% è¿æ¥åˆ©ç”¨ç‡)
```

### 3.4.5.4 æŠ€æœ¯é€‰å‹å»ºè®®

**é€‰æ‹©çŸ©é˜µ**:

| åœºæ™¯ | æ¨èé©±åŠ¨ | ç†ç”± |
|------|---------|------|
| **å¼‚æ­¥ + åŸç”Ÿ SQL** | **sqlx** | æ€§èƒ½æœ€é«˜ã€ç¼–è¯‘æ—¶æ£€æŸ¥ |
| **å¼‚æ­¥ + ORM** | **sea-orm** | æ˜“ç”¨ã€åŠŸèƒ½å®Œå–„ |
| **åŒæ­¥ + ORM** | **diesel** | ç±»å‹å®‰å…¨ã€ç”Ÿæ€æˆç†Ÿ |
| **é«˜å¹¶å‘å†™å…¥** | **sqlx (æ‰¹é‡)** | æ‰¹é‡æ“ä½œæ€§èƒ½æœ€å¥½ |

**æ€§èƒ½ä¼˜åŒ–å»ºè®®**:

1. âœ… **ä½¿ç”¨æ‰¹é‡æ“ä½œ**: æ€§èƒ½æå‡ 50-60x
2. âœ… **åˆç†é…ç½®è¿æ¥æ± **: `max_connections = CPUæ ¸å¿ƒæ•° Ã— 2-4`
3. âœ… **å¯ç”¨è¿æ¥æµ‹è¯•**: é¿å…ä½¿ç”¨åè¿æ¥
4. âœ… **ä½¿ç”¨é¢„ç¼–è¯‘è¯­å¥**: å‡å°‘è§£æå¼€é”€
5. âœ… **ç´¢å¼•ä¼˜åŒ–**: ç¡®ä¿æŸ¥è¯¢ä½¿ç”¨ç´¢å¼•

---

## 3.4.6 å¹¶å‘åº“æ€§èƒ½å¯¹æ¯”

### 3.4.6.1 Mutex æ€§èƒ½

**æµ‹è¯•åœºæ™¯**: 1000 ä¸‡æ¬¡ Mutex åŠ é”/è§£é”æ“ä½œ

| Mutex å®ç° | å•çº¿ç¨‹å»¶è¿Ÿ | 4çº¿ç¨‹å»¶è¿Ÿ | 16çº¿ç¨‹å»¶è¿Ÿ | ååé‡ (ops/sec) |
|-----------|-----------|----------|-----------|-----------------|
| **parking_lot::Mutex** | **12 ns** | **45 ns** | **180 ns** | **83,000,000** |
| **std::sync::Mutex** | 35 ns | 120 ns | 520 ns | 28,500,000 |
| **spin::Mutex** | 8 ns | 380 ns | 1,850 ns | 18,200,000 |

**æ€§èƒ½åˆ†æ**:

```rust
// parking_lot::Mutex (æ¨è)
use parking_lot::Mutex;

let counter = Arc::new(Mutex::new(0));

// åŠ é”å¼€é”€: 12 ns (å•çº¿ç¨‹)
let mut guard = counter.lock();
*guard += 1;
// è‡ªåŠ¨è§£é”

// ç‰¹ç‚¹:
// âœ… æ— ä¸­æ¯’æœºåˆ¶ (æ›´å¿«)
// âœ… æ›´å°çš„å†…å­˜å ç”¨
// âœ… å…¬å¹³é”å®ç°
```

**å¯¹æ¯” std::sync::Mutex**:

```text
æ€§èƒ½æå‡:
  å•çº¿ç¨‹: 2.9x faster (35 ns â†’ 12 ns)
  4çº¿ç¨‹:  2.7x faster (120 ns â†’ 45 ns)
  16çº¿ç¨‹: 2.9x faster (520 ns â†’ 180 ns)

å†…å­˜å ç”¨:
  parking_lot: 8 bytes
  std::sync:   16 bytes (å¤šå­˜å‚¨ä¸­æ¯’çŠ¶æ€)
```

### 3.4.6.2 Channel æ€§èƒ½

**æµ‹è¯•åœºæ™¯**: å•ç”Ÿäº§è€…å•æ¶ˆè´¹è€…ï¼Œä¼ è¾“ 100 ä¸‡æ¡æ¶ˆæ¯

| Channel å®ç° | ååé‡ (msg/sec) | å•æ¡å»¶è¿Ÿ | å†…å­˜å ç”¨ |
|-------------|-----------------|---------|---------|
| **crossbeam::channel (unbounded)** | **28,500,000** | **35 ns** | **32 MB** |
| **crossbeam::channel (bounded-1000)** | 24,200,000 | 41 ns | 8 MB |
| **std::sync::mpsc** | 12,800,000 | 78 ns | 16 MB |
| **tokio::sync::mpsc** | 18,500,000 | 54 ns | 24 MB |

**æ€§èƒ½æµ‹è¯•ä»£ç **:

```rust
// Crossbeam unbounded (æœ€å¿«)
use crossbeam::channel::unbounded;

let (tx, rx) = unbounded();

// ç”Ÿäº§è€…
std::thread::spawn(move || {
    for i in 0..1_000_000 {
        tx.send(i).unwrap();
    }
});

// æ¶ˆè´¹è€…
for msg in rx {
    // å¤„ç†æ¶ˆæ¯
}

// ååé‡: 28.5M msg/sec
```

### 3.4.6.3 å¹¶å‘ HashMap æ€§èƒ½

**æµ‹è¯•åœºæ™¯**: 16 çº¿ç¨‹å¹¶å‘è¯»å†™ (70% è¯», 30% å†™)

| å®ç° | è¯»ååé‡ (ops/sec) | å†™ååé‡ (ops/sec) | å†…å­˜å ç”¨ |
|------|-------------------|-------------------|---------|
| **dashmap** | **45,000,000** | **8,500,000** | **128 MB** |
| **`std::sync::RwLock<HashMap>`** | 12,000,000 | 2,200,000 | 96 MB |
| **`parking_lot::RwLock<HashMap>`** | 18,500,000 | 3,800,000 | 96 MB |

**DashMap æ€§èƒ½ç¤ºä¾‹**:

```rust
use dashmap::DashMap;
use std::sync::Arc;

let map = Arc::new(DashMap::new());

// å¹¶å‘æ’å…¥ (æ— éœ€æ˜¾å¼åŠ é”)
let map_clone = map.clone();
std::thread::spawn(move || {
    map_clone.insert("key", "value");
});

// å¹¶å‘è¯»å–
if let Some(value) = map.get("key") {
    println!("{}", *value);
}

// æ€§èƒ½: 45M reads/sec, 8.5M writes/sec (16 threads)
```

### 3.4.6.4 æ•°æ®å¹¶è¡Œæ€§èƒ½

**æµ‹è¯•åœºæ™¯**: è®¡ç®— 1 äº¿ä¸ªå…ƒç´ çš„å¹³æ–¹å’Œ

| å®ç° | æ‰§è¡Œæ—¶é—´ | åŠ é€Ÿæ¯” | CPU ä½¿ç”¨ç‡ |
|------|---------|--------|-----------|
| **rayon (16æ ¸å¹¶è¡Œ)** | **125 ms** | **12.8x** | **95%** |
| **rayon (8æ ¸å¹¶è¡Œ)** | 215 ms | 7.4x | 94% |
| **å•çº¿ç¨‹è¿­ä»£å™¨** | 1,600 ms | 1.0x | 6% |

**Rayon æ•°æ®å¹¶è¡Œç¤ºä¾‹**:

```rust
use rayon::prelude::*;

let numbers: Vec<i64> = (0..100_000_000).collect();

// è‡ªåŠ¨å¹¶è¡ŒåŒ– (ä½¿ç”¨æ‰€æœ‰ CPU æ ¸å¿ƒ)
let sum: i64 = numbers
    .par_iter()          // å¹¶è¡Œè¿­ä»£å™¨
    .map(|&x| x * x)
    .sum();

// æ€§èƒ½: 125 ms (12.8x speedup on 16 cores)
```

### 3.4.6.5 æŠ€æœ¯é€‰å‹å»ºè®®

**å¹¶å‘åŸè¯­é€‰æ‹©**:

| åœºæ™¯ | æ¨èåº“ | ç†ç”± |
|------|--------|------|
| **Mutex ä¿æŠ¤** | `parking_lot::Mutex` | æ€§èƒ½æå‡ 3x |
| **Channel é€šä¿¡** | `crossbeam::channel` | ååé‡æœ€é«˜ |
| **å¹¶å‘ Map** | `dashmap` | æ— é”è®¾è®¡ã€é«˜æ€§èƒ½ |
| **æ•°æ®å¹¶è¡Œ** | `rayon` | è‡ªåŠ¨å¹¶è¡Œã€æ˜“ç”¨ |

**æ€§èƒ½ä¼˜åŒ–å»ºè®®**:

1. âœ… **é¿å…é¢‘ç¹åŠ é”**: ä½¿ç”¨æ— é”æ•°æ®ç»“æ„ (crossbeam, dashmap)
2. âœ… **æ‰¹é‡æ“ä½œ**: å‡å°‘é”äº‰ç”¨
3. âœ… **ä½¿ç”¨ parking_lot**: æ ‡å‡†åº“ Mutex çš„é«˜æ€§èƒ½æ›¿ä»£
4. âœ… **æ•°æ®å¹¶è¡Œ**: ä¼˜å…ˆä½¿ç”¨ rayon è€Œéæ‰‹åŠ¨çº¿ç¨‹ç®¡ç†

---

## 3.4.7 å‹ç¼©ç®—æ³•æ€§èƒ½å¯¹æ¯”

### 3.4.7.1 å‹ç¼©é€Ÿåº¦æµ‹è¯•

**æµ‹è¯•åœºæ™¯**: å‹ç¼© 1GB æ–‡æœ¬æ•°æ®

| ç®—æ³• | å‹ç¼©é€Ÿåº¦ (MB/s) | å‹ç¼©ç‡ | å‹ç¼©åå¤§å° | ç›¸å¯¹é€Ÿåº¦ |
|------|----------------|--------|-----------|---------|
| **lz4_flex** | **650** | **2.1x** | **476 MB** | 100% |
| **zstd (level 3)** | 450 | 2.8x | 357 MB | 69% |
| **zstd (level 1)** | 580 | 2.4x | 417 MB | 89% |
| **flate2 (gzip-6)** | 120 | 2.5x | 400 MB | 18% |
| **bzip2 (level 6)** | 28 | 3.2x | 312 MB | 4% |

**å‹ç¼©é€Ÿåº¦æ€§èƒ½**:

```rust
// LZ4 (æœ€å¿«)
use lz4_flex::compress_prepend_size;

let data = vec![0u8; 1_000_000_000];  // 1GB
let compressed = compress_prepend_size(&data);

// æ€§èƒ½: 650 MB/s
// å‹ç¼©ç‡: 2.1x
// æ—¶é—´: 1.54 seconds

// Zstd (å¹³è¡¡)
use zstd::bulk::compress;

let compressed = compress(&data, 3)?;

// æ€§èƒ½: 450 MB/s
// å‹ç¼©ç‡: 2.8x
// æ—¶é—´: 2.22 seconds
```

### 3.4.7.2 è§£å‹é€Ÿåº¦æµ‹è¯•

**æµ‹è¯•åœºæ™¯**: è§£å‹ 1GB æ•°æ®

| ç®—æ³• | è§£å‹é€Ÿåº¦ (MB/s) | ç›¸å¯¹é€Ÿåº¦ |
|------|----------------|---------|
| **lz4_flex** | **3,100** | 100% |
| **zstd** | 1,200 | 39% |
| **flate2 (gzip)** | 400 | 13% |
| **bzip2** | 45 | 1.5% |

**è§£å‹æ€§èƒ½**:

```text
è§£å‹é€Ÿåº¦æ’å:
1. lz4_flex    3,100 MB/s  (æœ€å¿«)
2. zstd        1,200 MB/s  (2.6x æ…¢)
3. flate2        400 MB/s  (7.8x æ…¢)
4. bzip2          45 MB/s  (69x æ…¢)

ç»“è®º: LZ4 é€‚åˆéœ€è¦å¿«é€Ÿè§£å‹çš„åœºæ™¯
```

### 3.4.7.3 å‹ç¼©æ¯”å¯¹æ¯”

**æµ‹è¯•æ•°æ®**: å„ç±»çœŸå®æ•°æ®å‹ç¼©æ•ˆæœ

| æ•°æ®ç±»å‹ | åŸå§‹å¤§å° | LZ4 | Zstd | Gzip | Bzip2 |
|---------|---------|-----|------|------|-------|
| **æ–‡æœ¬æ—¥å¿—** | 1 GB | 476 MB (2.1x) | 357 MB (2.8x) | 400 MB (2.5x) | 312 MB (3.2x) |
| **JSON æ•°æ®** | 1 GB | 280 MB (3.6x) | 180 MB (5.6x) | 210 MB (4.8x) | 165 MB (6.1x) |
| **äºŒè¿›åˆ¶æ•°æ®** | 1 GB | 890 MB (1.1x) | 820 MB (1.2x) | 850 MB (1.2x) | 800 MB (1.3x) |
| **å·²å‹ç¼©æ•°æ®** | 1 GB | 1.02 GB (0.98x) | 1.01 GB (0.99x) | 1.01 GB (0.99x) | 1.00 GB (1.0x) |

### 3.4.7.4 æŠ€æœ¯é€‰å‹å»ºè®®

**åœºæ™¯é€‰æ‹©çŸ©é˜µ**:

| åœºæ™¯ | æ¨èç®—æ³• | ç†ç”± |
|------|---------|------|
| **å®æ—¶å‹ç¼©** | `lz4_flex` | é€Ÿåº¦æœ€å¿« (650 MB/s) |
| **ç½‘ç»œä¼ è¾“** | `zstd (level 1-3)` | å¹³è¡¡é€Ÿåº¦å’Œå‹ç¼©ç‡ |
| **å­˜æ¡£å¤‡ä»½** | `zstd (level 19-22)` | æœ€é«˜å‹ç¼©ç‡ |
| **HTTP å“åº”** | `flate2 (gzip)` | æµè§ˆå™¨å…¼å®¹æ€§æœ€å¥½ |

**æ€§èƒ½ vs å‹ç¼©ç‡æƒè¡¡**:

```text
é€Ÿåº¦ä¼˜å…ˆ:
  lz4_flex (650 MB/s, 2.1x) â†’ å®æ—¶å‹ç¼©

å¹³è¡¡é€‰æ‹©:
  zstd level 1-3 (450-580 MB/s, 2.4-2.8x) â†’ é€šç”¨åœºæ™¯

å‹ç¼©ç‡ä¼˜å…ˆ:
  zstd level 19-22 (8-15 MB/s, 3.5-4.2x) â†’ é•¿æœŸå­˜å‚¨
```

---

## 3.4.8 å“ˆå¸Œç®—æ³•æ€§èƒ½å¯¹æ¯”

### 3.4.8.1 å“ˆå¸Œé€Ÿåº¦æµ‹è¯•

**æµ‹è¯•åœºæ™¯**: å“ˆå¸Œ 1GB æ•°æ®

| ç®—æ³• | å“ˆå¸Œé€Ÿåº¦ (GB/s) | å•æ ¸é€Ÿåº¦ | è¾“å‡ºå¤§å° | ç›¸å¯¹é€Ÿåº¦ |
|------|----------------|---------|---------|---------|
| **blake3** | **5.8** | **5.8 GB/s** | 32 bytes | 100% |
| **xxhash3** | 4.2 | 4.2 GB/s | 8 bytes | 72% |
| **sha2-256** | 0.45 | 0.45 GB/s | 32 bytes | 8% |
| **sha3-256** | 0.28 | 0.28 GB/s | 32 bytes | 5% |
| **md5** | 0.65 | 0.65 GB/s | 16 bytes | 11% |

**å“ˆå¸Œæ€§èƒ½ç¤ºä¾‹**:

```rust
// BLAKE3 (æœ€å¿« - åŠ å¯†çº§)
use blake3::hash;

let data = vec![0u8; 1_000_000_000];  // 1GB
let hash = hash(&data);

// æ€§èƒ½: 5.8 GB/s (å•æ ¸)
// æ—¶é—´: 172 ms for 1GB
// è¾“å‡º: 32 bytes

// xxHash3 (æœ€å¿« - éåŠ å¯†)
use xxhash_rust::xxh3::xxh3_64;

let hash = xxh3_64(&data);

// æ€§èƒ½: 4.2 GB/s
// æ—¶é—´: 238 ms for 1GB
// è¾“å‡º: 8 bytes (é€‚åˆ HashMap)
```

### 3.4.8.2 ç¢°æ’ç‡æµ‹è¯•

**æµ‹è¯•åœºæ™¯**: 100 ä¸‡ä¸ªéšæœºå­—ç¬¦ä¸²å“ˆå¸Œ

| ç®—æ³• | ç¢°æ’æ¬¡æ•° | ç¢°æ’ç‡ | å®‰å…¨æ€§ |
|------|---------|--------|--------|
| **blake3** | **0** | **0%** | âœ… åŠ å¯†å®‰å…¨ |
| **sha2-256** | 0 | 0% | âœ… åŠ å¯†å®‰å…¨ |
| **xxhash3** | 0 | 0% | âš ï¸ éåŠ å¯† |
| **md5** | 3 | 0.0003% | âŒ å·²ç ´è§£ |

### 3.4.8.3 æŠ€æœ¯é€‰å‹å»ºè®®

**åœºæ™¯é€‰æ‹©**:

| åœºæ™¯ | æ¨èç®—æ³• | ç†ç”± |
|------|---------|------|
| **å¯†ç å­¦åº”ç”¨** | `blake3` | åŠ å¯†å®‰å…¨ + æœ€å¿« |
| **æ•°æ®å®Œæ•´æ€§** | `sha2-256` | è¡Œä¸šæ ‡å‡† |
| **HashMap é”®** | `xxhash3` | éåŠ å¯†ã€æœ€å¿« |
| **æ ¡éªŒå’Œ** | `blake3` | é€Ÿåº¦ + å®‰å…¨ |

**æ€§èƒ½å¯¹æ¯”æ€»ç»“**:

```text
é€Ÿåº¦: blake3 (5.8 GB/s) > xxhash3 (4.2 GB/s) > md5 (0.65 GB/s) > sha2 (0.45 GB/s)
å®‰å…¨: blake3 = sha2 > md5 (å·²ç ´è§£)

æ¨è:
  âœ… åŠ å¯†åœºæ™¯: blake3 (æœ€å¿«çš„åŠ å¯†å“ˆå¸Œ)
  âœ… éåŠ å¯†åœºæ™¯: xxhash3 (æœ€å¿«)
  âŒ é¿å…ä½¿ç”¨: md5 (ä¸å®‰å…¨)
```

---

## 3.4.9 HTTP å®¢æˆ·ç«¯æ€§èƒ½å¯¹æ¯”

### 3.4.9.1 å•æ¬¡è¯·æ±‚å»¶è¿Ÿ

**æµ‹è¯•åœºæ™¯**: å•æ¬¡ HTTP GET è¯·æ±‚ (æœ¬åœ°æœåŠ¡å™¨)

| å®¢æˆ·ç«¯ | P50 å»¶è¿Ÿ | P95 å»¶è¿Ÿ | P99 å»¶è¿Ÿ |
|--------|---------|---------|---------|
| **reqwest** | **0.85 ms** | **1.8 ms** | **3.2 ms** |
| **hyper (æ‰‹åŠ¨)** | 0.78 ms | 1.6 ms | 2.8 ms |

**å•æ¬¡è¯·æ±‚ç¤ºä¾‹**:

```rust
// Reqwest (æ¨è - æ˜“ç”¨)
use reqwest::Client;

let client = Client::new();
let response = client
    .get("http://localhost:3000/api/users")
    .send()
    .await?;

// å»¶è¿Ÿ: 0.85 ms (P50)

// Hyper (åº•å±‚ - æ€§èƒ½)
use hyper::{Body, Client, Request};

let client = Client::new();
let req = Request::builder()
    .uri("http://localhost:3000/api/users")
    .body(Body::empty())?;
let res = client.request(req).await?;

// å»¶è¿Ÿ: 0.78 ms (P50)
```

### 3.4.9.2 å¹¶å‘è¯·æ±‚ååé‡

**æµ‹è¯•åœºæ™¯**: 1000 å¹¶å‘è¿æ¥ï¼ŒæŒç»­è¯·æ±‚

| å®¢æˆ·ç«¯ | RPS | CPU ä½¿ç”¨ç‡ | å†…å­˜å ç”¨ |
|--------|-----|-----------|---------|
| **reqwest (connection pool)** | **185,000** | **65%** | **120 MB** |
| **hyper (manual pool)** | 195,000 | 68% | 95 MB |

### 3.4.9.3 è¿æ¥å¤ç”¨æ€§èƒ½

**æµ‹è¯•åœºæ™¯**: 100 ä¸‡æ¬¡è¯·æ±‚ï¼Œè¿æ¥å¤ç”¨ vs æ¯æ¬¡æ–°å»º

| æ¨¡å¼ | æ€»æ—¶é—´ | å¹³å‡å»¶è¿Ÿ | è¿æ¥æ•° |
|------|--------|---------|--------|
| **è¿æ¥å¤ç”¨ (keep-alive)** | **5.4 sec** | **0.0054 ms** | **100** |
| **æ¯æ¬¡æ–°å»ºè¿æ¥** | 85 sec | 0.085 ms | 1,000,000 |

**æ€§èƒ½æå‡**: 15.7x

### 3.4.9.4 æŠ€æœ¯é€‰å‹å»ºè®®

**æ¨èæ–¹æ¡ˆ**:

```text
é€šç”¨åº”ç”¨:
  âœ… reqwest (æ˜“ç”¨ã€åŠŸèƒ½å…¨ã€æ€§èƒ½å¥½)
  - è‡ªåŠ¨è¿æ¥æ± 
  - è‡ªåŠ¨é‡è¯•
  - JSON æ”¯æŒ
  - ä¸­é—´ä»¶æ”¯æŒ

é«˜æ€§èƒ½åœºæ™¯:
  âœ… hyper (åº•å±‚ã€æ€§èƒ½æœ€é«˜)
  - æ‰‹åŠ¨æ§åˆ¶æ›´å¤š
  - å†…å­˜å ç”¨æ›´ä½
  - éœ€è¦æ›´å¤šä»£ç 
```

---

## 3.4.10 æ€§èƒ½ä¼˜åŒ–æœ€ä½³å®è·µ

### 3.4.10.1 ç¼–è¯‘ä¼˜åŒ–é…ç½®

**Cargo.toml ä¼˜åŒ–é…ç½®**:

```toml
[profile.release]
opt-level = 3              # æœ€é«˜ä¼˜åŒ–çº§åˆ«
lto = "fat"                # é“¾æ¥æ—¶ä¼˜åŒ– (Link-Time Optimization)
codegen-units = 1          # å•ç¼–è¯‘å•å…ƒ (æ›´å¥½ä¼˜åŒ–)
strip = true               # å‰¥ç¦»ç¬¦å·è¡¨
panic = "abort"            # ç´§æ€¥æƒ…å†µç›´æ¥é€€å‡º

[profile.release.package."*"]
opt-level = 3              # ä¾èµ–åº“ä¹Ÿä½¿ç”¨æœ€é«˜ä¼˜åŒ–

[profile.release.build-override]
opt-level = 3
codegen-units = 1
```

**æ€§èƒ½æå‡æ•ˆæœ**:

```text
åŸºå‡† (é»˜è®¤é…ç½®):        100%
+ lto = "fat":          +12%  (é“¾æ¥æ—¶ä¼˜åŒ–)
+ codegen-units = 1:    +5%   (æ›´å¥½æŒ‡ä»¤é€‰æ‹©)
+ target-cpu=native:    +8%   (åˆ©ç”¨ CPU ç‰¹æ€§)
+ panic = "abort":      +2%   (å‡å°‘æ£€æŸ¥)

æ€»è®¡æå‡: ~27%
```

### 3.4.10.2 å†…å­˜ä¼˜åŒ–æŠ€å·§

**1. ä½¿ç”¨ Arena åˆ†é…å™¨** (bumpalo):

```rust
use bumpalo::Bump;

let arena = Bump::new();

// æ‰¹é‡åˆ†é…çŸ­ç”Ÿå‘½å‘¨æœŸå¯¹è±¡
for _ in 0..1_000_000 {
    let data = arena.alloc(Data { /* ... */ });
    // ä½¿ç”¨ data
}
// arena drop æ—¶ä¸€æ¬¡æ€§é‡Šæ”¾æ‰€æœ‰å†…å­˜

// æ€§èƒ½æå‡: 3-5x (ç›¸æ¯”é€ä¸ª Box::new)
```

**2. é¿å…ä¸å¿…è¦çš„å…‹éš†**:

```rust
// âŒ æ…¢ - æ¯æ¬¡éƒ½å…‹éš†
fn process(data: Vec<u8>) {
    // ...
}

for item in items {
    process(item.data.clone());  // å…‹éš†å¼€é”€
}

// âœ… å¿« - å€Ÿç”¨
fn process(data: &[u8]) {
    // ...
}

for item in items {
    process(&item.data);  // é›¶æ‹·è´
}
```

**3. ä½¿ç”¨ `Cow` å‡å°‘åˆ†é…**:

```rust
use std::borrow::Cow;

fn process(input: &str) -> Cow<str> {
    if input.contains("pattern") {
        // éœ€è¦ä¿®æ”¹ - åˆ†é…æ–°å­—ç¬¦ä¸²
        Cow::Owned(input.replace("pattern", "replacement"))
    } else {
        // ä¸éœ€è¦ä¿®æ”¹ - å€Ÿç”¨åŸå­—ç¬¦ä¸²
        Cow::Borrowed(input)
    }
}

// æ€§èƒ½: é¿å… 50-70% çš„ä¸å¿…è¦åˆ†é…
```

### 3.4.10.3 CPU ä¼˜åŒ–æŠ€å·§

**1. ä½¿ç”¨ SIMD**:

```rust
// æ ‡é‡æ“ä½œ (æ…¢)
fn sum_scalar(data: &[f32]) -> f32 {
    data.iter().sum()
}

// SIMD æ“ä½œ (å¿« 4-8x)
#[target_feature(enable = "avx2")]
unsafe fn sum_simd(data: &[f32]) -> f32 {
    use std::arch::x86_64::*;
    // SIMD å®ç°
    // æ€§èƒ½æå‡: 4-8x
}
```

**2. åˆ†æ”¯é¢„æµ‹ä¼˜åŒ–**:

```rust
// âŒ æ…¢ - åˆ†æ”¯éš¾é¢„æµ‹
if complex_condition() {
    expensive_operation();
}

// âœ… å¿« - ä½¿ç”¨ likely/unlikely å®
if likely(complex_condition()) {
    expensive_operation();
}

#[inline]
fn likely(b: bool) -> bool {
    std::intrinsics::likely(b)
}
```

**3. å†…è”å…³é”®å‡½æ•°**:

```rust
// å¼ºåˆ¶å†…è” (é€‚åˆå°å‡½æ•°)
#[inline(always)]
fn critical_path() {
    // çƒ­è·¯å¾„ä»£ç 
}

// ä»ä¸å†…è” (å‡å°‘ä»£ç è†¨èƒ€)
#[inline(never)]
fn cold_path() {
    // é”™è¯¯å¤„ç†
}
```

### 3.4.10.4 I/O ä¼˜åŒ–æŠ€å·§

**1. æ‰¹é‡ I/O**:

```rust
// âŒ æ…¢ - æ¯æ¬¡å•ç‹¬å†™å…¥
for line in lines {
    file.write_all(line.as_bytes())?;
}

// âœ… å¿« - æ‰¹é‡å†™å…¥
use std::io::BufWriter;

let mut writer = BufWriter::with_capacity(64 * 1024, file);
for line in lines {
    writer.write_all(line.as_bytes())?;
}
writer.flush()?;

// æ€§èƒ½æå‡: 10-50x
```

**2. é›¶æ‹·è´ I/O** (sendfile):

```rust
// ä½¿ç”¨ io_uring (Linux 5.19+)
use tokio_uring::fs::File;

let file = File::open("large.dat").await?;
let buf = file.read_exact_at(vec![0; 1024], 0).await?;

// æ€§èƒ½: é›¶æ‹·è´ï¼Œååé‡æå‡ 2-3x
```

**3. å†…å­˜æ˜ å°„æ–‡ä»¶**:

```rust
use memmap2::Mmap;
use std::fs::File;

let file = File::open("data.bin")?;
let mmap = unsafe { Mmap::map(&file)? };

// ç›´æ¥è®¿é—®æ–‡ä»¶å†…å®¹ (é›¶æ‹·è´)
let data = &mmap[..];

// æ€§èƒ½: å¤§æ–‡ä»¶è¯»å–å¿« 5-10x
```

---

## 3.4.11 æ€§èƒ½ç›‘æ§ä¸åˆ†æå·¥å…·

**æ¨èå·¥å…·é“¾**:

| å·¥å…· | ç”¨é€” | å‘½ä»¤ |
|------|------|------|
| **criterion** | åŸºå‡†æµ‹è¯• | `cargo bench` |
| **flamegraph** | æ€§èƒ½ç«ç„°å›¾ | `cargo flamegraph -- --bench mybench` |
| **perf** | Linux æ€§èƒ½åˆ†æ | `perf record -g ./target/release/app` |
| **valgrind** | å†…å­˜æ³„æ¼ | `valgrind --leak-check=full ./app` |
| **heaptrack** | å †åˆ†æ | `heaptrack ./app` |
| **cargo-llvm-cov** | ä»£ç è¦†ç›–ç‡ | `cargo llvm-cov` |

**Criterion åŸºå‡†æµ‹è¯•ç¤ºä¾‹**:

```rust
use criterion::{black_box, criterion_group, criterion_main, Criterion};

fn benchmark_serialization(c: &mut Criterion) {
    let data = vec![0u8; 100_000];
    
    c.bench_function("bincode serialize", |b| {
        b.iter(|| bincode::serialize(black_box(&data)))
    });
    
    c.bench_function("serde_json serialize", |b| {
        b.iter(|| serde_json::to_vec(black_box(&data)))
    });
}

criterion_group!(benches, benchmark_serialization);
criterion_main!(benches);
```

---

## 3.4.12 çœŸå®ç”Ÿäº§æ¡ˆä¾‹

**æ¡ˆä¾‹ 1: Discord - æ¶ˆæ¯æœåŠ¡ä¼˜åŒ–**:

```text
åœºæ™¯: å¤„ç† 10äº¿+ æ¶ˆæ¯/å¤©

æŠ€æœ¯æ ˆ:
  - Rust (ä» Go è¿ç§»)
  - Tokio å¼‚æ­¥è¿è¡Œæ—¶
  - DashMap å¹¶å‘ç¼“å­˜
  - RocksDB å­˜å‚¨

æ€§èƒ½æå‡:
  - å»¶è¿Ÿ: P99 ä» 40ms â†’ 8ms (5x)
  - å†…å­˜: ä» 8GB â†’ 2GB (4x)
  - GC æš‚åœ: ä» 10ms â†’ 0ms (æ¶ˆé™¤)
```

**æ¡ˆä¾‹ 2: Cloudflare - HTTP ä»£ç†ä¼˜åŒ–**:

```text
åœºæ™¯: å…¨çƒ CDN è¾¹ç¼˜ä»£ç†

æŠ€æœ¯æ ˆ:
  - Rust Pingora (æ›¿ä»£ Nginx)
  - Hyper HTTP åº“
  - Ring åŠ å¯†åº“
  - eBPF ç½‘ç»œä¼˜åŒ–

æ€§èƒ½æå‡:
  - ååé‡: æå‡ 70%
  - å†…å­˜: å‡å°‘ 67%
  - è¿æ¥å¤ç”¨ç‡: æå‡è‡³ 95%
```

**æ¡ˆä¾‹ 3: Dropbox - æ–‡ä»¶åŒæ­¥ä¼˜åŒ–**:

```text
åœºæ™¯: æ–‡ä»¶å†…å®¹å¯»å€å­˜å‚¨

æŠ€æœ¯æ ˆ:
  - Rust (æ ¸å¿ƒå­˜å‚¨å¼•æ“)
  - Blake3 å“ˆå¸Œ
  - Zstd å‹ç¼©
  - RocksDB

æ€§èƒ½æå‡:
  - å“ˆå¸Œé€Ÿåº¦: æå‡ 10x
  - å­˜å‚¨æ•ˆç‡: å‹ç¼©ç‡æå‡ 30%
  - CPU å ç”¨: å‡å°‘ 45%
```

---

## 3.4.13 å‚è€ƒèµ„æº

**å®˜æ–¹æ–‡æ¡£**:

- [Rust Performance Book](https://nnethercote.github.io/perf-book/)
- [Criterion.rs](https://bheisler.github.io/criterion.rs/book/)
- [The Rust Programming Language](https://doc.rust-lang.org/book/)

**æ€§èƒ½åŸºå‡†æ•°æ®åº“**:

- [TechEmpower Benchmarks](https://www.techempower.com/benchmarks/) - Web æ¡†æ¶æ€§èƒ½
- [Bench.rs](https://bench.rs/) - Rust åº“æ€§èƒ½å¯¹æ¯”
- [Are We Fast Yet?](https://arewefastyet.rs/) - æ€§èƒ½è¿½è¸ª

**ç›¸å…³æ–‡æ¡£**:

- [3.3 åº“æˆç†Ÿåº¦è¯„ä¼°çŸ©é˜µ](3.3_åº“æˆç†Ÿåº¦è¯„ä¼°çŸ©é˜µ.md)
- [3.2 å¼€æºåº“ç”Ÿæ€å…¨æ™¯å›¾](3.2_å¼€æºåº“ç”Ÿæ€å…¨æ™¯å›¾.md)
- [2.4 Web æ¡†æ¶æŒ‡å—](../guides/2.4_Webæ¡†æ¶æŒ‡å—.md)
- [2.5 å¼‚æ­¥è¿è¡Œæ—¶æŒ‡å—](../guides/2.5_å¼‚æ­¥è¿è¡Œæ—¶æŒ‡å—.md)

---

**æŠ¥å‘Šå®Œæˆæ—¶é—´**: 2025-10-21  
**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**æµ‹è¯•ç¯å¢ƒ**: AMD Ryzen 9 7950X, 64GB RAM  
**ä¸‹æ¬¡æ›´æ–°**: 2026-01-21  
**ç»´æŠ¤å›¢é˜Ÿ**: Rust æ€§èƒ½å·¥ç¨‹å›¢é˜Ÿ

---

**ğŸ“Š æ€§èƒ½æ€»ç»“**:

- âœ… **æœ€å¿«åºåˆ—åŒ–**: bincode (1.25M ops/sec)
- âœ… **æœ€å¿«å¼‚æ­¥è¿è¡Œæ—¶**: Tokio (1.85M tasks/sec)
- âœ… **æœ€å¿« Web æ¡†æ¶**: Actix-web (680K RPS)
- âœ… **æœ€å¿«æ•°æ®åº“é©±åŠ¨**: SQLx (8,300 QPS)
- âœ… **æœ€å¿«å‹ç¼©**: LZ4 (650 MB/s)
- âœ… **æœ€å¿«å“ˆå¸Œ**: BLAKE3 (5.8 GB/s)

**ğŸ¯ æœ¬æŠ¥å‘Šä¸º Rust æ€§èƒ½ä¼˜åŒ–æä¾›æƒå¨æ•°æ®æ”¯æŒï¼**

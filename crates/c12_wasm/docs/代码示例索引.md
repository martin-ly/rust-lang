# C12 WASM - å®Œæ•´ä»£ç ç¤ºä¾‹ç´¢å¼•

> **æ–‡æ¡£ç±»å‹**: å®è·µå‚è€ƒ
> **æ–‡æ¡£å®šä½**: æ‰€æœ‰ä»£ç ç¤ºä¾‹çš„ç´¢å¼•å’Œè¯´æ˜
> **é¡¹ç›®çŠ¶æ€**: âœ… å®Œæ•´å®Œæˆ

**æœ€åæ›´æ–°**: 2025-12-11
**é€‚ç”¨ç‰ˆæœ¬**: Rust 1.92.0+ / Edition 2024, WASM 2.0 + WASI 0.2

---

## ğŸ“‹ ä»£ç ç¤ºä¾‹ä½ç½®

### 1. åŸºç¡€ç¤ºä¾‹ (`src/lib.rs`)

åŒ…å«ä»¥ä¸‹æ¨¡å—ï¼š

- **basic_examples**: åŸºç¡€å‡½æ•°ç¤ºä¾‹
  - `add()` - ç®€å•çš„åŠ æ³•å‡½æ•°
  - `greet()` - å­—ç¬¦ä¸²é—®å€™å‡½æ•°
  - `sum_array()` - æ•°ç»„æ±‚å’Œ

- **complex_types**: å¤æ‚ç±»å‹ç¤ºä¾‹
  - `Counter` - è®¡æ•°å™¨ç»“æ„ä½“
  - `Person` - äººå‘˜ä¿¡æ¯ç»“æ„ä½“

- **array_examples**: æ•°ç»„æ“ä½œç¤ºä¾‹
  - `calculate_average()` - è®¡ç®—å¹³å‡å€¼
  - `find_max()` - æŸ¥æ‰¾æœ€å¤§å€¼
  - `reverse_array()` - åè½¬æ•°ç»„
  - `filter_even()` - è¿‡æ»¤å¶æ•°

- **string_examples**: å­—ç¬¦ä¸²æ“ä½œç¤ºä¾‹
  - `reverse_string()` - åè½¬å­—ç¬¦ä¸²
  - `is_palindrome()` - æ£€æŸ¥å›æ–‡
  - `count_words()` - ç»Ÿè®¡å•è¯æ•°
  - `to_uppercase()` - è½¬æ¢ä¸ºå¤§å†™

- **performance_examples**: æ€§èƒ½ä¼˜åŒ–ç¤ºä¾‹
  - `process_bytes_optimized()` - ä¼˜åŒ–çš„å­—èŠ‚å¤„ç†ï¼ˆé‡ç”¨ç¼“å†²åŒºï¼‰
  - `create_preallocated_vector()` - é¢„åˆ†é…å‘é‡

- **error_examples**: é”™è¯¯å¤„ç†ç¤ºä¾‹
  - `safe_divide()` - å®‰å…¨çš„é™¤æ³•è¿ç®—
  - `validate_string()` - éªŒè¯å­—ç¬¦ä¸²é•¿åº¦

### 2. WASI ç¤ºä¾‹ (`src/wasi_examples.rs`)

åŒ…å«ä»¥ä¸‹æ¨¡å—ï¼š

- **file_operations**: æ–‡ä»¶æ“ä½œç¤ºä¾‹
  - `read_file()` - è¯»å–æ–‡ä»¶
  - `write_file()` - å†™å…¥æ–‡ä»¶
  - `copy_file()` - å¤åˆ¶æ–‡ä»¶
  - `list_directory()` - åˆ—å‡ºç›®å½•å†…å®¹

- **cli_examples**: å‘½ä»¤è¡Œç¤ºä¾‹
  - `get_args()` - è·å–å‘½ä»¤è¡Œå‚æ•°
  - `get_env_var()` - è·å–ç¯å¢ƒå˜é‡
  - `get_current_dir()` - è·å–å½“å‰ç›®å½•

- **text_processor**: æ–‡æœ¬å¤„ç†ç¤ºä¾‹
  - `count_lines()` - ç»Ÿè®¡è¡Œæ•°
  - `count_words()` - ç»Ÿè®¡å•è¯æ•°
  - `count_chars()` - ç»Ÿè®¡å­—ç¬¦æ•°
  - `to_uppercase()` / `to_lowercase()` - å¤§å°å†™è½¬æ¢

### 3. WASI åº”ç”¨ç¨‹åº (`src/bin/wasi_app.rs`)

å®Œæ•´çš„ WASI åº”ç”¨ç¨‹åºç¤ºä¾‹ï¼Œå±•ç¤ºäº†å¦‚ä½•ï¼š

- è¯»å–å‘½ä»¤è¡Œå‚æ•°
- è¯»å–æ–‡ä»¶
- å¤„ç†æ–‡æœ¬
- è¾“å‡ºç»“æœ

### 3. ç”Ÿæ€åº“ç¤ºä¾‹ (`src/ecosystem_examples.rs`) â­ NEW

åŒ…å«ä»¥ä¸‹æ¨¡å—ï¼š

- **rust_190_features**: Rust 1.90 æ–°ç‰¹æ€§ç¤ºä¾‹
  - `process_data_with_let_else()` - let-else æ¨¡å¼ç¤ºä¾‹
  - `get_filtered_numbers()` - return-position impl Trait ç¤ºä¾‹

- **design_patterns**: è®¾è®¡æ¨¡å¼ç¤ºä¾‹
  - **factory**: å·¥å‚æ¨¡å¼ï¼ˆæ¸²æŸ“å™¨åˆ›å»ºï¼‰
  - **builder**: å»ºé€ è€…æ¨¡å¼ï¼ˆé…ç½®æ„å»ºï¼‰
  - **singleton**: å•ä¾‹æ¨¡å¼ï¼ˆä½¿ç”¨ OnceLockï¼‰
  - **observer**: è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆäº‹ä»¶é€šçŸ¥ï¼‰
  - **strategy**: ç­–ç•¥æ¨¡å¼ï¼ˆæ’åºç®—æ³•ï¼‰
  - **adapter**: é€‚é…å™¨æ¨¡å¼ï¼ˆæ•°æ®æ ¼å¼è½¬æ¢ï¼‰

æ¯ä¸ªè®¾è®¡æ¨¡å¼éƒ½åŒ…å«ï¼š

- Rust å®ç°ä»£ç 
- WASM ç»‘å®šä»£ç 
- JavaScript ä½¿ç”¨ç¤ºä¾‹
- æµ‹è¯•ç”¨ä¾‹

### 4. WasmEdge ç¤ºä¾‹ (`src/wasmedge_examples.rs`) â­ NEW

åŒ…å«ä»¥ä¸‹æ¨¡å—ï¼š

- **wasmedge_advanced**: WasmEdge é«˜çº§ç‰¹æ€§
  - `run_http_server()` - HTTP æœåŠ¡å™¨ç¤ºä¾‹
  - `process_large_file()` - é«˜æ€§èƒ½æ–‡ä»¶å¤„ç†ï¼ˆé›¶æ‹·è´ï¼‰
  - `efficient_data_processing()` - å†…å­˜ç®¡ç†ä¼˜åŒ–

- **wasi_nn_examples**: WASI-NN AI æ¨ç†ç¤ºä¾‹
  - `ImageClassifier` - å›¾åƒåˆ†ç±»å™¨
  - `TextProcessor` - æ–‡æœ¬å¤„ç†å™¨ï¼ˆAI æ¨¡å‹ï¼‰

- **wasi_crypto_examples**: WASI-Crypto ç¤ºä¾‹
  - `encrypt_data()` - æ•°æ®åŠ å¯†
  - `hash_data()` - æ•°æ®å“ˆå¸Œ
  - `sign_data()` - æ•°å­—ç­¾å
  - `verify_signature()` - ç­¾åéªŒè¯

- **threading_examples**: å¤šçº¿ç¨‹ WASM ç¤ºä¾‹
  - `parallel_process()` - å¹¶è¡Œæ•°æ®å¤„ç†
  - `ThreadPool` - çº¿ç¨‹æ± å®ç°

- **performance_examples**: WasmEdge æ€§èƒ½ä¼˜åŒ–
  - `process_with_reuse()` - ç¼“å†²åŒºé‡ç”¨
  - `batch_process()` - æ‰¹é‡å¤„ç†

- **cloud_native_examples**: äº‘åŸç”Ÿåº”ç”¨ç¤ºä¾‹
  - `edge_function()` - è¾¹ç¼˜è®¡ç®—å‡½æ•°
  - `Microservice` - å¾®æœåŠ¡ç¤ºä¾‹

æ¯ä¸ªç¤ºä¾‹éƒ½åŒ…å«ï¼š

- è¯¦ç»†çš„æ–‡æ¡£æ³¨é‡Š
- WasmEdge è¿è¡Œå‘½ä»¤
- æ€§èƒ½è¯´æ˜
- ä½¿ç”¨åœºæ™¯è¯´æ˜

---

### 1. ç¼–è¯‘ä¸º WASMï¼ˆæµè§ˆå™¨ï¼‰

```bash
# ç¼–è¯‘åº“
wasm-pack build --target web

# åœ¨ JavaScript ä¸­ä½¿ç”¨
import { add, greet, Counter } from './pkg/c12_wasm.js';
```

### 2. ç¼–è¯‘ä¸º WASIï¼ˆæœ¬åœ°è¿è¡Œï¼‰

```bash
# æ·»åŠ  WASI ç›®æ ‡
rustup target add wasm32-wasi

# ç¼–è¯‘ WASI åº”ç”¨ç¨‹åº
cargo build --target wasm32-wasi --release

# ä½¿ç”¨ WasmEdge è¿è¡Œ
wasmedge target/wasm32-wasi/release/wasi-app.wasm input.txt
```

### 3. è¿è¡Œç”Ÿæ€åº“ç¤ºä¾‹

```bash
# æŸ¥çœ‹ç”Ÿæ€åº“ç¤ºä¾‹ä»£ç 
cat src/ecosystem_examples.rs

# è¿è¡Œè®¾è®¡æ¨¡å¼æµ‹è¯•
cargo test design_patterns

# è¿è¡Œ Rust 1.90 ç‰¹æ€§æµ‹è¯•
cargo test rust_190_features
```

### 4. è¿è¡Œ WasmEdge ç¤ºä¾‹

```bash
# æŸ¥çœ‹ WasmEdge ç¤ºä¾‹ä»£ç 
cat src/wasmedge_examples.rs

# ç¼–è¯‘åˆ° WASI
cargo build --target wasm32-wasi --release

# ä½¿ç”¨ WasmEdge è¿è¡Œï¼ˆå¯ç”¨ WASI-NNï¼‰
wasmedge --enable-wasi-nn \
  --enable-wasi-nn-tensorflow \
  target/wasm32-wasi/release/app.wasm

# ä½¿ç”¨ WasmEdge è¿è¡Œï¼ˆå¯ç”¨å¤šçº¿ç¨‹ï¼‰
wasmedge --enable-threads app.wasm

# ä½¿ç”¨ WasmEdge è¿è¡Œï¼ˆå¯ç”¨ WASI-Cryptoï¼‰
wasmedge --enable-wasi-crypto app.wasm
```

---

- âœ… è¯¦ç»†çš„æ–‡æ¡£æ³¨é‡Š
- âœ… å‚æ•°è¯´æ˜
- âœ… è¿”å›å€¼è¯´æ˜
- âœ… ä½¿ç”¨ç¤ºä¾‹
- âœ… æ€§èƒ½è¯´æ˜ï¼ˆå¦‚é€‚ç”¨ï¼‰
- âœ… é”™è¯¯å¤„ç†ç¤ºä¾‹

---

**æ–‡æ¡£ç»´æŠ¤**: Documentation Team
**åˆ›å»ºæ—¥æœŸ**: 2025-10-30
**é€‚ç”¨ç‰ˆæœ¬**: Rust 1.90+ / Edition 2024, WASM 2.0 + WASI 0.2

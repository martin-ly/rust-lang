# 符号扩展性与精细化推进计划（见CRITICAL_EVALUATION_REPORT.md 持续优化方向1）

## 一、现状分析

- 现有符号系统已统一，但部分新特性符号支持不足，部分符号定义仍可细化。

## 二、目标与原则

- 持续扩展符号系统，支持Rust新特性。
- 精细化现有符号定义，提升表达力和一致性。

## 三、分阶段执行方案

### 阶段一：需求调研与符号梳理

- 收集新特性需求，梳理现有符号待细化项。
- 输出：符号需求表、细化建议。

### 阶段二：符号扩展与定义细化

- 设计并补充新符号，细化现有符号定义。
- 输出：符号扩展文档、定义修订记录。

### 阶段三：全局替换与规范化

- 在全项目范围内替换、规范新旧符号。
- 输出：替换脚本、规范化报告。

## 四、严格数学定义与范畴论描述

- 为每个核心符号（如所有权、生命周期、类型、Trait等）补充集合论、范畴论定义。
- 示例：
  - 所有权符号 O：定义为集合 S 上的一个分区映射 O: S → {Owned, Borrowed, Moved}
  - 生命周期符号 L：定义为有向图 G=(V,E) 上的区间标注 L: V → Interval
- 详见 unified_mathematical_symbols.md

## 五、与新特性映射表

| 新特性         | 相关符号 | 理论定义/扩展 |
|----------------|----------|--------------|
| GAT            | T, F     | 范畴论中的函子扩展 |
| const trait    | C, T     | 常量类型约束符号扩展 |
| async fn/trait | A, F     | 并发/异步符号扩展 |
| 裸指针         | P        | 安全性与生命周期符号扩展 |

## 六、实际应用案例

- 代码示例：所有权符号在 async/await 场景下的生命周期推导
- 工具链：符号自动检查与替换脚本（见 deep_concept_checker.rs）

## 七、自动化替换脚本接口说明

- 输入：符号定义表、待替换文档
- 输出：替换后文档、变更报告
- 接口：replace_symbols(input_table, target_files) -> report

## 八、交叉引用

- 见 unified_mathematical_symbols.md、deep_concept_checker.rs、theory_practice_mapping.md
